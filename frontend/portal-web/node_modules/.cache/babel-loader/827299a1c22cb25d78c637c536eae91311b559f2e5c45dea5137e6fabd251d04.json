{"ast":null,"code":"import _objectSpread from\"C:/Users/Asus/Documents/GitHub/proyecto-3-arquitectura/frontend/portal-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{Box,Typography,Card,CardContent,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,Chip,Alert,Snackbar,CircularProgress,TextField,FormControl,InputLabel,Select,MenuItem,IconButton,Tooltip,Stack,Divider,Dialog,DialogTitle,DialogContent,DialogActions,Button}from'@mui/material';import{Notifications as NotificationsIcon,Search as SearchIcon,FilterList as FilterListIcon,Visibility as VisibilityIcon,Refresh as RefreshIcon,Email as EmailIconSmall,Phone as PhoneIconSmall}from'@mui/icons-material';import{useApp}from'../contexts/AppContext';import{notificacionesService}from'../services/notificacionesService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const tiposNotificacion=[{value:'confirmacion',label:'Confirmación de Cita',color:'success'},{value:'cancelacion',label:'Cancelación de Cita',color:'error'},{value:'modificacion',label:'Modificación de Cita',color:'warning'},{value:'recordatorio',label:'Recordatorio de Cita',color:'info'},{value:'general',label:'Notificación General',color:'default'}];const canalesNotificacion=[{value:'EMAIL',label:'Email',icon:EmailIconSmall},{value:'SMS',label:'SMS',icon:PhoneIconSmall}];const estadosNotificacion=[{value:'PENDIENTE',label:'Pendiente',color:'warning'},{value:'ENVIADA',label:'Enviada',color:'success'},{value:'ERROR',label:'Error',color:'error'}];export default function Notificaciones(){const{state,dispatch}=useApp();const[loading,setLoading]=useState(false);const[searchTerm,setSearchTerm]=useState('');const[tipoFilter,setTipoFilter]=useState('');const[canalFilter,setCanalFilter]=useState('');const[estadoFilter,setEstadoFilter]=useState('');const[snackbar,setSnackbar]=useState({open:false,message:'',severity:'success'});const[openDetailDialog,setOpenDetailDialog]=useState(false);const[selectedNotificacion,setSelectedNotificacion]=useState(null);const[notificaciones,setNotificaciones]=useState([]);const loadNotificaciones=useCallback(async()=>{try{setLoading(true);const response=await notificacionesService.getAllNotificaciones();if(response.success){setNotificaciones(response.data);dispatch({type:'SET_NOTIFICACIONES',payload:response.data});console.log('📧 NOTIFICACIONES - Datos cargados del backend:',response.data);}else{showSnackbar('Error al cargar notificaciones','error');}}catch(error){console.error('📧 NOTIFICACIONES - Error al cargar:',error);showSnackbar('Error al cargar notificaciones','error');}finally{setLoading(false);}},[]);useEffect(()=>{loadNotificaciones();},[loadNotificaciones]);const showSnackbar=(message,severity)=>{setSnackbar({open:true,message,severity});};const getTipoLabel=tipo=>{const tipoObj=tiposNotificacion.find(t=>t.value===tipo);return tipoObj?tipoObj.label:tipo;};const getTipoColor=tipo=>{const tipoObj=tiposNotificacion.find(t=>t.value===tipo);return tipoObj?tipoObj.color:'default';};const getCanalIcon=canal=>{const canalObj=canalesNotificacion.find(c=>c.value===canal);return canalObj?canalObj.icon:EmailIconSmall;};const getCanalLabel=canal=>{const canalObj=canalesNotificacion.find(c=>c.value===canal);return canalObj?canalObj.label:canal;};const getEstadoColor=estado=>{const estadoObj=estadosNotificacion.find(e=>e.value===estado);return estadoObj?estadoObj.color:'default';};const getEstadoLabel=estado=>{const estadoObj=estadosNotificacion.find(e=>e.value===estado);return estadoObj?estadoObj.label:estado;};const getPacienteNombre=pacienteId=>{if(!pacienteId)return'N/A';const paciente=state.pacientes.find(p=>p.id===pacienteId);return paciente?\"\".concat(paciente.nombre,\" \").concat(paciente.apellido):'N/A';};const getMedicoNombre=medicoId=>{if(!medicoId)return'N/A';const medico=state.medicos.find(m=>m.id===medicoId);return medico?\"Dr. \".concat(medico.nombre,\" \").concat(medico.apellido):'N/A';};const filteredNotificaciones=notificaciones.filter(notif=>{const matchesSearch=notif.contenido.toLowerCase().includes(searchTerm.toLowerCase())||notif.destinatario.toLowerCase().includes(searchTerm.toLowerCase())||getTipoLabel(notif.tipo).toLowerCase().includes(searchTerm.toLowerCase());const matchesTipo=tipoFilter===''||notif.tipo===tipoFilter;const matchesCanal=canalFilter===''||notif.canal===canalFilter;const matchesEstado=estadoFilter===''||notif.estado===estadoFilter;return matchesSearch&&matchesTipo&&matchesCanal&&matchesEstado;});const getEstadisticasNotificaciones=()=>{const total=notificaciones.length;const pendientes=notificaciones.filter(n=>n.estado==='PENDIENTE').length;const enviadas=notificaciones.filter(n=>n.estado==='ENVIADO').length;const errores=notificaciones.filter(n=>n.estado==='ERROR').length;const emails=notificaciones.filter(n=>n.canal==='EMAIL').length;const sms=notificaciones.filter(n=>n.canal==='SMS').length;return{total,pendientes,enviadas,errores,emails,sms};};const stats=getEstadisticasNotificaciones();const handleVerDetalle=notificacion=>{setSelectedNotificacion(notificacion);setOpenDetailDialog(true);};const handleReenviar=async notificacion=>{try{setLoading(true);// En un sistema real, aquí se haría la llamada al servicio\n// await notificacionesService.reenviarNotificacion(notificacion.id);\n// Simulamos el reenvío\nawait new Promise(resolve=>setTimeout(resolve,1000));// Actualizamos el estado local\nconst notifsActualizadas=notificaciones.map(n=>n.id===notificacion.id?_objectSpread(_objectSpread({},n),{},{estado:'PENDIENTE',created_at:new Date().toISOString()}):n);setNotificaciones(notifsActualizadas);showSnackbar('Notificación enviada para reenvío','success');}catch(error){showSnackbar('Error al reenviar notificación','error');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:3},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",sx:{display:'flex',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsx(NotificationsIcon,{color:\"primary\"}),\"Sistema de Notificaciones\"]}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(RefreshIcon,{}),onClick:loadNotificaciones,disabled:loading,children:\"Actualizar\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexWrap:'wrap',gap:2,mb:3},children:[/*#__PURE__*/_jsx(Card,{sx:{textAlign:'center',bgcolor:'primary.light',color:'white',minWidth:120,flex:1},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.total}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Total\"})]})}),/*#__PURE__*/_jsx(Card,{sx:{textAlign:'center',bgcolor:'warning.light',color:'white',minWidth:120,flex:1},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.pendientes}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Pendientes\"})]})}),/*#__PURE__*/_jsx(Card,{sx:{textAlign:'center',bgcolor:'success.light',color:'white',minWidth:120,flex:1},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.enviadas}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Enviadas\"})]})}),/*#__PURE__*/_jsx(Card,{sx:{textAlign:'center',bgcolor:'error.light',color:'white',minWidth:120,flex:1},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.errores}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Errores\"})]})}),/*#__PURE__*/_jsx(Card,{sx:{textAlign:'center',bgcolor:'info.light',color:'white',minWidth:120,flex:1},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.emails}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Emails\"})]})}),/*#__PURE__*/_jsx(Card,{sx:{textAlign:'center',bgcolor:'secondary.light',color:'white',minWidth:120,flex:1},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.sms}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"SMS\"})]})})]}),/*#__PURE__*/_jsx(Card,{sx:{mb:3},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexWrap:'wrap',gap:2,alignItems:'center'},children:[/*#__PURE__*/_jsx(TextField,{placeholder:\"Buscar por contenido, destinatario o tipo...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),InputProps:{startAdornment:/*#__PURE__*/_jsx(SearchIcon,{sx:{mr:1,color:'text.secondary'}})},sx:{flex:1,minWidth:300}}),/*#__PURE__*/_jsxs(FormControl,{sx:{minWidth:150},children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Tipo\"}),/*#__PURE__*/_jsxs(Select,{value:tipoFilter,label:\"Tipo\",onChange:e=>setTipoFilter(e.target.value),startAdornment:/*#__PURE__*/_jsx(FilterListIcon,{sx:{mr:1,color:'text.secondary'}}),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"Todos los tipos\"}),tiposNotificacion.map(tipo=>/*#__PURE__*/_jsx(MenuItem,{value:tipo.value,children:tipo.label},tipo.value))]})]}),/*#__PURE__*/_jsxs(FormControl,{sx:{minWidth:120},children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Canal\"}),/*#__PURE__*/_jsxs(Select,{value:canalFilter,label:\"Canal\",onChange:e=>setCanalFilter(e.target.value),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"Todos\"}),canalesNotificacion.map(canal=>/*#__PURE__*/_jsx(MenuItem,{value:canal.value,children:canal.label},canal.value))]})]}),/*#__PURE__*/_jsxs(FormControl,{sx:{minWidth:120},children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Estado\"}),/*#__PURE__*/_jsxs(Select,{value:estadoFilter,label:\"Estado\",onChange:e=>setEstadoFilter(e.target.value),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"Todos\"}),estadosNotificacion.map(estado=>/*#__PURE__*/_jsx(MenuItem,{value:estado.value,children:estado.label},estado.value))]})]})]})})}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(TableContainer,{component:Paper,elevation:2,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{sx:{bgcolor:'primary.main'},children:[/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"ID\"}),/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"Tipo\"}),/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"Canal\"}),/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"Destinatario\"}),/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"Estado\"}),/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"Fecha\"}),/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:loading?/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsxs(TableCell,{colSpan:7,align:\"center\",sx:{py:4},children:[/*#__PURE__*/_jsx(CircularProgress,{}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{mt:1},children:\"Cargando notificaciones...\"})]})}):filteredNotificaciones.length===0?/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{colSpan:7,align:\"center\",sx:{py:4},children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",children:searchTerm||tipoFilter||canalFilter||estadoFilter?'No se encontraron notificaciones con los filtros aplicados':'No hay notificaciones registradas'})})}):filteredNotificaciones.map(notif=>/*#__PURE__*/_jsxs(TableRow,{hover:true,children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Chip,{label:\"#\".concat(notif.id),size:\"small\",color:\"primary\",icon:/*#__PURE__*/_jsx(NotificationsIcon,{})})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Chip,{label:getTipoLabel(notif.tipo),color:getTipoColor(notif.tipo),size:\"small\",variant:\"filled\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:1,children:[/*#__PURE__*/React.createElement(getCanalIcon(notif.canal),{color:'action',fontSize:'small'}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:getCanalLabel(notif.canal)})]})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",noWrap:true,sx:{maxWidth:200},children:notif.destinatario})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Chip,{label:getEstadoLabel(notif.estado),color:getEstadoColor(notif.estado),size:\"small\",variant:\"filled\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:new Date(notif.created_at).toLocaleDateString('es-ES',{day:'2-digit',month:'2-digit',year:'numeric',hour:'2-digit',minute:'2-digit'})})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:0.5},children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Ver Detalle\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>handleVerDetalle(notif),color:\"primary\",children:/*#__PURE__*/_jsx(VisibilityIcon,{})})}),notif.estado==='ERROR'&&/*#__PURE__*/_jsx(Tooltip,{title:\"Reenviar\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>handleReenviar(notif),color:\"warning\",disabled:loading,children:/*#__PURE__*/_jsx(RefreshIcon,{})})})]})})]},notif.id))})]})})})}),/*#__PURE__*/_jsxs(Dialog,{open:openDetailDialog,onClose:()=>setOpenDetailDialog(false),maxWidth:\"md\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:1,children:[/*#__PURE__*/_jsx(NotificationsIcon,{color:\"primary\"}),\"Detalle de Notificaci\\xF3n\"]})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(DialogContent,{children:selectedNotificacion&&/*#__PURE__*/_jsx(Box,{sx:{mt:1},children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexWrap:'wrap',gap:2},children:[/*#__PURE__*/_jsxs(Box,{sx:{minWidth:200,flex:'1 1 200px'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"ID\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",sx:{mb:2},children:[\"#\",selectedNotificacion.id]})]}),/*#__PURE__*/_jsxs(Box,{sx:{minWidth:200,flex:'1 1 200px'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Tipo\"}),/*#__PURE__*/_jsx(Chip,{label:getTipoLabel(selectedNotificacion.tipo),color:getTipoColor(selectedNotificacion.tipo),size:\"small\",sx:{mb:2}})]}),/*#__PURE__*/_jsxs(Box,{sx:{minWidth:200,flex:'1 1 200px'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Canal\"}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:1,sx:{mb:2},children:[/*#__PURE__*/React.createElement(getCanalIcon(selectedNotificacion.canal),{color:'action',fontSize:'small'}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:getCanalLabel(selectedNotificacion.canal)})]})]}),/*#__PURE__*/_jsxs(Box,{sx:{minWidth:200,flex:'1 1 200px'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Estado\"}),/*#__PURE__*/_jsx(Chip,{label:getEstadoLabel(selectedNotificacion.estado),color:getEstadoColor(selectedNotificacion.estado),size:\"small\",sx:{mb:2}})]}),/*#__PURE__*/_jsxs(Box,{sx:{flex:'1 1 100%'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Destinatario\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{mb:2},children:selectedNotificacion.destinatario})]}),/*#__PURE__*/_jsxs(Box,{sx:{flex:'1 1 100%'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Asunto\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{mb:2,p:2,bgcolor:'grey.50',borderRadius:1},children:selectedNotificacion.asunto})]}),/*#__PURE__*/_jsxs(Box,{sx:{flex:'1 1 100%'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Contenido\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{mb:2,p:2,bgcolor:'grey.50',borderRadius:1},children:selectedNotificacion.contenido})]}),selectedNotificacion.pacienteId&&/*#__PURE__*/_jsxs(Box,{sx:{minWidth:200,flex:'1 1 200px'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Paciente\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{mb:2},children:getPacienteNombre(selectedNotificacion.pacienteId)})]}),selectedNotificacion.medicoId&&/*#__PURE__*/_jsxs(Box,{sx:{minWidth:200,flex:'1 1 200px'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"M\\xE9dico\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{mb:2},children:getMedicoNombre(selectedNotificacion.medicoId)})]}),selectedNotificacion.turnoId&&/*#__PURE__*/_jsxs(Box,{sx:{minWidth:200,flex:'1 1 200px'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Turno ID\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",sx:{mb:2},children:[\"#\",selectedNotificacion.turnoId]})]}),/*#__PURE__*/_jsxs(Box,{sx:{flex:'1 1 100%'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Fecha de Env\\xEDo\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:new Date(selectedNotificacion.fecha_envio).toLocaleDateString('es-ES',{weekday:'long',year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'})})]}),/*#__PURE__*/_jsxs(Box,{sx:{flex:'1 1 100%'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Fecha de Creaci\\xF3n\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:new Date(selectedNotificacion.created_at).toLocaleDateString('es-ES',{weekday:'long',year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'})})]})]})})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(DialogActions,{sx:{p:2},children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setOpenDetailDialog(false),variant:\"outlined\",children:\"Cerrar\"}),(selectedNotificacion===null||selectedNotificacion===void 0?void 0:selectedNotificacion.estado)==='ERROR'&&/*#__PURE__*/_jsx(Button,{onClick:()=>{handleReenviar(selectedNotificacion);setOpenDetailDialog(false);},variant:\"contained\",color:\"warning\",disabled:loading,startIcon:loading?/*#__PURE__*/_jsx(CircularProgress,{size:20}):undefined,children:loading?'Reenviando...':'Reenviar'})]})]}),/*#__PURE__*/_jsx(Snackbar,{open:snackbar.open,autoHideDuration:6000,onClose:()=>setSnackbar(_objectSpread(_objectSpread({},snackbar),{},{open:false})),children:/*#__PURE__*/_jsx(Alert,{onClose:()=>setSnackbar(_objectSpread(_objectSpread({},snackbar),{},{open:false})),severity:snackbar.severity,sx:{width:'100%'},children:snackbar.message})})]});}","map":{"version":3,"names":["React","useState","useEffect","useCallback","Box","Typography","Card","CardContent","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Chip","Alert","Snackbar","CircularProgress","TextField","FormControl","InputLabel","Select","MenuItem","IconButton","Tooltip","Stack","Divider","Dialog","DialogTitle","DialogContent","DialogActions","Button","Notifications","NotificationsIcon","Search","SearchIcon","FilterList","FilterListIcon","Visibility","VisibilityIcon","Refresh","RefreshIcon","Email","EmailIconSmall","Phone","PhoneIconSmall","useApp","notificacionesService","jsx","_jsx","jsxs","_jsxs","tiposNotificacion","value","label","color","canalesNotificacion","icon","estadosNotificacion","Notificaciones","state","dispatch","loading","setLoading","searchTerm","setSearchTerm","tipoFilter","setTipoFilter","canalFilter","setCanalFilter","estadoFilter","setEstadoFilter","snackbar","setSnackbar","open","message","severity","openDetailDialog","setOpenDetailDialog","selectedNotificacion","setSelectedNotificacion","notificaciones","setNotificaciones","loadNotificaciones","response","getAllNotificaciones","success","data","type","payload","console","log","showSnackbar","error","getTipoLabel","tipo","tipoObj","find","t","getTipoColor","getCanalIcon","canal","canalObj","c","getCanalLabel","getEstadoColor","estado","estadoObj","e","getEstadoLabel","getPacienteNombre","pacienteId","paciente","pacientes","p","id","concat","nombre","apellido","getMedicoNombre","medicoId","medico","medicos","m","filteredNotificaciones","filter","notif","matchesSearch","contenido","toLowerCase","includes","destinatario","matchesTipo","matchesCanal","matchesEstado","getEstadisticasNotificaciones","total","length","pendientes","n","enviadas","errores","emails","sms","stats","handleVerDetalle","notificacion","handleReenviar","Promise","resolve","setTimeout","notifsActualizadas","map","_objectSpread","created_at","Date","toISOString","children","sx","display","justifyContent","alignItems","mb","variant","gap","startIcon","onClick","disabled","flexWrap","textAlign","bgcolor","minWidth","flex","placeholder","onChange","target","InputProps","startAdornment","mr","component","elevation","fontWeight","colSpan","align","py","mt","hover","size","direction","spacing","createElement","fontSize","noWrap","maxWidth","toLocaleDateString","day","month","year","hour","minute","title","onClose","fullWidth","borderRadius","asunto","turnoId","fecha_envio","weekday","undefined","autoHideDuration","width"],"sources":["C:/Users/Asus/Documents/GitHub/proyecto-3-arquitectura/frontend/portal-web/src/pages/Notificaciones.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Card,\r\n  CardContent,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Chip,\r\n  Alert,\r\n  Snackbar,\r\n  CircularProgress,\r\n  TextField,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  IconButton,\r\n  Tooltip,\r\n  Stack,\r\n  Divider,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n} from '@mui/material';\r\nimport {\r\n  Notifications as NotificationsIcon,\r\n  Search as SearchIcon,\r\n  FilterList as FilterListIcon,\r\n  Visibility as VisibilityIcon,\r\n  Refresh as RefreshIcon,\r\n  Email as EmailIconSmall,\r\n  Phone as PhoneIconSmall,\r\n} from '@mui/icons-material';\r\nimport { useApp } from '../contexts/AppContext';\r\nimport { notificacionesService, Notificacion } from '../services/notificacionesService';\r\n\r\nconst tiposNotificacion = [\r\n  { value: 'confirmacion', label: 'Confirmación de Cita', color: 'success' as const },\r\n  { value: 'cancelacion', label: 'Cancelación de Cita', color: 'error' as const },\r\n  { value: 'modificacion', label: 'Modificación de Cita', color: 'warning' as const },\r\n  { value: 'recordatorio', label: 'Recordatorio de Cita', color: 'info' as const },\r\n  { value: 'general', label: 'Notificación General', color: 'default' as const },\r\n];\r\n\r\nconst canalesNotificacion = [\r\n  { value: 'EMAIL', label: 'Email', icon: EmailIconSmall },\r\n  { value: 'SMS', label: 'SMS', icon: PhoneIconSmall },\r\n];\r\n\r\nconst estadosNotificacion = [\r\n  { value: 'PENDIENTE', label: 'Pendiente', color: 'warning' as const },\r\n  { value: 'ENVIADA', label: 'Enviada', color: 'success' as const },\r\n  { value: 'ERROR', label: 'Error', color: 'error' as const },\r\n];\r\n\r\nexport default function Notificaciones() {\r\n  const { state, dispatch } = useApp();\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [tipoFilter, setTipoFilter] = useState('');\r\n  const [canalFilter, setCanalFilter] = useState('');\r\n  const [estadoFilter, setEstadoFilter] = useState('');\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'success' as 'success' | 'error' });\r\n  const [openDetailDialog, setOpenDetailDialog] = useState(false);\r\n  const [selectedNotificacion, setSelectedNotificacion] = useState<Notificacion | null>(null);\r\n\r\n  const [notificaciones, setNotificaciones] = useState<Notificacion[]>([]);\r\n\r\n  const loadNotificaciones = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await notificacionesService.getAllNotificaciones();\r\n      if (response.success) {\r\n        setNotificaciones(response.data);\r\n        dispatch({ type: 'SET_NOTIFICACIONES', payload: response.data });\r\n        console.log('📧 NOTIFICACIONES - Datos cargados del backend:', response.data);\r\n      } else {\r\n        showSnackbar('Error al cargar notificaciones', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('📧 NOTIFICACIONES - Error al cargar:', error);\r\n      showSnackbar('Error al cargar notificaciones', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadNotificaciones();\r\n  }, [loadNotificaciones]);\r\n\r\n  const showSnackbar = (message: string, severity: 'success' | 'error') => {\r\n    setSnackbar({ open: true, message, severity });\r\n  };\r\n\r\n  const getTipoLabel = (tipo: string) => {\r\n    const tipoObj = tiposNotificacion.find(t => t.value === tipo);\r\n    return tipoObj ? tipoObj.label : tipo;\r\n  };\r\n\r\n  const getTipoColor = (tipo: string) => {\r\n    const tipoObj = tiposNotificacion.find(t => t.value === tipo);\r\n    return tipoObj ? tipoObj.color : 'default';\r\n  };\r\n\r\n  const getCanalIcon = (canal: string) => {\r\n    const canalObj = canalesNotificacion.find(c => c.value === canal);\r\n    return canalObj ? canalObj.icon : EmailIconSmall;\r\n  };\r\n\r\n  const getCanalLabel = (canal: string) => {\r\n    const canalObj = canalesNotificacion.find(c => c.value === canal);\r\n    return canalObj ? canalObj.label : canal;\r\n  };\r\n\r\n  const getEstadoColor = (estado: string) => {\r\n    const estadoObj = estadosNotificacion.find(e => e.value === estado);\r\n    return estadoObj ? estadoObj.color : 'default';\r\n  };\r\n\r\n  const getEstadoLabel = (estado: string) => {\r\n    const estadoObj = estadosNotificacion.find(e => e.value === estado);\r\n    return estadoObj ? estadoObj.label : estado;\r\n  };\r\n\r\n  const getPacienteNombre = (pacienteId?: number): string => {\r\n    if (!pacienteId) return 'N/A';\r\n    const paciente = state.pacientes.find(p => p.id === pacienteId);\r\n    return paciente ? `${paciente.nombre} ${paciente.apellido}` : 'N/A';\r\n  };\r\n\r\n  const getMedicoNombre = (medicoId?: number): string => {\r\n    if (!medicoId) return 'N/A';\r\n    const medico = state.medicos.find(m => m.id === medicoId);\r\n    return medico ? `Dr. ${medico.nombre} ${medico.apellido}` : 'N/A';\r\n  };\r\n\r\n  const filteredNotificaciones = notificaciones.filter(notif => {\r\n    const matchesSearch = \r\n      notif.contenido.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      notif.destinatario.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      getTipoLabel(notif.tipo).toLowerCase().includes(searchTerm.toLowerCase());\r\n    \r\n    const matchesTipo = tipoFilter === '' || notif.tipo === tipoFilter;\r\n    const matchesCanal = canalFilter === '' || notif.canal === canalFilter;\r\n    const matchesEstado = estadoFilter === '' || notif.estado === estadoFilter;\r\n    \r\n    return matchesSearch && matchesTipo && matchesCanal && matchesEstado;\r\n  });\r\n\r\n  const getEstadisticasNotificaciones = () => {\r\n    const total = notificaciones.length;\r\n    const pendientes = notificaciones.filter(n => n.estado === 'PENDIENTE').length;\r\n    const enviadas = notificaciones.filter(n => n.estado === 'ENVIADO').length;\r\n    const errores = notificaciones.filter(n => n.estado === 'ERROR').length;\r\n    const emails = notificaciones.filter(n => n.canal === 'EMAIL').length;\r\n    const sms = notificaciones.filter(n => n.canal === 'SMS').length;\r\n    \r\n    return { total, pendientes, enviadas, errores, emails, sms };\r\n  };\r\n\r\n  const stats = getEstadisticasNotificaciones();\r\n\r\n  const handleVerDetalle = (notificacion: Notificacion) => {\r\n    setSelectedNotificacion(notificacion);\r\n    setOpenDetailDialog(true);\r\n  };\r\n\r\n  const handleReenviar = async (notificacion: Notificacion) => {\r\n    try {\r\n      setLoading(true);\r\n      // En un sistema real, aquí se haría la llamada al servicio\r\n      // await notificacionesService.reenviarNotificacion(notificacion.id);\r\n      \r\n      // Simulamos el reenvío\r\n      await new Promise(resolve => setTimeout(resolve, 1000));\r\n      \r\n      // Actualizamos el estado local\r\n      const notifsActualizadas = notificaciones.map(n => \r\n        n.id === notificacion.id \r\n          ? { ...n, estado: 'PENDIENTE' as const, created_at: new Date().toISOString() }\r\n          : n\r\n      );\r\n      setNotificaciones(notifsActualizadas);\r\n      \r\n      showSnackbar('Notificación enviada para reenvío', 'success');\r\n    } catch (error) {\r\n      showSnackbar('Error al reenviar notificación', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      {/* Header */}\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\r\n        <Typography variant=\"h4\" sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n          <NotificationsIcon color=\"primary\" />\r\n          Sistema de Notificaciones\r\n        </Typography>\r\n        <Button\r\n          variant=\"outlined\"\r\n          startIcon={<RefreshIcon />}\r\n          onClick={loadNotificaciones}\r\n          disabled={loading}\r\n        >\r\n          Actualizar\r\n        </Button>\r\n      </Box>\r\n\r\n      {/* Estadísticas */}\r\n      <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2, mb: 3 }}>\r\n        <Card sx={{ textAlign: 'center', bgcolor: 'primary.light', color: 'white', minWidth: 120, flex: 1 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\">{stats.total}</Typography>\r\n            <Typography variant=\"body2\">Total</Typography>\r\n          </CardContent>\r\n        </Card>\r\n        <Card sx={{ textAlign: 'center', bgcolor: 'warning.light', color: 'white', minWidth: 120, flex: 1 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\">{stats.pendientes}</Typography>\r\n            <Typography variant=\"body2\">Pendientes</Typography>\r\n          </CardContent>\r\n        </Card>\r\n        <Card sx={{ textAlign: 'center', bgcolor: 'success.light', color: 'white', minWidth: 120, flex: 1 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\">{stats.enviadas}</Typography>\r\n            <Typography variant=\"body2\">Enviadas</Typography>\r\n          </CardContent>\r\n        </Card>\r\n        <Card sx={{ textAlign: 'center', bgcolor: 'error.light', color: 'white', minWidth: 120, flex: 1 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\">{stats.errores}</Typography>\r\n            <Typography variant=\"body2\">Errores</Typography>\r\n          </CardContent>\r\n        </Card>\r\n        <Card sx={{ textAlign: 'center', bgcolor: 'info.light', color: 'white', minWidth: 120, flex: 1 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\">{stats.emails}</Typography>\r\n            <Typography variant=\"body2\">Emails</Typography>\r\n          </CardContent>\r\n        </Card>\r\n        <Card sx={{ textAlign: 'center', bgcolor: 'secondary.light', color: 'white', minWidth: 120, flex: 1 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\">{stats.sms}</Typography>\r\n            <Typography variant=\"body2\">SMS</Typography>\r\n          </CardContent>\r\n        </Card>\r\n      </Box>\r\n\r\n      {/* Filtros */}\r\n      <Card sx={{ mb: 3 }}>\r\n        <CardContent>\r\n          <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2, alignItems: 'center' }}>\r\n            <TextField\r\n              placeholder=\"Buscar por contenido, destinatario o tipo...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              InputProps={{\r\n                startAdornment: <SearchIcon sx={{ mr: 1, color: 'text.secondary' }} />,\r\n              }}\r\n              sx={{ flex: 1, minWidth: 300 }}\r\n            />\r\n            <FormControl sx={{ minWidth: 150 }}>\r\n              <InputLabel>Tipo</InputLabel>\r\n              <Select\r\n                value={tipoFilter}\r\n                label=\"Tipo\"\r\n                onChange={(e) => setTipoFilter(e.target.value)}\r\n                startAdornment={<FilterListIcon sx={{ mr: 1, color: 'text.secondary' }} />}\r\n              >\r\n                <MenuItem value=\"\">Todos los tipos</MenuItem>\r\n                {tiposNotificacion.map((tipo) => (\r\n                  <MenuItem key={tipo.value} value={tipo.value}>\r\n                    {tipo.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n            <FormControl sx={{ minWidth: 120 }}>\r\n              <InputLabel>Canal</InputLabel>\r\n              <Select\r\n                value={canalFilter}\r\n                label=\"Canal\"\r\n                onChange={(e) => setCanalFilter(e.target.value)}\r\n              >\r\n                <MenuItem value=\"\">Todos</MenuItem>\r\n                {canalesNotificacion.map((canal) => (\r\n                  <MenuItem key={canal.value} value={canal.value}>\r\n                    {canal.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n            <FormControl sx={{ minWidth: 120 }}>\r\n              <InputLabel>Estado</InputLabel>\r\n              <Select\r\n                value={estadoFilter}\r\n                label=\"Estado\"\r\n                onChange={(e) => setEstadoFilter(e.target.value)}\r\n              >\r\n                <MenuItem value=\"\">Todos</MenuItem>\r\n                {estadosNotificacion.map((estado) => (\r\n                  <MenuItem key={estado.value} value={estado.value}>\r\n                    {estado.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </Box>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Tabla de notificaciones */}\r\n      <Card>\r\n        <CardContent>\r\n          <TableContainer component={Paper} elevation={2}>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow sx={{ bgcolor: 'primary.main' }}>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>ID</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>Tipo</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>Canal</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>Destinatario</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>Estado</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>Fecha</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>Acciones</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {loading ? (\r\n                  <TableRow>\r\n                    <TableCell colSpan={7} align=\"center\" sx={{ py: 4 }}>\r\n                      <CircularProgress />\r\n                      <Typography variant=\"body2\" sx={{ mt: 1 }}>\r\n                        Cargando notificaciones...\r\n                      </Typography>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ) : filteredNotificaciones.length === 0 ? (\r\n                  <TableRow>\r\n                    <TableCell colSpan={7} align=\"center\" sx={{ py: 4 }}>\r\n                      <Typography variant=\"body1\" color=\"text.secondary\">\r\n                        {searchTerm || tipoFilter || canalFilter || estadoFilter \r\n                          ? 'No se encontraron notificaciones con los filtros aplicados' \r\n                          : 'No hay notificaciones registradas'}\r\n                      </Typography>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ) : (\r\n                  filteredNotificaciones.map((notif) => (\r\n                    <TableRow key={notif.id} hover>\r\n                      <TableCell>\r\n                        <Chip \r\n                          label={`#${notif.id}`} \r\n                          size=\"small\" \r\n                          color=\"primary\"\r\n                          icon={<NotificationsIcon />}\r\n                        />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Chip\r\n                          label={getTipoLabel(notif.tipo)}\r\n                          color={getTipoColor(notif.tipo)}\r\n                          size=\"small\"\r\n                          variant=\"filled\"\r\n                        />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Stack direction=\"row\" alignItems=\"center\" spacing={1}>\r\n                          {React.createElement(getCanalIcon(notif.canal), { \r\n                            color: 'action', \r\n                            fontSize: 'small' \r\n                          })}\r\n                          <Typography variant=\"body2\">\r\n                            {getCanalLabel(notif.canal)}\r\n                          </Typography>\r\n                        </Stack>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Typography variant=\"body2\" noWrap sx={{ maxWidth: 200 }}>\r\n                          {notif.destinatario}\r\n                        </Typography>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Chip\r\n                          label={getEstadoLabel(notif.estado)}\r\n                          color={getEstadoColor(notif.estado)}\r\n                          size=\"small\"\r\n                          variant=\"filled\"\r\n                        />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Typography variant=\"body2\">\r\n                          {new Date(notif.created_at).toLocaleDateString('es-ES', {\r\n                            day: '2-digit',\r\n                            month: '2-digit',\r\n                            year: 'numeric',\r\n                            hour: '2-digit',\r\n                            minute: '2-digit'\r\n                          })}\r\n                        </Typography>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Box sx={{ display: 'flex', gap: 0.5 }}>\r\n                          <Tooltip title=\"Ver Detalle\">\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              onClick={() => handleVerDetalle(notif)}\r\n                              color=\"primary\"\r\n                            >\r\n                              <VisibilityIcon />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                          \r\n                          {notif.estado === 'ERROR' && (\r\n                            <Tooltip title=\"Reenviar\">\r\n                              <IconButton\r\n                                size=\"small\"\r\n                                onClick={() => handleReenviar(notif)}\r\n                                color=\"warning\"\r\n                                disabled={loading}\r\n                              >\r\n                                <RefreshIcon />\r\n                              </IconButton>\r\n                            </Tooltip>\r\n                          )}\r\n                        </Box>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Diálogo de detalle */}\r\n      <Dialog open={openDetailDialog} onClose={() => setOpenDetailDialog(false)} maxWidth=\"md\" fullWidth>\r\n        <DialogTitle>\r\n          <Stack direction=\"row\" alignItems=\"center\" spacing={1}>\r\n            <NotificationsIcon color=\"primary\" />\r\n            Detalle de Notificación\r\n          </Stack>\r\n        </DialogTitle>\r\n        <Divider />\r\n                 <DialogContent>\r\n           {selectedNotificacion && (\r\n             <Box sx={{ mt: 1 }}>\r\n               <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2 }}>\r\n                 <Box sx={{ minWidth: 200, flex: '1 1 200px' }}>\r\n                   <Typography variant=\"subtitle2\" color=\"text.secondary\">ID</Typography>\r\n                   <Typography variant=\"body1\" sx={{ mb: 2 }}>\r\n                     #{selectedNotificacion.id}\r\n                   </Typography>\r\n                 </Box>\r\n                 <Box sx={{ minWidth: 200, flex: '1 1 200px' }}>\r\n                   <Typography variant=\"subtitle2\" color=\"text.secondary\">Tipo</Typography>\r\n                   <Chip\r\n                     label={getTipoLabel(selectedNotificacion.tipo)}\r\n                     color={getTipoColor(selectedNotificacion.tipo)}\r\n                     size=\"small\"\r\n                     sx={{ mb: 2 }}\r\n                   />\r\n                 </Box>\r\n                 <Box sx={{ minWidth: 200, flex: '1 1 200px' }}>\r\n                   <Typography variant=\"subtitle2\" color=\"text.secondary\">Canal</Typography>\r\n                   <Stack direction=\"row\" alignItems=\"center\" spacing={1} sx={{ mb: 2 }}>\r\n                     {React.createElement(getCanalIcon(selectedNotificacion.canal), { \r\n                       color: 'action', \r\n                       fontSize: 'small' \r\n                     })}\r\n                     <Typography variant=\"body1\">\r\n                       {getCanalLabel(selectedNotificacion.canal)}\r\n                     </Typography>\r\n                   </Stack>\r\n                 </Box>\r\n                 <Box sx={{ minWidth: 200, flex: '1 1 200px' }}>\r\n                   <Typography variant=\"subtitle2\" color=\"text.secondary\">Estado</Typography>\r\n                   <Chip\r\n                     label={getEstadoLabel(selectedNotificacion.estado)}\r\n                     color={getEstadoColor(selectedNotificacion.estado)}\r\n                     size=\"small\"\r\n                     sx={{ mb: 2 }}\r\n                   />\r\n                 </Box>\r\n                 <Box sx={{ flex: '1 1 100%' }}>\r\n                   <Typography variant=\"subtitle2\" color=\"text.secondary\">Destinatario</Typography>\r\n                   <Typography variant=\"body1\" sx={{ mb: 2 }}>\r\n                     {selectedNotificacion.destinatario}\r\n                   </Typography>\r\n                 </Box>\r\n                 <Box sx={{ flex: '1 1 100%' }}>\r\n                   <Typography variant=\"subtitle2\" color=\"text.secondary\">Asunto</Typography>\r\n                   <Typography variant=\"body1\" sx={{ mb: 2, p: 2, bgcolor: 'grey.50', borderRadius: 1 }}>\r\n                     {selectedNotificacion.asunto}\r\n                   </Typography>\r\n                 </Box>\r\n                 \r\n                 <Box sx={{ flex: '1 1 100%' }}>\r\n                   <Typography variant=\"subtitle2\" color=\"text.secondary\">Contenido</Typography>\r\n                   <Typography variant=\"body1\" sx={{ mb: 2, p: 2, bgcolor: 'grey.50', borderRadius: 1 }}>\r\n                     {selectedNotificacion.contenido}\r\n                   </Typography>\r\n                 </Box>\r\n                 \r\n                 {selectedNotificacion.pacienteId && (\r\n                   <Box sx={{ minWidth: 200, flex: '1 1 200px' }}>\r\n                     <Typography variant=\"subtitle2\" color=\"text.secondary\">Paciente</Typography>\r\n                     <Typography variant=\"body1\" sx={{ mb: 2 }}>\r\n                       {getPacienteNombre(selectedNotificacion.pacienteId)}\r\n                     </Typography>\r\n                   </Box>\r\n                 )}\r\n                 \r\n                 {selectedNotificacion.medicoId && (\r\n                   <Box sx={{ minWidth: 200, flex: '1 1 200px' }}>\r\n                     <Typography variant=\"subtitle2\" color=\"text.secondary\">Médico</Typography>\r\n                     <Typography variant=\"body1\" sx={{ mb: 2 }}>\r\n                       {getMedicoNombre(selectedNotificacion.medicoId)}\r\n                     </Typography>\r\n                   </Box>\r\n                 )}\r\n                 \r\n                 {selectedNotificacion.turnoId && (\r\n                   <Box sx={{ minWidth: 200, flex: '1 1 200px' }}>\r\n                     <Typography variant=\"subtitle2\" color=\"text.secondary\">Turno ID</Typography>\r\n                     <Typography variant=\"body1\" sx={{ mb: 2 }}>\r\n                       #{selectedNotificacion.turnoId}\r\n                     </Typography>\r\n                   </Box>\r\n                 )}\r\n                 \r\n                 <Box sx={{ flex: '1 1 100%' }}>\r\n                   <Typography variant=\"subtitle2\" color=\"text.secondary\">Fecha de Envío</Typography>\r\n                   <Typography variant=\"body1\">\r\n                     {new Date(selectedNotificacion.fecha_envio).toLocaleDateString('es-ES', {\r\n                       weekday: 'long',\r\n                       year: 'numeric',\r\n                       month: 'long',\r\n                       day: 'numeric',\r\n                       hour: '2-digit',\r\n                       minute: '2-digit'\r\n                     })}\r\n                   </Typography>\r\n                 </Box>\r\n                 \r\n                 <Box sx={{ flex: '1 1 100%' }}>\r\n                   <Typography variant=\"subtitle2\" color=\"text.secondary\">Fecha de Creación</Typography>\r\n                   <Typography variant=\"body1\">\r\n                     {new Date(selectedNotificacion.created_at).toLocaleDateString('es-ES', {\r\n                       weekday: 'long',\r\n                       year: 'numeric',\r\n                       month: 'long',\r\n                       day: 'numeric',\r\n                       hour: '2-digit',\r\n                       minute: '2-digit'\r\n                     })}\r\n                   </Typography>\r\n                 </Box>\r\n               </Box>\r\n             </Box>\r\n           )}\r\n         </DialogContent>\r\n        <Divider />\r\n        <DialogActions sx={{ p: 2 }}>\r\n          <Button onClick={() => setOpenDetailDialog(false)} variant=\"outlined\">\r\n            Cerrar\r\n          </Button>\r\n          {selectedNotificacion?.estado === 'ERROR' && (\r\n            <Button\r\n              onClick={() => {\r\n                handleReenviar(selectedNotificacion);\r\n                setOpenDetailDialog(false);\r\n              }}\r\n              variant=\"contained\"\r\n              color=\"warning\"\r\n              disabled={loading}\r\n              startIcon={loading ? <CircularProgress size={20} /> : undefined}\r\n            >\r\n              {loading ? 'Reenviando...' : 'Reenviar'}\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Snackbar */}\r\n      <Snackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={6000}\r\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n      >\r\n        <Alert\r\n          onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n          severity={snackbar.severity}\r\n          sx={{ width: '100%' }}\r\n        >\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}