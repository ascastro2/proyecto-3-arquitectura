{"ast":null,"code":"import _objectSpread from\"C:/Users/Asus/Documents/GitHub/proyecto-3-arquitectura/frontend/portal-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useContext,useReducer}from'react';// Tipos\n// Estado inicial\nimport{jsx as _jsx}from\"react/jsx-runtime\";const initialState={pacientes:[],medicos:[],turnos:[],notificaciones:[],historial:[],loading:false,error:null};// Acciones\n// Reducer\nfunction appReducer(state,action){switch(action.type){case'SET_LOADING':return _objectSpread(_objectSpread({},state),{},{loading:action.payload});case'SET_ERROR':return _objectSpread(_objectSpread({},state),{},{error:action.payload});case'SET_PACIENTES':return _objectSpread(_objectSpread({},state),{},{pacientes:action.payload});case'ADD_PACIENTE':return _objectSpread(_objectSpread({},state),{},{pacientes:[...state.pacientes,action.payload]});case'UPDATE_PACIENTE':return _objectSpread(_objectSpread({},state),{},{pacientes:state.pacientes.map(p=>p.id===action.payload.id?action.payload:p)});case'SET_MEDICOS':return _objectSpread(_objectSpread({},state),{},{medicos:action.payload});case'ADD_MEDICO':return _objectSpread(_objectSpread({},state),{},{medicos:[...state.medicos,action.payload]});case'UPDATE_MEDICO':return _objectSpread(_objectSpread({},state),{},{medicos:state.medicos.map(m=>m.id===action.payload.id?action.payload:m)});case'SET_TURNOS':return _objectSpread(_objectSpread({},state),{},{turnos:action.payload});case'ADD_TURNO':return _objectSpread(_objectSpread({},state),{},{turnos:[...state.turnos,action.payload]});case'UPDATE_TURNO':return _objectSpread(_objectSpread({},state),{},{turnos:state.turnos.map(t=>t.id===action.payload.id?action.payload:t)});case'SET_NOTIFICACIONES':return _objectSpread(_objectSpread({},state),{},{notificaciones:action.payload});case'SET_HISTORIAL':return _objectSpread(_objectSpread({},state),{},{historial:action.payload});default:return state;}}// Context\nconst AppContext=/*#__PURE__*/createContext(undefined);// Provider\nexport function AppProvider(_ref){let{children}=_ref;const[state,dispatch]=useReducer(appReducer,initialState);return/*#__PURE__*/_jsx(AppContext.Provider,{value:{state,dispatch},children:children});}// Hook personalizado\nexport function useApp(){const context=useContext(AppContext);if(context===undefined){throw new Error('useApp must be used within an AppProvider');}return context;}","map":{"version":3,"names":["React","createContext","useContext","useReducer","jsx","_jsx","initialState","pacientes","medicos","turnos","notificaciones","historial","loading","error","appReducer","state","action","type","_objectSpread","payload","map","p","id","m","t","AppContext","undefined","AppProvider","_ref","children","dispatch","Provider","value","useApp","context","Error"],"sources":["C:/Users/Asus/Documents/GitHub/proyecto-3-arquitectura/frontend/portal-web/src/contexts/AppContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useReducer, ReactNode } from 'react';\r\n\r\n// Tipos\r\nexport interface Paciente {\r\n  id: number;\r\n  dni: string;\r\n  nombre: string;\r\n  apellido: string;\r\n  email: string;\r\n  telefono: string;\r\n  fechaNacimiento: string;\r\n  direccion: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\nexport interface Medico {\r\n  id: number;\r\n  matricula: string;\r\n  nombre: string;\r\n  apellido: string;\r\n  especialidad: string;\r\n  email: string;\r\n  telefono: string;\r\n  fechaNacimiento: string;\r\n  direccion: string;\r\n  activo: boolean;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\nexport interface Turno {\r\n  id: number;\r\n  pacienteId: number;\r\n  medicoId: number;\r\n  fecha: string;\r\n  hora: string;\r\n  diaSemana: number;\r\n  estado: 'PENDIENTE' | 'CONFIRMADO' | 'CANCELADO' | 'COMPLETADO' | 'NO_SHOW';\r\n  motivo: string;\r\n  observaciones: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\nexport interface Notificacion {\r\n  id: number;\r\n  tipo: string;\r\n  destinatario: string;\r\n  asunto: string;\r\n  contenido: string;\r\n  canal: 'EMAIL' | 'SMS';\r\n  estado: 'PENDIENTE' | 'ENVIADO' | 'ERROR';\r\n  fecha_envio: string;\r\n  fecha_entrega?: string;\r\n  intentos: number;\r\n  error_mensaje?: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n  pacienteId?: number;\r\n  medicoId?: number;\r\n  turnoId?: number;\r\n}\r\n\r\nexport interface HistorialCambio {\r\n  id: number;\r\n  turnoId: number;\r\n  tipoCambio: string;\r\n  descripcion: string;\r\n  usuarioId: number | null;\r\n  datosAnteriores: any;\r\n  datosNuevos: any;\r\n  fechaCambio: string;\r\n}\r\n\r\n// Estado inicial\r\ninterface AppState {\r\n  pacientes: Paciente[];\r\n  medicos: Medico[];\r\n  turnos: Turno[];\r\n  notificaciones: Notificacion[];\r\n  historial: HistorialCambio[];\r\n  loading: boolean;\r\n  error: string | null;\r\n}\r\n\r\nconst initialState: AppState = {\r\n  pacientes: [],\r\n  medicos: [],\r\n  turnos: [],\r\n  notificaciones: [],\r\n  historial: [],\r\n  loading: false,\r\n  error: null,\r\n};\r\n\r\n// Acciones\r\ntype AppAction =\r\n  | { type: 'SET_LOADING'; payload: boolean }\r\n  | { type: 'SET_ERROR'; payload: string | null }\r\n  | { type: 'SET_PACIENTES'; payload: Paciente[] }\r\n  | { type: 'ADD_PACIENTE'; payload: Paciente }\r\n  | { type: 'UPDATE_PACIENTE'; payload: Paciente }\r\n  | { type: 'SET_MEDICOS'; payload: Medico[] }\r\n  | { type: 'ADD_MEDICO'; payload: Medico }\r\n  | { type: 'UPDATE_MEDICO'; payload: Medico }\r\n  | { type: 'SET_TURNOS'; payload: Turno[] }\r\n  | { type: 'ADD_TURNO'; payload: Turno }\r\n  | { type: 'UPDATE_TURNO'; payload: Turno }\r\n  | { type: 'SET_NOTIFICACIONES'; payload: Notificacion[] }\r\n  | { type: 'SET_HISTORIAL'; payload: HistorialCambio[] };\r\n\r\n// Reducer\r\nfunction appReducer(state: AppState, action: AppAction): AppState {\r\n  switch (action.type) {\r\n    case 'SET_LOADING':\r\n      return { ...state, loading: action.payload };\r\n    case 'SET_ERROR':\r\n      return { ...state, error: action.payload };\r\n    case 'SET_PACIENTES':\r\n      return { ...state, pacientes: action.payload };\r\n    case 'ADD_PACIENTE':\r\n      return { ...state, pacientes: [...state.pacientes, action.payload] };\r\n    case 'UPDATE_PACIENTE':\r\n      return {\r\n        ...state,\r\n        pacientes: state.pacientes.map(p => p.id === action.payload.id ? action.payload : p)\r\n      };\r\n    case 'SET_MEDICOS':\r\n      return { ...state, medicos: action.payload };\r\n    case 'ADD_MEDICO':\r\n      return { ...state, medicos: [...state.medicos, action.payload] };\r\n    case 'UPDATE_MEDICO':\r\n      return {\r\n        ...state,\r\n        medicos: state.medicos.map(m => m.id === action.payload.id ? action.payload : m)\r\n      };\r\n    case 'SET_TURNOS':\r\n      return { ...state, turnos: action.payload };\r\n    case 'ADD_TURNO':\r\n      return { ...state, turnos: [...state.turnos, action.payload] };\r\n    case 'UPDATE_TURNO':\r\n      return {\r\n        ...state,\r\n        turnos: state.turnos.map(t => t.id === action.payload.id ? action.payload : t)\r\n      };\r\n    case 'SET_NOTIFICACIONES':\r\n      return { ...state, notificaciones: action.payload };\r\n    case 'SET_HISTORIAL':\r\n      return { ...state, historial: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// Context\r\ninterface AppContextType {\r\n  state: AppState;\r\n  dispatch: React.Dispatch<AppAction>;\r\n}\r\n\r\nconst AppContext = createContext<AppContextType | undefined>(undefined);\r\n\r\n// Provider\r\nexport function AppProvider({ children }: { children: ReactNode }) {\r\n  const [state, dispatch] = useReducer(appReducer, initialState);\r\n\r\n  return (\r\n    <AppContext.Provider value={{ state, dispatch }}>\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n}\r\n\r\n// Hook personalizado\r\nexport function useApp() {\r\n  const context = useContext(AppContext);\r\n  if (context === undefined) {\r\n    throw new Error('useApp must be used within an AppProvider');\r\n  }\r\n  return context;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}