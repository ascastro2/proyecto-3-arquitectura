{"ast":null,"code":"import _objectSpread from\"C:/Users/Asus/Documents/GitHub/proyecto-3-arquitectura/frontend/portal-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Box,Typography,Button,Card,CardContent,TextField,Dialog,DialogTitle,DialogContent,DialogActions,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,IconButton,Chip,Alert,Snackbar,CircularProgress,Select,MenuItem,FormControl,InputLabel,Tooltip,DialogContentText,Divider,Stack}from'@mui/material';import{Add as AddIcon,Edit as EditIcon,CheckCircle as CheckCircleIcon,Cancel as CancelIcon,EventAvailable as EventAvailableIcon,Person as PersonIcon,LocalHospital as LocalHospitalIcon,AccessTime as AccessTimeIcon,CalendarToday as CalendarTodayIcon,Schedule as ScheduleIcon,Search as SearchIcon,FilterList as FilterListIcon}from'@mui/icons-material';import{useApp}from'../contexts/AppContext';import{turnosService}from'../services/turnosService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const initialFormData={pacienteId:0,medicoId:0,fecha:'',hora:'',diaSemana:0,estado:'PENDIENTE',motivo:'',observaciones:''};const horasDisponibles=['08:00','08:30','09:00','09:30','10:00','10:30','11:00','11:30','14:00','14:30','15:00','15:30','16:00','16:30','17:00','17:30'];const diasSemana=[{value:0,label:'Domingo'},{value:1,label:'Lunes'},{value:2,label:'Martes'},{value:3,label:'Mi√©rcoles'},{value:4,label:'Jueves'},{value:5,label:'Viernes'},{value:6,label:'S√°bado'}];const estadosTurno=[{value:'PENDIENTE',label:'Pendiente',color:'warning'},{value:'CONFIRMADO',label:'Confirmado',color:'success'},{value:'CANCELADO',label:'Cancelado',color:'error'},{value:'COMPLETADO',label:'Completado',color:'info'},{value:'NO_SHOW',label:'No Show',color:'default'}];export default function Turnos(){const{state,dispatch}=useApp();const[openDialog,setOpenDialog]=useState(false);const[openCancelDialog,setOpenCancelDialog]=useState(false);const[editingTurno,setEditingTurno]=useState(null);const[formData,setFormData]=useState(initialFormData);const[searchTerm,setSearchTerm]=useState('');const[estadoFilter,setEstadoFilter]=useState('');const[loading,setLoading]=useState(false);const[snackbar,setSnackbar]=useState({open:false,message:'',severity:'success'});const[turnoToCancel,setTurnoToCancel]=useState(null);const[motivoCancelacion,setMotivoCancelacion]=useState('');const showSnackbar=(message,severity)=>{setSnackbar({open:true,message,severity});};const loadTurnos=async()=>{try{setLoading(true);const turnos=await turnosService.getAllTurnos();dispatch({type:'SET_TURNOS',payload:turnos.turnos});}catch(error){showSnackbar('Error al cargar turnos','error');}finally{setLoading(false);}};useEffect(()=>{loadTurnos();},[]);const handleOpenDialog=turno=>{if(turno){setEditingTurno(turno);setFormData({pacienteId:turno.pacienteId,medicoId:turno.medicoId,fecha:turno.fecha.split('T')[0],hora:turno.hora,diaSemana:turno.diaSemana,estado:turno.estado,motivo:turno.motivo,observaciones:turno.observaciones});}else{setEditingTurno(null);setFormData(initialFormData);}setOpenDialog(true);};const handleCloseDialog=()=>{setOpenDialog(false);setEditingTurno(null);setFormData(initialFormData);};const handleInputChange=(field,value)=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));};const validateForm=()=>{// Validar campos b√°sicos\nif(formData.pacienteId<=0||formData.medicoId<=0){return false;}if(formData.fecha===''||formData.hora===''){return false;}if(formData.motivo.trim()===''){return false;}// Validar que la fecha sea futura\nconst fechaTurno=new Date(\"\".concat(formData.fecha,\"T\").concat(formData.hora));const ahora=new Date();if(fechaTurno<=ahora){return false;}// Validar que no sea domingo (d√≠a 0)\nif(formData.diaSemana===0){return false;}// Validar horario de atenci√≥n (8:00 - 18:00)\nconst hora=parseInt(formData.hora.split(':')[0]);if(hora<8||hora>18){return false;}return true;};// Validaci√≥n pura para el bot√≥n (sin setState)\nconst canSubmit=React.useMemo(()=>{return formData.pacienteId>0&&formData.medicoId>0&&formData.fecha!==''&&formData.hora!==''&&formData.motivo.trim()!==''&&formData.diaSemana!==0;},[formData.pacienteId,formData.medicoId,formData.fecha,formData.hora,formData.motivo,formData.diaSemana]);const validateFormWithMessages=()=>{// Validar campos b√°sicos\nif(formData.pacienteId<=0||formData.medicoId<=0){showSnackbar('Debe seleccionar un paciente y un m√©dico','error');return false;}if(formData.fecha===''||formData.hora===''){showSnackbar('Debe seleccionar fecha y hora','error');return false;}if(formData.motivo.trim()===''){showSnackbar('El motivo de la consulta es obligatorio','error');return false;}// Validar que la fecha sea futura\nconst fechaTurno=new Date(\"\".concat(formData.fecha,\"T\").concat(formData.hora));const ahora=new Date();if(fechaTurno<=ahora){showSnackbar('La fecha y hora del turno debe ser futura','error');return false;}// Validar que no sea domingo (d√≠a 0)\nif(formData.diaSemana===0){showSnackbar('No se pueden agendar turnos en domingo','error');return false;}// Validar horario de atenci√≥n (8:00 - 18:00)\nconst hora=parseInt(formData.hora.split(':')[0]);if(hora<8||hora>18){showSnackbar('Los turnos deben estar entre las 8:00 y 18:00','error');return false;}return true;};const handleSubmit=async()=>{if(!validateFormWithMessages()){return;}// Log de datos que se van a enviar\nconsole.log('üöÄ TURNOS - Datos a enviar:',{operacion:editingTurno?'ACTUALIZAR':'CREAR',datos:formData,timestamp:new Date().toISOString()});try{setLoading(true);if(editingTurno){console.log('üìù TURNOS - Actualizando turno ID:',editingTurno.id);const updatedTurno=await turnosService.updateTurno(editingTurno.id,formData);console.log('‚úÖ TURNOS - Turno actualizado exitosamente:',updatedTurno);dispatch({type:'UPDATE_TURNO',payload:updatedTurno});showSnackbar('Turno actualizado exitosamente','success');}else{console.log('üÜï TURNOS - Creando nuevo turno');const newTurno=await turnosService.createTurno(formData);console.log('‚úÖ TURNOS - Turno creado exitosamente:',newTurno);dispatch({type:'ADD_TURNO',payload:newTurno});showSnackbar('Turno creado exitosamente','success');}handleCloseDialog();}catch(error){console.error('‚ùå TURNOS - Error en operaci√≥n:',error);console.error('‚ùå TURNOS - Datos que causaron el error:',formData);showSnackbar('Error al guardar turno','error');}finally{setLoading(false);}};const handleConfirmar=async turno=>{console.log('‚úÖ TURNOS - Confirmando turno ID:',turno.id);try{setLoading(true);const updatedTurno=await turnosService.confirmarTurno(turno.id);console.log('‚úÖ TURNOS - Turno confirmado exitosamente:',updatedTurno);dispatch({type:'UPDATE_TURNO',payload:updatedTurno});showSnackbar('Turno confirmado exitosamente','success');}catch(error){console.error('‚ùå TURNOS - Error al confirmar turno:',error);showSnackbar('Error al confirmar turno','error');}finally{setLoading(false);}};const handleCancelar=async(turno,motivo)=>{console.log('‚ùå TURNOS - Cancelando turno ID:',turno.id,'con motivo:',motivo);try{setLoading(true);const updatedTurno=await turnosService.cancelarTurno(turno.id,motivo);console.log('‚úÖ TURNOS - Turno cancelado exitosamente:',updatedTurno);dispatch({type:'UPDATE_TURNO',payload:updatedTurno});showSnackbar('Turno cancelado exitosamente','success');}catch(error){console.error('‚ùå TURNOS - Error al cancelar turno:',error);showSnackbar('Error al cancelar turno','error');}finally{setLoading(false);}};const handleCompletar=async turno=>{console.log('üèÅ TURNOS - Completando turno ID:',turno.id);try{setLoading(true);const updatedTurno=await turnosService.completarTurno(turno.id);console.log('‚úÖ TURNOS - Turno completado exitosamente:',updatedTurno);dispatch({type:'UPDATE_TURNO',payload:updatedTurno});showSnackbar('Turno completado exitosamente','success');}catch(error){console.error('‚ùå TURNOS - Error al completar turno:',error);showSnackbar('Error al completar turno','error');}finally{setLoading(false);}};const handleNoShow=async turno=>{console.log('üö´ TURNOS - Marcando turno como NO SHOW ID:',turno.id);try{setLoading(true);const updatedTurno=await turnosService.marcarNoShow(turno.id);console.log('‚úÖ TURNOS - Turno marcado como NO SHOW exitosamente:',updatedTurno);dispatch({type:'UPDATE_TURNO',payload:updatedTurno});showSnackbar('Turno marcado como NO SHOW','success');}catch(error){console.error('‚ùå TURNOS - Error al marcar NO SHOW:',error);showSnackbar('Error al marcar NO SHOW','error');}finally{setLoading(false);}};const getPacienteNombre=React.useCallback(pacienteId=>{const paciente=state.pacientes.find(p=>p.id===pacienteId);return paciente?\"\".concat(paciente.nombre,\" \").concat(paciente.apellido):'N/A';},[state.pacientes]);const getMedicoNombre=React.useCallback(medicoId=>{const medico=state.medicos.find(m=>m.id===medicoId);return medico?\"Dr. \".concat(medico.nombre,\" \").concat(medico.apellido,\" - \").concat(medico.especialidad):'N/A';},[state.medicos]);const getEstadoColor=React.useCallback(estado=>{const estadoObj=estadosTurno.find(e=>e.value===estado);return estadoObj?estadoObj.color:'default';},[]);const getEstadoLabel=React.useCallback(estado=>{const estadoObj=estadosTurno.find(e=>e.value===estado);return estadoObj?estadoObj.label:estado;},[]);const filteredTurnos=React.useMemo(()=>{return state.turnos.filter(turno=>{const matchesSearch=getPacienteNombre(turno.pacienteId).toLowerCase().includes(searchTerm.toLowerCase())||getMedicoNombre(turno.medicoId).toLowerCase().includes(searchTerm.toLowerCase())||turno.motivo.toLowerCase().includes(searchTerm.toLowerCase());const matchesEstado=estadoFilter===''||turno.estado===estadoFilter;return matchesSearch&&matchesEstado;});},[state.turnos,searchTerm,estadoFilter,getPacienteNombre,getMedicoNombre]);const stats=React.useMemo(()=>{const total=state.turnos.length;const pendientes=state.turnos.filter(t=>t.estado==='PENDIENTE').length;const confirmados=state.turnos.filter(t=>t.estado==='CONFIRMADO').length;const cancelados=state.turnos.filter(t=>t.estado==='CANCELADO').length;const completados=state.turnos.filter(t=>t.estado==='COMPLETADO').length;return{total,pendientes,confirmados,cancelados,completados};},[state.turnos]);return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:3},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",sx:{display:'flex',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsx(ScheduleIcon,{color:\"primary\"}),\"Gesti\\xF3n de Turnos\"]}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(AddIcon,{}),onClick:()=>handleOpenDialog(),size:\"large\",children:\"Nuevo Turno\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexWrap:'wrap',gap:2,mb:3},children:[/*#__PURE__*/_jsx(Card,{sx:{textAlign:'center',bgcolor:'primary.light',color:'white',minWidth:150,flex:1},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.total}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Total Turnos\"})]})}),/*#__PURE__*/_jsx(Card,{sx:{textAlign:'center',bgcolor:'warning.light',color:'white',minWidth:150,flex:1},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.pendientes}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Pendientes\"})]})}),/*#__PURE__*/_jsx(Card,{sx:{textAlign:'center',bgcolor:'success.light',color:'white',minWidth:150,flex:1},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.confirmados}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Confirmados\"})]})}),/*#__PURE__*/_jsx(Card,{sx:{textAlign:'center',bgcolor:'info.light',color:'white',minWidth:150,flex:1},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.completados}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Completados\"})]})}),/*#__PURE__*/_jsx(Card,{sx:{textAlign:'center',bgcolor:'error.light',color:'white',minWidth:150,flex:1},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.cancelados}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Cancelados\"})]})})]}),/*#__PURE__*/_jsx(Card,{sx:{mb:3},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexWrap:'wrap',gap:2,alignItems:'center'},children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,placeholder:\"Buscar por paciente, m\\xE9dico o motivo...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),InputProps:{startAdornment:/*#__PURE__*/_jsx(SearchIcon,{sx:{mr:1,color:'text.secondary'}})},sx:{flex:1,minWidth:300}}),/*#__PURE__*/_jsxs(FormControl,{sx:{minWidth:200},children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Filtrar por Estado\"}),/*#__PURE__*/_jsxs(Select,{value:estadoFilter,label:\"Filtrar por Estado\",onChange:e=>setEstadoFilter(e.target.value),startAdornment:/*#__PURE__*/_jsx(FilterListIcon,{sx:{mr:1,color:'text.secondary'}}),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"Todos los estados\"}),estadosTurno.map(estado=>/*#__PURE__*/_jsx(MenuItem,{value:estado.value,children:estado.label},estado.value))]})]})]})})}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(TableContainer,{component:Paper,elevation:2,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{sx:{bgcolor:'primary.main'},children:[/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"ID\"}),/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"Paciente\"}),/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"M\\xE9dico\"}),/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"Fecha\"}),/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"Hora\"}),/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"Estado\"}),/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"Motivo\"}),/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:loading?/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsxs(TableCell,{colSpan:8,align:\"center\",sx:{py:4},children:[/*#__PURE__*/_jsx(CircularProgress,{}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{mt:1},children:\"Cargando turnos...\"})]})}):filteredTurnos.length===0?/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{colSpan:8,align:\"center\",sx:{py:4},children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",children:searchTerm||estadoFilter?'No se encontraron turnos con los filtros aplicados':'No hay turnos registrados'})})}):filteredTurnos.map(turno=>/*#__PURE__*/_jsxs(TableRow,{hover:true,children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Chip,{label:\"#\".concat(turno.id),size:\"small\",color:\"primary\",icon:/*#__PURE__*/_jsx(ScheduleIcon,{})})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:1,children:[/*#__PURE__*/_jsx(PersonIcon,{color:\"action\",fontSize:\"small\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:getPacienteNombre(turno.pacienteId)})]})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:1,children:[/*#__PURE__*/_jsx(LocalHospitalIcon,{color:\"action\",fontSize:\"small\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:getMedicoNombre(turno.medicoId)})]})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:1,children:[/*#__PURE__*/_jsx(CalendarTodayIcon,{color:\"action\",fontSize:\"small\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:new Date(turno.fecha).toLocaleDateString('es-ES',{weekday:'long',year:'numeric',month:'long',day:'numeric'})})]})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:1,children:[/*#__PURE__*/_jsx(AccessTimeIcon,{color:\"action\",fontSize:\"small\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",fontWeight:\"bold\",children:turno.hora})]})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Chip,{label:getEstadoLabel(turno.estado),color:getEstadoColor(turno.estado),size:\"small\",variant:\"filled\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",noWrap:true,sx:{maxWidth:200},children:turno.motivo})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:0.5,flexWrap:'wrap'},children:[turno.estado==='PENDIENTE'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Confirmar Turno\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>handleConfirmar(turno),color:\"success\",children:/*#__PURE__*/_jsx(CheckCircleIcon,{})})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Cancelar Turno\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>{setTurnoToCancel(turno);setOpenCancelDialog(true);},color:\"error\",children:/*#__PURE__*/_jsx(CancelIcon,{})})})]}),turno.estado==='CONFIRMADO'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Marcar como Completado\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>handleCompletar(turno),color:\"info\",children:/*#__PURE__*/_jsx(EventAvailableIcon,{})})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Marcar como No Show\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>handleNoShow(turno),color:\"warning\",children:/*#__PURE__*/_jsx(CancelIcon,{})})})]}),/*#__PURE__*/_jsx(Tooltip,{title:\"Editar Turno\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>handleOpenDialog(turno),color:\"primary\",children:/*#__PURE__*/_jsx(EditIcon,{})})})]})})]},turno.id))})]})})})}),/*#__PURE__*/_jsxs(Dialog,{open:openDialog,onClose:handleCloseDialog,maxWidth:\"md\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:1,children:[/*#__PURE__*/_jsx(ScheduleIcon,{color:\"primary\"}),editingTurno?'Editar Turno':'Nuevo Turno']})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexWrap:'wrap',gap:2,mt:1},children:[/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,required:true,sx:{minWidth:250,flex:'1 1 300px'},children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Paciente\"}),/*#__PURE__*/_jsx(Select,{value:formData.pacienteId,label:\"Paciente\",onChange:e=>handleInputChange('pacienteId',Number(e.target.value)),children:state.pacientes.map(paciente=>/*#__PURE__*/_jsxs(MenuItem,{value:paciente.id,children:[paciente.dni,\" - \",paciente.nombre,\" \",paciente.apellido]},paciente.id))})]}),/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,required:true,sx:{minWidth:250,flex:'1 1 300px'},children:[/*#__PURE__*/_jsx(InputLabel,{children:\"M\\xE9dico\"}),/*#__PURE__*/_jsx(Select,{value:formData.medicoId,label:\"M\\xE9dico\",onChange:e=>handleInputChange('medicoId',Number(e.target.value)),children:state.medicos.filter(m=>m.activo).map(medico=>/*#__PURE__*/_jsxs(MenuItem,{value:medico.id,children:[medico.matricula,\" - Dr. \",medico.nombre,\" \",medico.apellido,\" (\",medico.especialidad,\")\"]},medico.id))})]}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Fecha\",type:\"date\",value:formData.fecha,onChange:e=>handleInputChange('fecha',e.target.value),InputLabelProps:{shrink:true},required:true,sx:{minWidth:250,flex:'1 1 300px'}}),/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,required:true,sx:{minWidth:250,flex:'1 1 300px'},children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Hora\"}),/*#__PURE__*/_jsx(Select,{value:formData.hora,label:\"Hora\",onChange:e=>handleInputChange('hora',e.target.value),children:horasDisponibles.map(hora=>/*#__PURE__*/_jsx(MenuItem,{value:hora,children:hora},hora))})]}),/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,required:true,sx:{minWidth:250,flex:'1 1 300px'},children:[/*#__PURE__*/_jsx(InputLabel,{children:\"D\\xEDa de la Semana\"}),/*#__PURE__*/_jsx(Select,{value:formData.diaSemana,label:\"D\\xEDa de la Semana\",onChange:e=>handleInputChange('diaSemana',Number(e.target.value)),children:diasSemana.map(dia=>/*#__PURE__*/_jsx(MenuItem,{value:dia.value,children:dia.label},dia.value))})]}),/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,sx:{minWidth:250,flex:'1 1 300px'},children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Estado\"}),/*#__PURE__*/_jsx(Select,{value:formData.estado,label:\"Estado\",onChange:e=>handleInputChange('estado',e.target.value),children:estadosTurno.map(estado=>/*#__PURE__*/_jsx(MenuItem,{value:estado.value,children:estado.label},estado.value))})]}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Motivo de la Consulta\",value:formData.motivo,onChange:e=>handleInputChange('motivo',e.target.value),required:true,helperText:\"Descripci\\xF3n del motivo de la consulta\",sx:{flex:'1 1 100%'}}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Observaciones\",value:formData.observaciones,onChange:e=>handleInputChange('observaciones',e.target.value),multiline:true,rows:3,helperText:\"Observaciones adicionales sobre el turno\",sx:{flex:'1 1 100%'}})]})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(DialogActions,{sx:{p:2},children:[/*#__PURE__*/_jsx(Button,{onClick:handleCloseDialog,variant:\"outlined\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,variant:\"contained\",disabled:loading||!canSubmit,startIcon:loading?/*#__PURE__*/_jsx(CircularProgress,{size:20}):undefined,children:loading?'Guardando...':editingTurno?'Actualizar':'Crear'})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:openCancelDialog,onClose:()=>setOpenCancelDialog(false),children:[/*#__PURE__*/_jsx(DialogTitle,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:1,children:[/*#__PURE__*/_jsx(CancelIcon,{color:\"error\"}),\"Cancelar Turno\"]})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(DialogContentText,{sx:{mb:2},children:\"\\xBFEst\\xE1 seguro de que desea cancelar este turno? Esta acci\\xF3n generar\\xE1 una notificaci\\xF3n autom\\xE1tica.\"}),/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",label:\"Motivo de la cancelaci\\xF3n\",fullWidth:true,variant:\"outlined\",value:motivoCancelacion,onChange:e=>setMotivoCancelacion(e.target.value),required:true,helperText:\"Es obligatorio especificar el motivo de la cancelaci\\xF3n\"})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(DialogActions,{sx:{p:2},children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setOpenCancelDialog(false),variant:\"outlined\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>handleCancelar(turnoToCancel,motivoCancelacion),variant:\"contained\",color:\"error\",disabled:loading||!motivoCancelacion.trim(),startIcon:loading?/*#__PURE__*/_jsx(CircularProgress,{size:20}):undefined,children:loading?'Cancelando...':'Confirmar Cancelaci√≥n'})]})]}),/*#__PURE__*/_jsx(Snackbar,{open:snackbar.open,autoHideDuration:6000,onClose:()=>setSnackbar(_objectSpread(_objectSpread({},snackbar),{},{open:false})),children:/*#__PURE__*/_jsx(Alert,{onClose:()=>setSnackbar(_objectSpread(_objectSpread({},snackbar),{},{open:false})),severity:snackbar.severity,sx:{width:'100%'},children:snackbar.message})})]});}","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Button","Card","CardContent","TextField","Dialog","DialogTitle","DialogContent","DialogActions","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","IconButton","Chip","Alert","Snackbar","CircularProgress","Select","MenuItem","FormControl","InputLabel","Tooltip","DialogContentText","Divider","Stack","Add","AddIcon","Edit","EditIcon","CheckCircle","CheckCircleIcon","Cancel","CancelIcon","EventAvailable","EventAvailableIcon","Person","PersonIcon","LocalHospital","LocalHospitalIcon","AccessTime","AccessTimeIcon","CalendarToday","CalendarTodayIcon","Schedule","ScheduleIcon","Search","SearchIcon","FilterList","FilterListIcon","useApp","turnosService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","initialFormData","pacienteId","medicoId","fecha","hora","diaSemana","estado","motivo","observaciones","horasDisponibles","diasSemana","value","label","estadosTurno","color","Turnos","state","dispatch","openDialog","setOpenDialog","openCancelDialog","setOpenCancelDialog","editingTurno","setEditingTurno","formData","setFormData","searchTerm","setSearchTerm","estadoFilter","setEstadoFilter","loading","setLoading","snackbar","setSnackbar","open","message","severity","turnoToCancel","setTurnoToCancel","motivoCancelacion","setMotivoCancelacion","showSnackbar","loadTurnos","turnos","getAllTurnos","type","payload","error","handleOpenDialog","turno","split","handleCloseDialog","handleInputChange","field","prev","_objectSpread","validateForm","trim","fechaTurno","Date","concat","ahora","parseInt","canSubmit","useMemo","validateFormWithMessages","handleSubmit","console","log","operacion","datos","timestamp","toISOString","id","updatedTurno","updateTurno","newTurno","createTurno","handleConfirmar","confirmarTurno","handleCancelar","cancelarTurno","handleCompletar","completarTurno","handleNoShow","marcarNoShow","getPacienteNombre","useCallback","paciente","pacientes","find","p","nombre","apellido","getMedicoNombre","medico","medicos","m","especialidad","getEstadoColor","estadoObj","e","getEstadoLabel","filteredTurnos","filter","matchesSearch","toLowerCase","includes","matchesEstado","stats","total","length","pendientes","t","confirmados","cancelados","completados","children","sx","display","justifyContent","alignItems","mb","variant","gap","startIcon","onClick","size","flexWrap","textAlign","bgcolor","minWidth","flex","fullWidth","placeholder","onChange","target","InputProps","startAdornment","mr","map","component","elevation","fontWeight","colSpan","align","py","mt","hover","icon","direction","spacing","fontSize","toLocaleDateString","weekday","year","month","day","noWrap","maxWidth","title","onClose","required","Number","dni","activo","matricula","InputLabelProps","shrink","dia","helperText","multiline","rows","disabled","undefined","autoFocus","margin","autoHideDuration","width"],"sources":["C:/Users/Asus/Documents/GitHub/proyecto-3-arquitectura/frontend/portal-web/src/pages/Turnos.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  TextField,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  IconButton,\r\n  Chip,\r\n  Alert,\r\n  Snackbar,\r\n  CircularProgress,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  Tooltip,\r\n  DialogContentText,\r\n  Divider,\r\n  Stack,\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  CheckCircle as CheckCircleIcon,\r\n  Cancel as CancelIcon,\r\n  EventAvailable as EventAvailableIcon,\r\n  Person as PersonIcon,\r\n  LocalHospital as LocalHospitalIcon,\r\n  AccessTime as AccessTimeIcon,\r\n  CalendarToday as CalendarTodayIcon,\r\n  Schedule as ScheduleIcon,\r\n  Search as SearchIcon,\r\n  FilterList as FilterListIcon,\r\n} from '@mui/icons-material';\r\nimport { useApp } from '../contexts/AppContext';\r\nimport { turnosService } from '../services/turnosService';\r\nimport { Turno } from '../contexts/AppContext';\r\n\r\ninterface TurnoFormData {\r\n  pacienteId: number;\r\n  medicoId: number;\r\n  fecha: string;\r\n  hora: string;\r\n  diaSemana: number;\r\n  estado: 'PENDIENTE' | 'CONFIRMADO' | 'CANCELADO' | 'COMPLETADO' | 'NO_SHOW';\r\n  motivo: string;\r\n  observaciones: string;\r\n}\r\n\r\nconst initialFormData: TurnoFormData = {\r\n  pacienteId: 0,\r\n  medicoId: 0,\r\n  fecha: '',\r\n  hora: '',\r\n  diaSemana: 0,\r\n  estado: 'PENDIENTE',\r\n  motivo: '',\r\n  observaciones: '',\r\n};\r\n\r\nconst horasDisponibles = [\r\n  '08:00', '08:30', '09:00', '09:30', '10:00', '10:30', '11:00', '11:30',\r\n  '14:00', '14:30', '15:00', '15:30', '16:00', '16:30', '17:00', '17:30'\r\n];\r\n\r\nconst diasSemana = [\r\n  { value: 0, label: 'Domingo' },\r\n  { value: 1, label: 'Lunes' },\r\n  { value: 2, label: 'Martes' },\r\n  { value: 3, label: 'Mi√©rcoles' },\r\n  { value: 4, label: 'Jueves' },\r\n  { value: 5, label: 'Viernes' },\r\n  { value: 6, label: 'S√°bado' },\r\n];\r\n\r\nconst estadosTurno = [\r\n  { value: 'PENDIENTE', label: 'Pendiente', color: 'warning' as const },\r\n  { value: 'CONFIRMADO', label: 'Confirmado', color: 'success' as const },\r\n  { value: 'CANCELADO', label: 'Cancelado', color: 'error' as const },\r\n  { value: 'COMPLETADO', label: 'Completado', color: 'info' as const },\r\n  { value: 'NO_SHOW', label: 'No Show', color: 'default' as const },\r\n];\r\n\r\nexport default function Turnos() {\r\n  const { state, dispatch } = useApp();\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n  const [openCancelDialog, setOpenCancelDialog] = useState(false);\r\n  const [editingTurno, setEditingTurno] = useState<Turno | null>(null);\r\n  const [formData, setFormData] = useState<TurnoFormData>(initialFormData);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [estadoFilter, setEstadoFilter] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'success' as 'success' | 'error' });\r\n  const [turnoToCancel, setTurnoToCancel] = useState<Turno | null>(null);\r\n  const [motivoCancelacion, setMotivoCancelacion] = useState('');\r\n\r\n  const showSnackbar = (message: string, severity: 'success' | 'error') => {\r\n    setSnackbar({ open: true, message, severity });\r\n  };\r\n\r\n  const loadTurnos = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const turnos = await turnosService.getAllTurnos();\r\n      dispatch({ type: 'SET_TURNOS', payload: turnos.turnos });\r\n    } catch (error) {\r\n      showSnackbar('Error al cargar turnos', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadTurnos();\r\n  }, []);\r\n\r\n  const handleOpenDialog = (turno?: Turno) => {\r\n    if (turno) {\r\n      setEditingTurno(turno);\r\n      setFormData({\r\n        pacienteId: turno.pacienteId,\r\n        medicoId: turno.medicoId,\r\n        fecha: turno.fecha.split('T')[0],\r\n        hora: turno.hora,\r\n        diaSemana: turno.diaSemana,\r\n        estado: turno.estado,\r\n        motivo: turno.motivo,\r\n        observaciones: turno.observaciones,\r\n      });\r\n    } else {\r\n      setEditingTurno(null);\r\n      setFormData(initialFormData);\r\n    }\r\n    setOpenDialog(true);\r\n  };\r\n\r\n  const handleCloseDialog = () => {\r\n    setOpenDialog(false);\r\n    setEditingTurno(null);\r\n    setFormData(initialFormData);\r\n  };\r\n\r\n  const handleInputChange = (field: keyof TurnoFormData, value: string | number) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const validateForm = (): boolean => {\r\n    // Validar campos b√°sicos\r\n    if (formData.pacienteId <= 0 || formData.medicoId <= 0) {\r\n      return false;\r\n    }\r\n\r\n    if (formData.fecha === '' || formData.hora === '') {\r\n      return false;\r\n    }\r\n\r\n    if (formData.motivo.trim() === '') {\r\n      return false;\r\n    }\r\n\r\n    // Validar que la fecha sea futura\r\n    const fechaTurno = new Date(`${formData.fecha}T${formData.hora}`);\r\n    const ahora = new Date();\r\n    \r\n    if (fechaTurno <= ahora) {\r\n      return false;\r\n    }\r\n\r\n    // Validar que no sea domingo (d√≠a 0)\r\n    if (formData.diaSemana === 0) {\r\n      return false;\r\n    }\r\n\r\n    // Validar horario de atenci√≥n (8:00 - 18:00)\r\n    const hora = parseInt(formData.hora.split(':')[0]);\r\n    if (hora < 8 || hora > 18) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  // Validaci√≥n pura para el bot√≥n (sin setState)\r\n  const canSubmit = React.useMemo(() => {\r\n    return formData.pacienteId > 0 && \r\n           formData.medicoId > 0 && \r\n           formData.fecha !== '' && \r\n           formData.hora !== '' && \r\n           formData.motivo.trim() !== '' &&\r\n           formData.diaSemana !== 0;\r\n  }, [formData.pacienteId, formData.medicoId, formData.fecha, formData.hora, formData.motivo, formData.diaSemana]);\r\n\r\n  const validateFormWithMessages = (): boolean => {\r\n    // Validar campos b√°sicos\r\n    if (formData.pacienteId <= 0 || formData.medicoId <= 0) {\r\n      showSnackbar('Debe seleccionar un paciente y un m√©dico', 'error');\r\n      return false;\r\n    }\r\n\r\n    if (formData.fecha === '' || formData.hora === '') {\r\n      showSnackbar('Debe seleccionar fecha y hora', 'error');\r\n      return false;\r\n    }\r\n\r\n    if (formData.motivo.trim() === '') {\r\n      showSnackbar('El motivo de la consulta es obligatorio', 'error');\r\n      return false;\r\n    }\r\n\r\n    // Validar que la fecha sea futura\r\n    const fechaTurno = new Date(`${formData.fecha}T${formData.hora}`);\r\n    const ahora = new Date();\r\n    \r\n    if (fechaTurno <= ahora) {\r\n      showSnackbar('La fecha y hora del turno debe ser futura', 'error');\r\n      return false;\r\n    }\r\n\r\n    // Validar que no sea domingo (d√≠a 0)\r\n    if (formData.diaSemana === 0) {\r\n      showSnackbar('No se pueden agendar turnos en domingo', 'error');\r\n      return false;\r\n    }\r\n\r\n    // Validar horario de atenci√≥n (8:00 - 18:00)\r\n    const hora = parseInt(formData.hora.split(':')[0]);\r\n    if (hora < 8 || hora > 18) {\r\n      showSnackbar('Los turnos deben estar entre las 8:00 y 18:00', 'error');\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!validateFormWithMessages()) {\r\n      return;\r\n    }\r\n\r\n    // Log de datos que se van a enviar\r\n    console.log('üöÄ TURNOS - Datos a enviar:', {\r\n      operacion: editingTurno ? 'ACTUALIZAR' : 'CREAR',\r\n      datos: formData,\r\n      timestamp: new Date().toISOString()\r\n    });\r\n\r\n    try {\r\n      setLoading(true);\r\n      if (editingTurno) {\r\n        console.log('üìù TURNOS - Actualizando turno ID:', editingTurno.id);\r\n        const updatedTurno = await turnosService.updateTurno(editingTurno.id, formData);\r\n        console.log('‚úÖ TURNOS - Turno actualizado exitosamente:', updatedTurno);\r\n        dispatch({ type: 'UPDATE_TURNO', payload: updatedTurno });\r\n        showSnackbar('Turno actualizado exitosamente', 'success');\r\n      } else {\r\n        console.log('üÜï TURNOS - Creando nuevo turno');\r\n        const newTurno = await turnosService.createTurno(formData);\r\n        console.log('‚úÖ TURNOS - Turno creado exitosamente:', newTurno);\r\n        dispatch({ type: 'ADD_TURNO', payload: newTurno });\r\n        showSnackbar('Turno creado exitosamente', 'success');\r\n      }\r\n      handleCloseDialog();\r\n    } catch (error) {\r\n      console.error('‚ùå TURNOS - Error en operaci√≥n:', error);\r\n      console.error('‚ùå TURNOS - Datos que causaron el error:', formData);\r\n      showSnackbar('Error al guardar turno', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleConfirmar = async (turno: Turno) => {\r\n    console.log('‚úÖ TURNOS - Confirmando turno ID:', turno.id);\r\n    try {\r\n      setLoading(true);\r\n      const updatedTurno = await turnosService.confirmarTurno(turno.id);\r\n      console.log('‚úÖ TURNOS - Turno confirmado exitosamente:', updatedTurno);\r\n      dispatch({ type: 'UPDATE_TURNO', payload: updatedTurno });\r\n      showSnackbar('Turno confirmado exitosamente', 'success');\r\n    } catch (error) {\r\n      console.error('‚ùå TURNOS - Error al confirmar turno:', error);\r\n      showSnackbar('Error al confirmar turno', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCancelar = async (turno: Turno, motivo: string) => {\r\n    console.log('‚ùå TURNOS - Cancelando turno ID:', turno.id, 'con motivo:', motivo);\r\n    try {\r\n      setLoading(true);\r\n      const updatedTurno = await turnosService.cancelarTurno(turno.id, motivo);\r\n      console.log('‚úÖ TURNOS - Turno cancelado exitosamente:', updatedTurno);\r\n      dispatch({ type: 'UPDATE_TURNO', payload: updatedTurno });\r\n      showSnackbar('Turno cancelado exitosamente', 'success');\r\n    } catch (error) {\r\n      console.error('‚ùå TURNOS - Error al cancelar turno:', error);\r\n      showSnackbar('Error al cancelar turno', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCompletar = async (turno: Turno) => {\r\n    console.log('üèÅ TURNOS - Completando turno ID:', turno.id);\r\n    try {\r\n      setLoading(true);\r\n      const updatedTurno = await turnosService.completarTurno(turno.id);\r\n      console.log('‚úÖ TURNOS - Turno completado exitosamente:', updatedTurno);\r\n      dispatch({ type: 'UPDATE_TURNO', payload: updatedTurno });\r\n      showSnackbar('Turno completado exitosamente', 'success');\r\n    } catch (error) {\r\n      console.error('‚ùå TURNOS - Error al completar turno:', error);\r\n      showSnackbar('Error al completar turno', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleNoShow = async (turno: Turno) => {\r\n    console.log('üö´ TURNOS - Marcando turno como NO SHOW ID:', turno.id);\r\n    try {\r\n      setLoading(true);\r\n      const updatedTurno = await turnosService.marcarNoShow(turno.id);\r\n      console.log('‚úÖ TURNOS - Turno marcado como NO SHOW exitosamente:', updatedTurno);\r\n      dispatch({ type: 'UPDATE_TURNO', payload: updatedTurno });\r\n      showSnackbar('Turno marcado como NO SHOW', 'success');\r\n    } catch (error) {\r\n      console.error('‚ùå TURNOS - Error al marcar NO SHOW:', error);\r\n      showSnackbar('Error al marcar NO SHOW', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getPacienteNombre = React.useCallback((pacienteId: number): string => {\r\n    const paciente = state.pacientes.find(p => p.id === pacienteId);\r\n    return paciente ? `${paciente.nombre} ${paciente.apellido}` : 'N/A';\r\n  }, [state.pacientes]);\r\n\r\n  const getMedicoNombre = React.useCallback((medicoId: number): string => {\r\n    const medico = state.medicos.find(m => m.id === medicoId);\r\n    return medico ? `Dr. ${medico.nombre} ${medico.apellido} - ${medico.especialidad}` : 'N/A';\r\n  }, [state.medicos]);\r\n\r\n  const getEstadoColor = React.useCallback((estado: string) => {\r\n    const estadoObj = estadosTurno.find(e => e.value === estado);\r\n    return estadoObj ? estadoObj.color : 'default';\r\n  }, []);\r\n\r\n  const getEstadoLabel = React.useCallback((estado: string) => {\r\n    const estadoObj = estadosTurno.find(e => e.value === estado);\r\n    return estadoObj ? estadoObj.label : estado;\r\n  }, []);\r\n\r\n  const filteredTurnos = React.useMemo(() => {\r\n    return state.turnos.filter(turno => {\r\n      const matchesSearch = \r\n        getPacienteNombre(turno.pacienteId).toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        getMedicoNombre(turno.medicoId).toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        turno.motivo.toLowerCase().includes(searchTerm.toLowerCase());\r\n      \r\n      const matchesEstado = estadoFilter === '' || turno.estado === estadoFilter;\r\n      \r\n      return matchesSearch && matchesEstado;\r\n    });\r\n  }, [state.turnos, searchTerm, estadoFilter, getPacienteNombre, getMedicoNombre]);\r\n\r\n  const stats = React.useMemo(() => {\r\n    const total = state.turnos.length;\r\n    const pendientes = state.turnos.filter(t => t.estado === 'PENDIENTE').length;\r\n    const confirmados = state.turnos.filter(t => t.estado === 'CONFIRMADO').length;\r\n    const cancelados = state.turnos.filter(t => t.estado === 'CANCELADO').length;\r\n    const completados = state.turnos.filter(t => t.estado === 'COMPLETADO').length;\r\n    \r\n    return { total, pendientes, confirmados, cancelados, completados };\r\n  }, [state.turnos]);\r\n\r\n  return (\r\n    <Box>\r\n      {/* Header con estad√≠sticas */}\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\r\n        <Typography variant=\"h4\" sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n          <ScheduleIcon color=\"primary\" />\r\n          Gesti√≥n de Turnos\r\n        </Typography>\r\n        <Button\r\n          variant=\"contained\"\r\n          startIcon={<AddIcon />}\r\n          onClick={() => handleOpenDialog()}\r\n          size=\"large\"\r\n        >\r\n          Nuevo Turno\r\n        </Button>\r\n      </Box>\r\n\r\n      {/* Estad√≠sticas r√°pidas */}\r\n      <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2, mb: 3 }}>\r\n        <Card sx={{ textAlign: 'center', bgcolor: 'primary.light', color: 'white', minWidth: 150, flex: 1 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\">{stats.total}</Typography>\r\n            <Typography variant=\"body2\">Total Turnos</Typography>\r\n          </CardContent>\r\n        </Card>\r\n        <Card sx={{ textAlign: 'center', bgcolor: 'warning.light', color: 'white', minWidth: 150, flex: 1 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\">{stats.pendientes}</Typography>\r\n            <Typography variant=\"body2\">Pendientes</Typography>\r\n          </CardContent>\r\n        </Card>\r\n        <Card sx={{ textAlign: 'center', bgcolor: 'success.light', color: 'white', minWidth: 150, flex: 1 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\">{stats.confirmados}</Typography>\r\n            <Typography variant=\"body2\">Confirmados</Typography>\r\n          </CardContent>\r\n        </Card>\r\n        <Card sx={{ textAlign: 'center', bgcolor: 'info.light', color: 'white', minWidth: 150, flex: 1 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\">{stats.completados}</Typography>\r\n            <Typography variant=\"body2\">Completados</Typography>\r\n          </CardContent>\r\n        </Card>\r\n        <Card sx={{ textAlign: 'center', bgcolor: 'error.light', color: 'white', minWidth: 150, flex: 1 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\">{stats.cancelados}</Typography>\r\n            <Typography variant=\"body2\">Cancelados</Typography>\r\n          </CardContent>\r\n        </Card>\r\n      </Box>\r\n\r\n      {/* Filtros de b√∫squeda */}\r\n      <Card sx={{ mb: 3 }}>\r\n        <CardContent>\r\n          <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2, alignItems: 'center' }}>\r\n            <TextField\r\n              fullWidth\r\n              placeholder=\"Buscar por paciente, m√©dico o motivo...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              InputProps={{\r\n                startAdornment: <SearchIcon sx={{ mr: 1, color: 'text.secondary' }} />,\r\n              }}\r\n              sx={{ flex: 1, minWidth: 300 }}\r\n            />\r\n            <FormControl sx={{ minWidth: 200 }}>\r\n              <InputLabel>Filtrar por Estado</InputLabel>\r\n              <Select\r\n                value={estadoFilter}\r\n                label=\"Filtrar por Estado\"\r\n                onChange={(e) => setEstadoFilter(e.target.value)}\r\n                startAdornment={<FilterListIcon sx={{ mr: 1, color: 'text.secondary' }} />}\r\n              >\r\n                <MenuItem value=\"\">Todos los estados</MenuItem>\r\n                {estadosTurno.map((estado) => (\r\n                  <MenuItem key={estado.value} value={estado.value}>\r\n                    {estado.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </Box>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Tabla de turnos */}\r\n      <Card>\r\n        <CardContent>\r\n          <TableContainer component={Paper} elevation={2}>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow sx={{ bgcolor: 'primary.main' }}>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>ID</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>Paciente</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>M√©dico</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>Fecha</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>Hora</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>Estado</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>Motivo</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>Acciones</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {loading ? (\r\n                  <TableRow>\r\n                    <TableCell colSpan={8} align=\"center\" sx={{ py: 4 }}>\r\n                      <CircularProgress />\r\n                      <Typography variant=\"body2\" sx={{ mt: 1 }}>\r\n                        Cargando turnos...\r\n                      </Typography>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ) : filteredTurnos.length === 0 ? (\r\n                  <TableRow>\r\n                    <TableCell colSpan={8} align=\"center\" sx={{ py: 4 }}>\r\n                      <Typography variant=\"body1\" color=\"text.secondary\">\r\n                        {searchTerm || estadoFilter ? 'No se encontraron turnos con los filtros aplicados' : 'No hay turnos registrados'}\r\n                      </Typography>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ) : (\r\n                  filteredTurnos.map((turno) => (\r\n                    <TableRow key={turno.id} hover>\r\n                      <TableCell>\r\n                        <Chip \r\n                          label={`#${turno.id}`} \r\n                          size=\"small\" \r\n                          color=\"primary\"\r\n                          icon={<ScheduleIcon />}\r\n                        />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Stack direction=\"row\" alignItems=\"center\" spacing={1}>\r\n                          <PersonIcon color=\"action\" fontSize=\"small\" />\r\n                          <Typography variant=\"body2\">\r\n                            {getPacienteNombre(turno.pacienteId)}\r\n                          </Typography>\r\n                        </Stack>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Stack direction=\"row\" alignItems=\"center\" spacing={1}>\r\n                          <LocalHospitalIcon color=\"action\" fontSize=\"small\" />\r\n                          <Typography variant=\"body2\">\r\n                            {getMedicoNombre(turno.medicoId)}\r\n                          </Typography>\r\n                        </Stack>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Stack direction=\"row\" alignItems=\"center\" spacing={1}>\r\n                          <CalendarTodayIcon color=\"action\" fontSize=\"small\" />\r\n                          <Typography variant=\"body2\">\r\n                            {new Date(turno.fecha).toLocaleDateString('es-ES', {\r\n                              weekday: 'long',\r\n                              year: 'numeric',\r\n                              month: 'long',\r\n                              day: 'numeric'\r\n                            })}\r\n                          </Typography>\r\n                        </Stack>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Stack direction=\"row\" alignItems=\"center\" spacing={1}>\r\n                          <AccessTimeIcon color=\"action\" fontSize=\"small\" />\r\n                          <Typography variant=\"body2\" fontWeight=\"bold\">\r\n                            {turno.hora}\r\n                          </Typography>\r\n                        </Stack>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Chip\r\n                          label={getEstadoLabel(turno.estado)}\r\n                          color={getEstadoColor(turno.estado)}\r\n                          size=\"small\"\r\n                          variant=\"filled\"\r\n                        />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Typography variant=\"body2\" noWrap sx={{ maxWidth: 200 }}>\r\n                          {turno.motivo}\r\n                        </Typography>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Box sx={{ display: 'flex', gap: 0.5, flexWrap: 'wrap' }}>\r\n                          {turno.estado === 'PENDIENTE' && (\r\n                            <>\r\n                              <Tooltip title=\"Confirmar Turno\">\r\n                                <IconButton\r\n                                  size=\"small\"\r\n                                  onClick={() => handleConfirmar(turno)}\r\n                                  color=\"success\"\r\n                                >\r\n                                  <CheckCircleIcon />\r\n                                </IconButton>\r\n                              </Tooltip>\r\n                              <Tooltip title=\"Cancelar Turno\">\r\n                                <IconButton\r\n                                  size=\"small\"\r\n                                  onClick={() => {\r\n                                    setTurnoToCancel(turno);\r\n                                    setOpenCancelDialog(true);\r\n                                  }}\r\n                                  color=\"error\"\r\n                                >\r\n                                  <CancelIcon />\r\n                                </IconButton>\r\n                              </Tooltip>\r\n                            </>\r\n                          )}\r\n                          \r\n                          {turno.estado === 'CONFIRMADO' && (\r\n                            <>\r\n                              <Tooltip title=\"Marcar como Completado\">\r\n                                <IconButton\r\n                                  size=\"small\"\r\n                                  onClick={() => handleCompletar(turno)}\r\n                                  color=\"info\"\r\n                                >\r\n                                  <EventAvailableIcon />\r\n                                </IconButton>\r\n                              </Tooltip>\r\n                              <Tooltip title=\"Marcar como No Show\">\r\n                                <IconButton\r\n                                  size=\"small\"\r\n                                  onClick={() => handleNoShow(turno)}\r\n                                  color=\"warning\"\r\n                                >\r\n                                  <CancelIcon />\r\n                                </IconButton>\r\n                              </Tooltip>\r\n                            </>\r\n                          )}\r\n                          \r\n                          <Tooltip title=\"Editar Turno\">\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              onClick={() => handleOpenDialog(turno)}\r\n                              color=\"primary\"\r\n                            >\r\n                              <EditIcon />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                        </Box>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Di√°logo de formulario */}\r\n      <Dialog open={openDialog} onClose={handleCloseDialog} maxWidth=\"md\" fullWidth>\r\n        <DialogTitle>\r\n          <Stack direction=\"row\" alignItems=\"center\" spacing={1}>\r\n            <ScheduleIcon color=\"primary\" />\r\n            {editingTurno ? 'Editar Turno' : 'Nuevo Turno'}\r\n          </Stack>\r\n        </DialogTitle>\r\n        <Divider />\r\n        <DialogContent>\r\n          <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2, mt: 1 }}>\r\n            <FormControl fullWidth required sx={{ minWidth: 250, flex: '1 1 300px' }}>\r\n              <InputLabel>Paciente</InputLabel>\r\n              <Select\r\n                value={formData.pacienteId}\r\n                label=\"Paciente\"\r\n                onChange={(e) => handleInputChange('pacienteId', Number(e.target.value))}\r\n              >\r\n                {state.pacientes.map((paciente) => (\r\n                  <MenuItem key={paciente.id} value={paciente.id}>\r\n                    {paciente.dni} - {paciente.nombre} {paciente.apellido}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n            <FormControl fullWidth required sx={{ minWidth: 250, flex: '1 1 300px' }}>\r\n              <InputLabel>M√©dico</InputLabel>\r\n              <Select\r\n                value={formData.medicoId}\r\n                label=\"M√©dico\"\r\n                onChange={(e) => handleInputChange('medicoId', Number(e.target.value))}\r\n              >\r\n                {state.medicos.filter(m => m.activo).map((medico) => (\r\n                  <MenuItem key={medico.id} value={medico.id}>\r\n                    {medico.matricula} - Dr. {medico.nombre} {medico.apellido} ({medico.especialidad})\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n            <TextField\r\n              fullWidth\r\n              label=\"Fecha\"\r\n              type=\"date\"\r\n              value={formData.fecha}\r\n              onChange={(e) => handleInputChange('fecha', e.target.value)}\r\n              InputLabelProps={{ shrink: true }}\r\n              required\r\n              sx={{ minWidth: 250, flex: '1 1 300px' }}\r\n            />\r\n            <FormControl fullWidth required sx={{ minWidth: 250, flex: '1 1 300px' }}>\r\n              <InputLabel>Hora</InputLabel>\r\n              <Select\r\n                value={formData.hora}\r\n                label=\"Hora\"\r\n                onChange={(e) => handleInputChange('hora', e.target.value)}\r\n              >\r\n                {horasDisponibles.map((hora) => (\r\n                  <MenuItem key={hora} value={hora}>\r\n                    {hora}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n            <FormControl fullWidth required sx={{ minWidth: 250, flex: '1 1 300px' }}>\r\n              <InputLabel>D√≠a de la Semana</InputLabel>\r\n              <Select\r\n                value={formData.diaSemana}\r\n                label=\"D√≠a de la Semana\"\r\n                onChange={(e) => handleInputChange('diaSemana', Number(e.target.value))}\r\n              >\r\n                {diasSemana.map((dia) => (\r\n                  <MenuItem key={dia.value} value={dia.value}>\r\n                    {dia.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n            <FormControl fullWidth sx={{ minWidth: 250, flex: '1 1 300px' }}>\r\n              <InputLabel>Estado</InputLabel>\r\n              <Select\r\n                value={formData.estado}\r\n                label=\"Estado\"\r\n                onChange={(e) => handleInputChange('estado', e.target.value)}\r\n              >\r\n                {estadosTurno.map((estado) => (\r\n                  <MenuItem key={estado.value} value={estado.value}>\r\n                    {estado.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n            <TextField\r\n              fullWidth\r\n              label=\"Motivo de la Consulta\"\r\n              value={formData.motivo}\r\n              onChange={(e) => handleInputChange('motivo', e.target.value)}\r\n              required\r\n              helperText=\"Descripci√≥n del motivo de la consulta\"\r\n              sx={{ flex: '1 1 100%' }}\r\n            />\r\n            <TextField\r\n              fullWidth\r\n              label=\"Observaciones\"\r\n              value={formData.observaciones}\r\n              onChange={(e) => handleInputChange('observaciones', e.target.value)}\r\n              multiline\r\n              rows={3}\r\n              helperText=\"Observaciones adicionales sobre el turno\"\r\n              sx={{ flex: '1 1 100%' }}\r\n            />\r\n          </Box>\r\n        </DialogContent>\r\n        <Divider />\r\n        <DialogActions sx={{ p: 2 }}>\r\n          <Button onClick={handleCloseDialog} variant=\"outlined\">\r\n            Cancelar\r\n          </Button>\r\n          <Button\r\n            onClick={handleSubmit}\r\n            variant=\"contained\"\r\n            disabled={loading || !canSubmit}\r\n            startIcon={loading ? <CircularProgress size={20} /> : undefined}\r\n          >\r\n            {loading ? 'Guardando...' : (editingTurno ? 'Actualizar' : 'Crear')}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Di√°logo de cancelaci√≥n */}\r\n      <Dialog open={openCancelDialog} onClose={() => setOpenCancelDialog(false)}>\r\n        <DialogTitle>\r\n          <Stack direction=\"row\" alignItems=\"center\" spacing={1}>\r\n            <CancelIcon color=\"error\" />\r\n            Cancelar Turno\r\n          </Stack>\r\n        </DialogTitle>\r\n        <Divider />\r\n        <DialogContent>\r\n          <DialogContentText sx={{ mb: 2 }}>\r\n            ¬øEst√° seguro de que desea cancelar este turno? Esta acci√≥n generar√° una notificaci√≥n autom√°tica.\r\n          </DialogContentText>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            label=\"Motivo de la cancelaci√≥n\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            value={motivoCancelacion}\r\n            onChange={(e) => setMotivoCancelacion(e.target.value)}\r\n            required\r\n            helperText=\"Es obligatorio especificar el motivo de la cancelaci√≥n\"\r\n          />\r\n        </DialogContent>\r\n        <Divider />\r\n        <DialogActions sx={{ p: 2 }}>\r\n          <Button onClick={() => setOpenCancelDialog(false)} variant=\"outlined\">\r\n            Cancelar\r\n          </Button>\r\n          <Button \r\n                            onClick={() => handleCancelar(turnoToCancel!, motivoCancelacion)} \r\n            variant=\"contained\" \r\n            color=\"error\"\r\n            disabled={loading || !motivoCancelacion.trim()}\r\n            startIcon={loading ? <CircularProgress size={20} /> : undefined}\r\n          >\r\n            {loading ? 'Cancelando...' : 'Confirmar Cancelaci√≥n'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Snackbar para notificaciones */}\r\n      <Snackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={6000}\r\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n      >\r\n        <Alert\r\n          onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n          severity={snackbar.severity}\r\n          sx={{ width: '100%' }}\r\n        >\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n}\r\n"],"mappings":"+JAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OACEC,GAAG,CACHC,UAAU,CACVC,MAAM,CACNC,IAAI,CACJC,WAAW,CACXC,SAAS,CACTC,MAAM,CACNC,WAAW,CACXC,aAAa,CACbC,aAAa,CACbC,KAAK,CACLC,SAAS,CACTC,SAAS,CACTC,cAAc,CACdC,SAAS,CACTC,QAAQ,CACRC,KAAK,CACLC,UAAU,CACVC,IAAI,CACJC,KAAK,CACLC,QAAQ,CACRC,gBAAgB,CAChBC,MAAM,CACNC,QAAQ,CACRC,WAAW,CACXC,UAAU,CACVC,OAAO,CACPC,iBAAiB,CACjBC,OAAO,CACPC,KAAK,KACA,eAAe,CACtB,OACEC,GAAG,GAAI,CAAAC,OAAO,CACdC,IAAI,GAAI,CAAAC,QAAQ,CAChBC,WAAW,GAAI,CAAAC,eAAe,CAC9BC,MAAM,GAAI,CAAAC,UAAU,CACpBC,cAAc,GAAI,CAAAC,kBAAkB,CACpCC,MAAM,GAAI,CAAAC,UAAU,CACpBC,aAAa,GAAI,CAAAC,iBAAiB,CAClCC,UAAU,GAAI,CAAAC,cAAc,CAC5BC,aAAa,GAAI,CAAAC,iBAAiB,CAClCC,QAAQ,GAAI,CAAAC,YAAY,CACxBC,MAAM,GAAI,CAAAC,UAAU,CACpBC,UAAU,GAAI,CAAAC,cAAc,KACvB,qBAAqB,CAC5B,OAASC,MAAM,KAAQ,wBAAwB,CAC/C,OAASC,aAAa,KAAQ,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAc1D,KAAM,CAAAC,eAA8B,CAAG,CACrCC,UAAU,CAAE,CAAC,CACbC,QAAQ,CAAE,CAAC,CACXC,KAAK,CAAE,EAAE,CACTC,IAAI,CAAE,EAAE,CACRC,SAAS,CAAE,CAAC,CACZC,MAAM,CAAE,WAAW,CACnBC,MAAM,CAAE,EAAE,CACVC,aAAa,CAAE,EACjB,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAG,CACvB,OAAO,CAAE,OAAO,CAAE,OAAO,CAAE,OAAO,CAAE,OAAO,CAAE,OAAO,CAAE,OAAO,CAAE,OAAO,CACtE,OAAO,CAAE,OAAO,CAAE,OAAO,CAAE,OAAO,CAAE,OAAO,CAAE,OAAO,CAAE,OAAO,CAAE,OAAO,CACvE,CAED,KAAM,CAAAC,UAAU,CAAG,CACjB,CAAEC,KAAK,CAAE,CAAC,CAAEC,KAAK,CAAE,SAAU,CAAC,CAC9B,CAAED,KAAK,CAAE,CAAC,CAAEC,KAAK,CAAE,OAAQ,CAAC,CAC5B,CAAED,KAAK,CAAE,CAAC,CAAEC,KAAK,CAAE,QAAS,CAAC,CAC7B,CAAED,KAAK,CAAE,CAAC,CAAEC,KAAK,CAAE,WAAY,CAAC,CAChC,CAAED,KAAK,CAAE,CAAC,CAAEC,KAAK,CAAE,QAAS,CAAC,CAC7B,CAAED,KAAK,CAAE,CAAC,CAAEC,KAAK,CAAE,SAAU,CAAC,CAC9B,CAAED,KAAK,CAAE,CAAC,CAAEC,KAAK,CAAE,QAAS,CAAC,CAC9B,CAED,KAAM,CAAAC,YAAY,CAAG,CACnB,CAAEF,KAAK,CAAE,WAAW,CAAEC,KAAK,CAAE,WAAW,CAAEE,KAAK,CAAE,SAAmB,CAAC,CACrE,CAAEH,KAAK,CAAE,YAAY,CAAEC,KAAK,CAAE,YAAY,CAAEE,KAAK,CAAE,SAAmB,CAAC,CACvE,CAAEH,KAAK,CAAE,WAAW,CAAEC,KAAK,CAAE,WAAW,CAAEE,KAAK,CAAE,OAAiB,CAAC,CACnE,CAAEH,KAAK,CAAE,YAAY,CAAEC,KAAK,CAAE,YAAY,CAAEE,KAAK,CAAE,MAAgB,CAAC,CACpE,CAAEH,KAAK,CAAE,SAAS,CAAEC,KAAK,CAAE,SAAS,CAAEE,KAAK,CAAE,SAAmB,CAAC,CAClE,CAED,cAAe,SAAS,CAAAC,MAAMA,CAAA,CAAG,CAC/B,KAAM,CAAEC,KAAK,CAAEC,QAAS,CAAC,CAAGzB,MAAM,CAAC,CAAC,CACpC,KAAM,CAAC0B,UAAU,CAAEC,aAAa,CAAC,CAAGnF,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACoF,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGrF,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAACsF,YAAY,CAAEC,eAAe,CAAC,CAAGvF,QAAQ,CAAe,IAAI,CAAC,CACpE,KAAM,CAACwF,QAAQ,CAAEC,WAAW,CAAC,CAAGzF,QAAQ,CAAgBgE,eAAe,CAAC,CACxE,KAAM,CAAC0B,UAAU,CAAEC,aAAa,CAAC,CAAG3F,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAC4F,YAAY,CAAEC,eAAe,CAAC,CAAG7F,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAC8F,OAAO,CAAEC,UAAU,CAAC,CAAG/F,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACgG,QAAQ,CAAEC,WAAW,CAAC,CAAGjG,QAAQ,CAAC,CAAEkG,IAAI,CAAE,KAAK,CAAEC,OAAO,CAAE,EAAE,CAAEC,QAAQ,CAAE,SAAiC,CAAC,CAAC,CAClH,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGtG,QAAQ,CAAe,IAAI,CAAC,CACtE,KAAM,CAACuG,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGxG,QAAQ,CAAC,EAAE,CAAC,CAE9D,KAAM,CAAAyG,YAAY,CAAGA,CAACN,OAAe,CAAEC,QAA6B,GAAK,CACvEH,WAAW,CAAC,CAAEC,IAAI,CAAE,IAAI,CAAEC,OAAO,CAAEC,QAAS,CAAC,CAAC,CAChD,CAAC,CAED,KAAM,CAAAM,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACFX,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAY,MAAM,CAAG,KAAM,CAAAlD,aAAa,CAACmD,YAAY,CAAC,CAAC,CACjD3B,QAAQ,CAAC,CAAE4B,IAAI,CAAE,YAAY,CAAEC,OAAO,CAAEH,MAAM,CAACA,MAAO,CAAC,CAAC,CAC1D,CAAE,MAAOI,KAAK,CAAE,CACdN,YAAY,CAAC,wBAAwB,CAAE,OAAO,CAAC,CACjD,CAAC,OAAS,CACRV,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED9F,SAAS,CAAC,IAAM,CACdyG,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAM,gBAAgB,CAAIC,KAAa,EAAK,CAC1C,GAAIA,KAAK,CAAE,CACT1B,eAAe,CAAC0B,KAAK,CAAC,CACtBxB,WAAW,CAAC,CACVxB,UAAU,CAAEgD,KAAK,CAAChD,UAAU,CAC5BC,QAAQ,CAAE+C,KAAK,CAAC/C,QAAQ,CACxBC,KAAK,CAAE8C,KAAK,CAAC9C,KAAK,CAAC+C,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAChC9C,IAAI,CAAE6C,KAAK,CAAC7C,IAAI,CAChBC,SAAS,CAAE4C,KAAK,CAAC5C,SAAS,CAC1BC,MAAM,CAAE2C,KAAK,CAAC3C,MAAM,CACpBC,MAAM,CAAE0C,KAAK,CAAC1C,MAAM,CACpBC,aAAa,CAAEyC,KAAK,CAACzC,aACvB,CAAC,CAAC,CACJ,CAAC,IAAM,CACLe,eAAe,CAAC,IAAI,CAAC,CACrBE,WAAW,CAACzB,eAAe,CAAC,CAC9B,CACAmB,aAAa,CAAC,IAAI,CAAC,CACrB,CAAC,CAED,KAAM,CAAAgC,iBAAiB,CAAGA,CAAA,GAAM,CAC9BhC,aAAa,CAAC,KAAK,CAAC,CACpBI,eAAe,CAAC,IAAI,CAAC,CACrBE,WAAW,CAACzB,eAAe,CAAC,CAC9B,CAAC,CAED,KAAM,CAAAoD,iBAAiB,CAAGA,CAACC,KAA0B,CAAE1C,KAAsB,GAAK,CAChFc,WAAW,CAAC6B,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE,CAACD,KAAK,EAAG1C,KAAK,EAAG,CAAC,CACpD,CAAC,CAED,KAAM,CAAA6C,YAAY,CAAGA,CAAA,GAAe,CAClC;AACA,GAAIhC,QAAQ,CAACvB,UAAU,EAAI,CAAC,EAAIuB,QAAQ,CAACtB,QAAQ,EAAI,CAAC,CAAE,CACtD,MAAO,MAAK,CACd,CAEA,GAAIsB,QAAQ,CAACrB,KAAK,GAAK,EAAE,EAAIqB,QAAQ,CAACpB,IAAI,GAAK,EAAE,CAAE,CACjD,MAAO,MAAK,CACd,CAEA,GAAIoB,QAAQ,CAACjB,MAAM,CAACkD,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CACjC,MAAO,MAAK,CACd,CAEA;AACA,KAAM,CAAAC,UAAU,CAAG,GAAI,CAAAC,IAAI,IAAAC,MAAA,CAAIpC,QAAQ,CAACrB,KAAK,MAAAyD,MAAA,CAAIpC,QAAQ,CAACpB,IAAI,CAAE,CAAC,CACjE,KAAM,CAAAyD,KAAK,CAAG,GAAI,CAAAF,IAAI,CAAC,CAAC,CAExB,GAAID,UAAU,EAAIG,KAAK,CAAE,CACvB,MAAO,MAAK,CACd,CAEA;AACA,GAAIrC,QAAQ,CAACnB,SAAS,GAAK,CAAC,CAAE,CAC5B,MAAO,MAAK,CACd,CAEA;AACA,KAAM,CAAAD,IAAI,CAAG0D,QAAQ,CAACtC,QAAQ,CAACpB,IAAI,CAAC8C,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAClD,GAAI9C,IAAI,CAAG,CAAC,EAAIA,IAAI,CAAG,EAAE,CAAE,CACzB,MAAO,MAAK,CACd,CAEA,MAAO,KAAI,CACb,CAAC,CAED;AACA,KAAM,CAAA2D,SAAS,CAAGhI,KAAK,CAACiI,OAAO,CAAC,IAAM,CACpC,MAAO,CAAAxC,QAAQ,CAACvB,UAAU,CAAG,CAAC,EACvBuB,QAAQ,CAACtB,QAAQ,CAAG,CAAC,EACrBsB,QAAQ,CAACrB,KAAK,GAAK,EAAE,EACrBqB,QAAQ,CAACpB,IAAI,GAAK,EAAE,EACpBoB,QAAQ,CAACjB,MAAM,CAACkD,IAAI,CAAC,CAAC,GAAK,EAAE,EAC7BjC,QAAQ,CAACnB,SAAS,GAAK,CAAC,CACjC,CAAC,CAAE,CAACmB,QAAQ,CAACvB,UAAU,CAAEuB,QAAQ,CAACtB,QAAQ,CAAEsB,QAAQ,CAACrB,KAAK,CAAEqB,QAAQ,CAACpB,IAAI,CAAEoB,QAAQ,CAACjB,MAAM,CAAEiB,QAAQ,CAACnB,SAAS,CAAC,CAAC,CAEhH,KAAM,CAAA4D,wBAAwB,CAAGA,CAAA,GAAe,CAC9C;AACA,GAAIzC,QAAQ,CAACvB,UAAU,EAAI,CAAC,EAAIuB,QAAQ,CAACtB,QAAQ,EAAI,CAAC,CAAE,CACtDuC,YAAY,CAAC,0CAA0C,CAAE,OAAO,CAAC,CACjE,MAAO,MAAK,CACd,CAEA,GAAIjB,QAAQ,CAACrB,KAAK,GAAK,EAAE,EAAIqB,QAAQ,CAACpB,IAAI,GAAK,EAAE,CAAE,CACjDqC,YAAY,CAAC,+BAA+B,CAAE,OAAO,CAAC,CACtD,MAAO,MAAK,CACd,CAEA,GAAIjB,QAAQ,CAACjB,MAAM,CAACkD,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CACjChB,YAAY,CAAC,yCAAyC,CAAE,OAAO,CAAC,CAChE,MAAO,MAAK,CACd,CAEA;AACA,KAAM,CAAAiB,UAAU,CAAG,GAAI,CAAAC,IAAI,IAAAC,MAAA,CAAIpC,QAAQ,CAACrB,KAAK,MAAAyD,MAAA,CAAIpC,QAAQ,CAACpB,IAAI,CAAE,CAAC,CACjE,KAAM,CAAAyD,KAAK,CAAG,GAAI,CAAAF,IAAI,CAAC,CAAC,CAExB,GAAID,UAAU,EAAIG,KAAK,CAAE,CACvBpB,YAAY,CAAC,2CAA2C,CAAE,OAAO,CAAC,CAClE,MAAO,MAAK,CACd,CAEA;AACA,GAAIjB,QAAQ,CAACnB,SAAS,GAAK,CAAC,CAAE,CAC5BoC,YAAY,CAAC,wCAAwC,CAAE,OAAO,CAAC,CAC/D,MAAO,MAAK,CACd,CAEA;AACA,KAAM,CAAArC,IAAI,CAAG0D,QAAQ,CAACtC,QAAQ,CAACpB,IAAI,CAAC8C,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAClD,GAAI9C,IAAI,CAAG,CAAC,EAAIA,IAAI,CAAG,EAAE,CAAE,CACzBqC,YAAY,CAAC,+CAA+C,CAAE,OAAO,CAAC,CACtE,MAAO,MAAK,CACd,CAEA,MAAO,KAAI,CACb,CAAC,CAED,KAAM,CAAAyB,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CAACD,wBAAwB,CAAC,CAAC,CAAE,CAC/B,OACF,CAEA;AACAE,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAE,CACzCC,SAAS,CAAE/C,YAAY,CAAG,YAAY,CAAG,OAAO,CAChDgD,KAAK,CAAE9C,QAAQ,CACf+C,SAAS,CAAE,GAAI,CAAAZ,IAAI,CAAC,CAAC,CAACa,WAAW,CAAC,CACpC,CAAC,CAAC,CAEF,GAAI,CACFzC,UAAU,CAAC,IAAI,CAAC,CAChB,GAAIT,YAAY,CAAE,CAChB6C,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAE9C,YAAY,CAACmD,EAAE,CAAC,CAClE,KAAM,CAAAC,YAAY,CAAG,KAAM,CAAAjF,aAAa,CAACkF,WAAW,CAACrD,YAAY,CAACmD,EAAE,CAAEjD,QAAQ,CAAC,CAC/E2C,OAAO,CAACC,GAAG,CAAC,4CAA4C,CAAEM,YAAY,CAAC,CACvEzD,QAAQ,CAAC,CAAE4B,IAAI,CAAE,cAAc,CAAEC,OAAO,CAAE4B,YAAa,CAAC,CAAC,CACzDjC,YAAY,CAAC,gCAAgC,CAAE,SAAS,CAAC,CAC3D,CAAC,IAAM,CACL0B,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC,CAC9C,KAAM,CAAAQ,QAAQ,CAAG,KAAM,CAAAnF,aAAa,CAACoF,WAAW,CAACrD,QAAQ,CAAC,CAC1D2C,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAEQ,QAAQ,CAAC,CAC9D3D,QAAQ,CAAC,CAAE4B,IAAI,CAAE,WAAW,CAAEC,OAAO,CAAE8B,QAAS,CAAC,CAAC,CAClDnC,YAAY,CAAC,2BAA2B,CAAE,SAAS,CAAC,CACtD,CACAU,iBAAiB,CAAC,CAAC,CACrB,CAAE,MAAOJ,KAAK,CAAE,CACdoB,OAAO,CAACpB,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,CACtDoB,OAAO,CAACpB,KAAK,CAAC,yCAAyC,CAAEvB,QAAQ,CAAC,CAClEiB,YAAY,CAAC,wBAAwB,CAAE,OAAO,CAAC,CACjD,CAAC,OAAS,CACRV,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAA+C,eAAe,CAAG,KAAO,CAAA7B,KAAY,EAAK,CAC9CkB,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAEnB,KAAK,CAACwB,EAAE,CAAC,CACzD,GAAI,CACF1C,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAA2C,YAAY,CAAG,KAAM,CAAAjF,aAAa,CAACsF,cAAc,CAAC9B,KAAK,CAACwB,EAAE,CAAC,CACjEN,OAAO,CAACC,GAAG,CAAC,2CAA2C,CAAEM,YAAY,CAAC,CACtEzD,QAAQ,CAAC,CAAE4B,IAAI,CAAE,cAAc,CAAEC,OAAO,CAAE4B,YAAa,CAAC,CAAC,CACzDjC,YAAY,CAAC,+BAA+B,CAAE,SAAS,CAAC,CAC1D,CAAE,MAAOM,KAAK,CAAE,CACdoB,OAAO,CAACpB,KAAK,CAAC,sCAAsC,CAAEA,KAAK,CAAC,CAC5DN,YAAY,CAAC,0BAA0B,CAAE,OAAO,CAAC,CACnD,CAAC,OAAS,CACRV,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAiD,cAAc,CAAG,KAAAA,CAAO/B,KAAY,CAAE1C,MAAc,GAAK,CAC7D4D,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAEnB,KAAK,CAACwB,EAAE,CAAE,aAAa,CAAElE,MAAM,CAAC,CAC/E,GAAI,CACFwB,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAA2C,YAAY,CAAG,KAAM,CAAAjF,aAAa,CAACwF,aAAa,CAAChC,KAAK,CAACwB,EAAE,CAAElE,MAAM,CAAC,CACxE4D,OAAO,CAACC,GAAG,CAAC,0CAA0C,CAAEM,YAAY,CAAC,CACrEzD,QAAQ,CAAC,CAAE4B,IAAI,CAAE,cAAc,CAAEC,OAAO,CAAE4B,YAAa,CAAC,CAAC,CACzDjC,YAAY,CAAC,8BAA8B,CAAE,SAAS,CAAC,CACzD,CAAE,MAAOM,KAAK,CAAE,CACdoB,OAAO,CAACpB,KAAK,CAAC,qCAAqC,CAAEA,KAAK,CAAC,CAC3DN,YAAY,CAAC,yBAAyB,CAAE,OAAO,CAAC,CAClD,CAAC,OAAS,CACRV,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAmD,eAAe,CAAG,KAAO,CAAAjC,KAAY,EAAK,CAC9CkB,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAEnB,KAAK,CAACwB,EAAE,CAAC,CAC1D,GAAI,CACF1C,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAA2C,YAAY,CAAG,KAAM,CAAAjF,aAAa,CAAC0F,cAAc,CAAClC,KAAK,CAACwB,EAAE,CAAC,CACjEN,OAAO,CAACC,GAAG,CAAC,2CAA2C,CAAEM,YAAY,CAAC,CACtEzD,QAAQ,CAAC,CAAE4B,IAAI,CAAE,cAAc,CAAEC,OAAO,CAAE4B,YAAa,CAAC,CAAC,CACzDjC,YAAY,CAAC,+BAA+B,CAAE,SAAS,CAAC,CAC1D,CAAE,MAAOM,KAAK,CAAE,CACdoB,OAAO,CAACpB,KAAK,CAAC,sCAAsC,CAAEA,KAAK,CAAC,CAC5DN,YAAY,CAAC,0BAA0B,CAAE,OAAO,CAAC,CACnD,CAAC,OAAS,CACRV,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAqD,YAAY,CAAG,KAAO,CAAAnC,KAAY,EAAK,CAC3CkB,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAEnB,KAAK,CAACwB,EAAE,CAAC,CACpE,GAAI,CACF1C,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAA2C,YAAY,CAAG,KAAM,CAAAjF,aAAa,CAAC4F,YAAY,CAACpC,KAAK,CAACwB,EAAE,CAAC,CAC/DN,OAAO,CAACC,GAAG,CAAC,qDAAqD,CAAEM,YAAY,CAAC,CAChFzD,QAAQ,CAAC,CAAE4B,IAAI,CAAE,cAAc,CAAEC,OAAO,CAAE4B,YAAa,CAAC,CAAC,CACzDjC,YAAY,CAAC,4BAA4B,CAAE,SAAS,CAAC,CACvD,CAAE,MAAOM,KAAK,CAAE,CACdoB,OAAO,CAACpB,KAAK,CAAC,qCAAqC,CAAEA,KAAK,CAAC,CAC3DN,YAAY,CAAC,yBAAyB,CAAE,OAAO,CAAC,CAClD,CAAC,OAAS,CACRV,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAuD,iBAAiB,CAAGvJ,KAAK,CAACwJ,WAAW,CAAEtF,UAAkB,EAAa,CAC1E,KAAM,CAAAuF,QAAQ,CAAGxE,KAAK,CAACyE,SAAS,CAACC,IAAI,CAACC,CAAC,EAAIA,CAAC,CAAClB,EAAE,GAAKxE,UAAU,CAAC,CAC/D,MAAO,CAAAuF,QAAQ,IAAA5B,MAAA,CAAM4B,QAAQ,CAACI,MAAM,MAAAhC,MAAA,CAAI4B,QAAQ,CAACK,QAAQ,EAAK,KAAK,CACrE,CAAC,CAAE,CAAC7E,KAAK,CAACyE,SAAS,CAAC,CAAC,CAErB,KAAM,CAAAK,eAAe,CAAG/J,KAAK,CAACwJ,WAAW,CAAErF,QAAgB,EAAa,CACtE,KAAM,CAAA6F,MAAM,CAAG/E,KAAK,CAACgF,OAAO,CAACN,IAAI,CAACO,CAAC,EAAIA,CAAC,CAACxB,EAAE,GAAKvE,QAAQ,CAAC,CACzD,MAAO,CAAA6F,MAAM,QAAAnC,MAAA,CAAUmC,MAAM,CAACH,MAAM,MAAAhC,MAAA,CAAImC,MAAM,CAACF,QAAQ,QAAAjC,MAAA,CAAMmC,MAAM,CAACG,YAAY,EAAK,KAAK,CAC5F,CAAC,CAAE,CAAClF,KAAK,CAACgF,OAAO,CAAC,CAAC,CAEnB,KAAM,CAAAG,cAAc,CAAGpK,KAAK,CAACwJ,WAAW,CAAEjF,MAAc,EAAK,CAC3D,KAAM,CAAA8F,SAAS,CAAGvF,YAAY,CAAC6E,IAAI,CAACW,CAAC,EAAIA,CAAC,CAAC1F,KAAK,GAAKL,MAAM,CAAC,CAC5D,MAAO,CAAA8F,SAAS,CAAGA,SAAS,CAACtF,KAAK,CAAG,SAAS,CAChD,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAwF,cAAc,CAAGvK,KAAK,CAACwJ,WAAW,CAAEjF,MAAc,EAAK,CAC3D,KAAM,CAAA8F,SAAS,CAAGvF,YAAY,CAAC6E,IAAI,CAACW,CAAC,EAAIA,CAAC,CAAC1F,KAAK,GAAKL,MAAM,CAAC,CAC5D,MAAO,CAAA8F,SAAS,CAAGA,SAAS,CAACxF,KAAK,CAAGN,MAAM,CAC7C,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAiG,cAAc,CAAGxK,KAAK,CAACiI,OAAO,CAAC,IAAM,CACzC,MAAO,CAAAhD,KAAK,CAAC2B,MAAM,CAAC6D,MAAM,CAACvD,KAAK,EAAI,CAClC,KAAM,CAAAwD,aAAa,CACjBnB,iBAAiB,CAACrC,KAAK,CAAChD,UAAU,CAAC,CAACyG,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACjF,UAAU,CAACgF,WAAW,CAAC,CAAC,CAAC,EACpFZ,eAAe,CAAC7C,KAAK,CAAC/C,QAAQ,CAAC,CAACwG,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACjF,UAAU,CAACgF,WAAW,CAAC,CAAC,CAAC,EAChFzD,KAAK,CAAC1C,MAAM,CAACmG,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACjF,UAAU,CAACgF,WAAW,CAAC,CAAC,CAAC,CAE/D,KAAM,CAAAE,aAAa,CAAGhF,YAAY,GAAK,EAAE,EAAIqB,KAAK,CAAC3C,MAAM,GAAKsB,YAAY,CAE1E,MAAO,CAAA6E,aAAa,EAAIG,aAAa,CACvC,CAAC,CAAC,CACJ,CAAC,CAAE,CAAC5F,KAAK,CAAC2B,MAAM,CAAEjB,UAAU,CAAEE,YAAY,CAAE0D,iBAAiB,CAAEQ,eAAe,CAAC,CAAC,CAEhF,KAAM,CAAAe,KAAK,CAAG9K,KAAK,CAACiI,OAAO,CAAC,IAAM,CAChC,KAAM,CAAA8C,KAAK,CAAG9F,KAAK,CAAC2B,MAAM,CAACoE,MAAM,CACjC,KAAM,CAAAC,UAAU,CAAGhG,KAAK,CAAC2B,MAAM,CAAC6D,MAAM,CAACS,CAAC,EAAIA,CAAC,CAAC3G,MAAM,GAAK,WAAW,CAAC,CAACyG,MAAM,CAC5E,KAAM,CAAAG,WAAW,CAAGlG,KAAK,CAAC2B,MAAM,CAAC6D,MAAM,CAACS,CAAC,EAAIA,CAAC,CAAC3G,MAAM,GAAK,YAAY,CAAC,CAACyG,MAAM,CAC9E,KAAM,CAAAI,UAAU,CAAGnG,KAAK,CAAC2B,MAAM,CAAC6D,MAAM,CAACS,CAAC,EAAIA,CAAC,CAAC3G,MAAM,GAAK,WAAW,CAAC,CAACyG,MAAM,CAC5E,KAAM,CAAAK,WAAW,CAAGpG,KAAK,CAAC2B,MAAM,CAAC6D,MAAM,CAACS,CAAC,EAAIA,CAAC,CAAC3G,MAAM,GAAK,YAAY,CAAC,CAACyG,MAAM,CAE9E,MAAO,CAAED,KAAK,CAAEE,UAAU,CAAEE,WAAW,CAAEC,UAAU,CAAEC,WAAY,CAAC,CACpE,CAAC,CAAE,CAACpG,KAAK,CAAC2B,MAAM,CAAC,CAAC,CAElB,mBACE9C,KAAA,CAAC3D,GAAG,EAAAmL,QAAA,eAEFxH,KAAA,CAAC3D,GAAG,EAACoL,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAQ,CAAEC,EAAE,CAAE,CAAE,CAAE,CAAAL,QAAA,eACzFxH,KAAA,CAAC1D,UAAU,EAACwL,OAAO,CAAC,IAAI,CAACL,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEE,UAAU,CAAE,QAAQ,CAAEG,GAAG,CAAE,CAAE,CAAE,CAAAP,QAAA,eAC7E1H,IAAA,CAACR,YAAY,EAAC2B,KAAK,CAAC,SAAS,CAAE,CAAC,uBAElC,EAAY,CAAC,cACbnB,IAAA,CAACvD,MAAM,EACLuL,OAAO,CAAC,WAAW,CACnBE,SAAS,cAAElI,IAAA,CAAC1B,OAAO,GAAE,CAAE,CACvB6J,OAAO,CAAEA,CAAA,GAAM9E,gBAAgB,CAAC,CAAE,CAClC+E,IAAI,CAAC,OAAO,CAAAV,QAAA,CACb,aAED,CAAQ,CAAC,EACN,CAAC,cAGNxH,KAAA,CAAC3D,GAAG,EAACoL,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAES,QAAQ,CAAE,MAAM,CAAEJ,GAAG,CAAE,CAAC,CAAEF,EAAE,CAAE,CAAE,CAAE,CAAAL,QAAA,eAC5D1H,IAAA,CAACtD,IAAI,EAACiL,EAAE,CAAE,CAAEW,SAAS,CAAE,QAAQ,CAAEC,OAAO,CAAE,eAAe,CAAEpH,KAAK,CAAE,OAAO,CAAEqH,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,CAAE,CAAE,CAAAf,QAAA,cAClGxH,KAAA,CAACvD,WAAW,EAAA+K,QAAA,eACV1H,IAAA,CAACxD,UAAU,EAACwL,OAAO,CAAC,IAAI,CAAAN,QAAA,CAAER,KAAK,CAACC,KAAK,CAAa,CAAC,cACnDnH,IAAA,CAACxD,UAAU,EAACwL,OAAO,CAAC,OAAO,CAAAN,QAAA,CAAC,cAAY,CAAY,CAAC,EAC1C,CAAC,CACV,CAAC,cACP1H,IAAA,CAACtD,IAAI,EAACiL,EAAE,CAAE,CAAEW,SAAS,CAAE,QAAQ,CAAEC,OAAO,CAAE,eAAe,CAAEpH,KAAK,CAAE,OAAO,CAAEqH,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,CAAE,CAAE,CAAAf,QAAA,cAClGxH,KAAA,CAACvD,WAAW,EAAA+K,QAAA,eACV1H,IAAA,CAACxD,UAAU,EAACwL,OAAO,CAAC,IAAI,CAAAN,QAAA,CAAER,KAAK,CAACG,UAAU,CAAa,CAAC,cACxDrH,IAAA,CAACxD,UAAU,EAACwL,OAAO,CAAC,OAAO,CAAAN,QAAA,CAAC,YAAU,CAAY,CAAC,EACxC,CAAC,CACV,CAAC,cACP1H,IAAA,CAACtD,IAAI,EAACiL,EAAE,CAAE,CAAEW,SAAS,CAAE,QAAQ,CAAEC,OAAO,CAAE,eAAe,CAAEpH,KAAK,CAAE,OAAO,CAAEqH,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,CAAE,CAAE,CAAAf,QAAA,cAClGxH,KAAA,CAACvD,WAAW,EAAA+K,QAAA,eACV1H,IAAA,CAACxD,UAAU,EAACwL,OAAO,CAAC,IAAI,CAAAN,QAAA,CAAER,KAAK,CAACK,WAAW,CAAa,CAAC,cACzDvH,IAAA,CAACxD,UAAU,EAACwL,OAAO,CAAC,OAAO,CAAAN,QAAA,CAAC,aAAW,CAAY,CAAC,EACzC,CAAC,CACV,CAAC,cACP1H,IAAA,CAACtD,IAAI,EAACiL,EAAE,CAAE,CAAEW,SAAS,CAAE,QAAQ,CAAEC,OAAO,CAAE,YAAY,CAAEpH,KAAK,CAAE,OAAO,CAAEqH,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,CAAE,CAAE,CAAAf,QAAA,cAC/FxH,KAAA,CAACvD,WAAW,EAAA+K,QAAA,eACV1H,IAAA,CAACxD,UAAU,EAACwL,OAAO,CAAC,IAAI,CAAAN,QAAA,CAAER,KAAK,CAACO,WAAW,CAAa,CAAC,cACzDzH,IAAA,CAACxD,UAAU,EAACwL,OAAO,CAAC,OAAO,CAAAN,QAAA,CAAC,aAAW,CAAY,CAAC,EACzC,CAAC,CACV,CAAC,cACP1H,IAAA,CAACtD,IAAI,EAACiL,EAAE,CAAE,CAAEW,SAAS,CAAE,QAAQ,CAAEC,OAAO,CAAE,aAAa,CAAEpH,KAAK,CAAE,OAAO,CAAEqH,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,CAAE,CAAE,CAAAf,QAAA,cAChGxH,KAAA,CAACvD,WAAW,EAAA+K,QAAA,eACV1H,IAAA,CAACxD,UAAU,EAACwL,OAAO,CAAC,IAAI,CAAAN,QAAA,CAAER,KAAK,CAACM,UAAU,CAAa,CAAC,cACxDxH,IAAA,CAACxD,UAAU,EAACwL,OAAO,CAAC,OAAO,CAAAN,QAAA,CAAC,YAAU,CAAY,CAAC,EACxC,CAAC,CACV,CAAC,EACJ,CAAC,cAGN1H,IAAA,CAACtD,IAAI,EAACiL,EAAE,CAAE,CAAEI,EAAE,CAAE,CAAE,CAAE,CAAAL,QAAA,cAClB1H,IAAA,CAACrD,WAAW,EAAA+K,QAAA,cACVxH,KAAA,CAAC3D,GAAG,EAACoL,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAES,QAAQ,CAAE,MAAM,CAAEJ,GAAG,CAAE,CAAC,CAAEH,UAAU,CAAE,QAAS,CAAE,CAAAJ,QAAA,eAC3E1H,IAAA,CAACpD,SAAS,EACR8L,SAAS,MACTC,WAAW,CAAC,4CAAyC,CACrD3H,KAAK,CAAEe,UAAW,CAClB6G,QAAQ,CAAGlC,CAAC,EAAK1E,aAAa,CAAC0E,CAAC,CAACmC,MAAM,CAAC7H,KAAK,CAAE,CAC/C8H,UAAU,CAAE,CACVC,cAAc,cAAE/I,IAAA,CAACN,UAAU,EAACiI,EAAE,CAAE,CAAEqB,EAAE,CAAE,CAAC,CAAE7H,KAAK,CAAE,gBAAiB,CAAE,CAAE,CACvE,CAAE,CACFwG,EAAE,CAAE,CAAEc,IAAI,CAAE,CAAC,CAAED,QAAQ,CAAE,GAAI,CAAE,CAChC,CAAC,cACFtI,KAAA,CAACnC,WAAW,EAAC4J,EAAE,CAAE,CAAEa,QAAQ,CAAE,GAAI,CAAE,CAAAd,QAAA,eACjC1H,IAAA,CAAChC,UAAU,EAAA0J,QAAA,CAAC,oBAAkB,CAAY,CAAC,cAC3CxH,KAAA,CAACrC,MAAM,EACLmD,KAAK,CAAEiB,YAAa,CACpBhB,KAAK,CAAC,oBAAoB,CAC1B2H,QAAQ,CAAGlC,CAAC,EAAKxE,eAAe,CAACwE,CAAC,CAACmC,MAAM,CAAC7H,KAAK,CAAE,CACjD+H,cAAc,cAAE/I,IAAA,CAACJ,cAAc,EAAC+H,EAAE,CAAE,CAAEqB,EAAE,CAAE,CAAC,CAAE7H,KAAK,CAAE,gBAAiB,CAAE,CAAE,CAAE,CAAAuG,QAAA,eAE3E1H,IAAA,CAAClC,QAAQ,EAACkD,KAAK,CAAC,EAAE,CAAA0G,QAAA,CAAC,mBAAiB,CAAU,CAAC,CAC9CxG,YAAY,CAAC+H,GAAG,CAAEtI,MAAM,eACvBX,IAAA,CAAClC,QAAQ,EAAoBkD,KAAK,CAAEL,MAAM,CAACK,KAAM,CAAA0G,QAAA,CAC9C/G,MAAM,CAACM,KAAK,EADAN,MAAM,CAACK,KAEZ,CACX,CAAC,EACI,CAAC,EACE,CAAC,EACX,CAAC,CACK,CAAC,CACV,CAAC,cAGPhB,IAAA,CAACtD,IAAI,EAAAgL,QAAA,cACH1H,IAAA,CAACrD,WAAW,EAAA+K,QAAA,cACV1H,IAAA,CAAC5C,cAAc,EAAC8L,SAAS,CAAE3L,KAAM,CAAC4L,SAAS,CAAE,CAAE,CAAAzB,QAAA,cAC7CxH,KAAA,CAACjD,KAAK,EAAAyK,QAAA,eACJ1H,IAAA,CAAC3C,SAAS,EAAAqK,QAAA,cACRxH,KAAA,CAAC5C,QAAQ,EAACqK,EAAE,CAAE,CAAEY,OAAO,CAAE,cAAe,CAAE,CAAAb,QAAA,eACxC1H,IAAA,CAAC7C,SAAS,EAACwK,EAAE,CAAE,CAAExG,KAAK,CAAE,OAAO,CAAEiI,UAAU,CAAE,MAAO,CAAE,CAAA1B,QAAA,CAAC,IAAE,CAAW,CAAC,cACrE1H,IAAA,CAAC7C,SAAS,EAACwK,EAAE,CAAE,CAAExG,KAAK,CAAE,OAAO,CAAEiI,UAAU,CAAE,MAAO,CAAE,CAAA1B,QAAA,CAAC,UAAQ,CAAW,CAAC,cAC3E1H,IAAA,CAAC7C,SAAS,EAACwK,EAAE,CAAE,CAAExG,KAAK,CAAE,OAAO,CAAEiI,UAAU,CAAE,MAAO,CAAE,CAAA1B,QAAA,CAAC,WAAM,CAAW,CAAC,cACzE1H,IAAA,CAAC7C,SAAS,EAACwK,EAAE,CAAE,CAAExG,KAAK,CAAE,OAAO,CAAEiI,UAAU,CAAE,MAAO,CAAE,CAAA1B,QAAA,CAAC,OAAK,CAAW,CAAC,cACxE1H,IAAA,CAAC7C,SAAS,EAACwK,EAAE,CAAE,CAAExG,KAAK,CAAE,OAAO,CAAEiI,UAAU,CAAE,MAAO,CAAE,CAAA1B,QAAA,CAAC,MAAI,CAAW,CAAC,cACvE1H,IAAA,CAAC7C,SAAS,EAACwK,EAAE,CAAE,CAAExG,KAAK,CAAE,OAAO,CAAEiI,UAAU,CAAE,MAAO,CAAE,CAAA1B,QAAA,CAAC,QAAM,CAAW,CAAC,cACzE1H,IAAA,CAAC7C,SAAS,EAACwK,EAAE,CAAE,CAAExG,KAAK,CAAE,OAAO,CAAEiI,UAAU,CAAE,MAAO,CAAE,CAAA1B,QAAA,CAAC,QAAM,CAAW,CAAC,cACzE1H,IAAA,CAAC7C,SAAS,EAACwK,EAAE,CAAE,CAAExG,KAAK,CAAE,OAAO,CAAEiI,UAAU,CAAE,MAAO,CAAE,CAAA1B,QAAA,CAAC,UAAQ,CAAW,CAAC,EACnE,CAAC,CACF,CAAC,cACZ1H,IAAA,CAAC9C,SAAS,EAAAwK,QAAA,CACPvF,OAAO,cACNnC,IAAA,CAAC1C,QAAQ,EAAAoK,QAAA,cACPxH,KAAA,CAAC/C,SAAS,EAACkM,OAAO,CAAE,CAAE,CAACC,KAAK,CAAC,QAAQ,CAAC3B,EAAE,CAAE,CAAE4B,EAAE,CAAE,CAAE,CAAE,CAAA7B,QAAA,eAClD1H,IAAA,CAACpC,gBAAgB,GAAE,CAAC,cACpBoC,IAAA,CAACxD,UAAU,EAACwL,OAAO,CAAC,OAAO,CAACL,EAAE,CAAE,CAAE6B,EAAE,CAAE,CAAE,CAAE,CAAA9B,QAAA,CAAC,oBAE3C,CAAY,CAAC,EACJ,CAAC,CACJ,CAAC,CACTd,cAAc,CAACQ,MAAM,GAAK,CAAC,cAC7BpH,IAAA,CAAC1C,QAAQ,EAAAoK,QAAA,cACP1H,IAAA,CAAC7C,SAAS,EAACkM,OAAO,CAAE,CAAE,CAACC,KAAK,CAAC,QAAQ,CAAC3B,EAAE,CAAE,CAAE4B,EAAE,CAAE,CAAE,CAAE,CAAA7B,QAAA,cAClD1H,IAAA,CAACxD,UAAU,EAACwL,OAAO,CAAC,OAAO,CAAC7G,KAAK,CAAC,gBAAgB,CAAAuG,QAAA,CAC/C3F,UAAU,EAAIE,YAAY,CAAG,oDAAoD,CAAG,2BAA2B,CACtG,CAAC,CACJ,CAAC,CACJ,CAAC,CAEX2E,cAAc,CAACqC,GAAG,CAAE3F,KAAK,eACvBpD,KAAA,CAAC5C,QAAQ,EAAgBmM,KAAK,MAAA/B,QAAA,eAC5B1H,IAAA,CAAC7C,SAAS,EAAAuK,QAAA,cACR1H,IAAA,CAACvC,IAAI,EACHwD,KAAK,KAAAgD,MAAA,CAAMX,KAAK,CAACwB,EAAE,CAAG,CACtBsD,IAAI,CAAC,OAAO,CACZjH,KAAK,CAAC,SAAS,CACfuI,IAAI,cAAE1J,IAAA,CAACR,YAAY,GAAE,CAAE,CACxB,CAAC,CACO,CAAC,cACZQ,IAAA,CAAC7C,SAAS,EAAAuK,QAAA,cACRxH,KAAA,CAAC9B,KAAK,EAACuL,SAAS,CAAC,KAAK,CAAC7B,UAAU,CAAC,QAAQ,CAAC8B,OAAO,CAAE,CAAE,CAAAlC,QAAA,eACpD1H,IAAA,CAAChB,UAAU,EAACmC,KAAK,CAAC,QAAQ,CAAC0I,QAAQ,CAAC,OAAO,CAAE,CAAC,cAC9C7J,IAAA,CAACxD,UAAU,EAACwL,OAAO,CAAC,OAAO,CAAAN,QAAA,CACxB/B,iBAAiB,CAACrC,KAAK,CAAChD,UAAU,CAAC,CAC1B,CAAC,EACR,CAAC,CACC,CAAC,cACZN,IAAA,CAAC7C,SAAS,EAAAuK,QAAA,cACRxH,KAAA,CAAC9B,KAAK,EAACuL,SAAS,CAAC,KAAK,CAAC7B,UAAU,CAAC,QAAQ,CAAC8B,OAAO,CAAE,CAAE,CAAAlC,QAAA,eACpD1H,IAAA,CAACd,iBAAiB,EAACiC,KAAK,CAAC,QAAQ,CAAC0I,QAAQ,CAAC,OAAO,CAAE,CAAC,cACrD7J,IAAA,CAACxD,UAAU,EAACwL,OAAO,CAAC,OAAO,CAAAN,QAAA,CACxBvB,eAAe,CAAC7C,KAAK,CAAC/C,QAAQ,CAAC,CACtB,CAAC,EACR,CAAC,CACC,CAAC,cACZP,IAAA,CAAC7C,SAAS,EAAAuK,QAAA,cACRxH,KAAA,CAAC9B,KAAK,EAACuL,SAAS,CAAC,KAAK,CAAC7B,UAAU,CAAC,QAAQ,CAAC8B,OAAO,CAAE,CAAE,CAAAlC,QAAA,eACpD1H,IAAA,CAACV,iBAAiB,EAAC6B,KAAK,CAAC,QAAQ,CAAC0I,QAAQ,CAAC,OAAO,CAAE,CAAC,cACrD7J,IAAA,CAACxD,UAAU,EAACwL,OAAO,CAAC,OAAO,CAAAN,QAAA,CACxB,GAAI,CAAA1D,IAAI,CAACV,KAAK,CAAC9C,KAAK,CAAC,CAACsJ,kBAAkB,CAAC,OAAO,CAAE,CACjDC,OAAO,CAAE,MAAM,CACfC,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,MAAM,CACbC,GAAG,CAAE,SACP,CAAC,CAAC,CACQ,CAAC,EACR,CAAC,CACC,CAAC,cACZlK,IAAA,CAAC7C,SAAS,EAAAuK,QAAA,cACRxH,KAAA,CAAC9B,KAAK,EAACuL,SAAS,CAAC,KAAK,CAAC7B,UAAU,CAAC,QAAQ,CAAC8B,OAAO,CAAE,CAAE,CAAAlC,QAAA,eACpD1H,IAAA,CAACZ,cAAc,EAAC+B,KAAK,CAAC,QAAQ,CAAC0I,QAAQ,CAAC,OAAO,CAAE,CAAC,cAClD7J,IAAA,CAACxD,UAAU,EAACwL,OAAO,CAAC,OAAO,CAACoB,UAAU,CAAC,MAAM,CAAA1B,QAAA,CAC1CpE,KAAK,CAAC7C,IAAI,CACD,CAAC,EACR,CAAC,CACC,CAAC,cACZT,IAAA,CAAC7C,SAAS,EAAAuK,QAAA,cACR1H,IAAA,CAACvC,IAAI,EACHwD,KAAK,CAAE0F,cAAc,CAACrD,KAAK,CAAC3C,MAAM,CAAE,CACpCQ,KAAK,CAAEqF,cAAc,CAAClD,KAAK,CAAC3C,MAAM,CAAE,CACpCyH,IAAI,CAAC,OAAO,CACZJ,OAAO,CAAC,QAAQ,CACjB,CAAC,CACO,CAAC,cACZhI,IAAA,CAAC7C,SAAS,EAAAuK,QAAA,cACR1H,IAAA,CAACxD,UAAU,EAACwL,OAAO,CAAC,OAAO,CAACmC,MAAM,MAACxC,EAAE,CAAE,CAAEyC,QAAQ,CAAE,GAAI,CAAE,CAAA1C,QAAA,CACtDpE,KAAK,CAAC1C,MAAM,CACH,CAAC,CACJ,CAAC,cACZZ,IAAA,CAAC7C,SAAS,EAAAuK,QAAA,cACRxH,KAAA,CAAC3D,GAAG,EAACoL,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEK,GAAG,CAAE,GAAG,CAAEI,QAAQ,CAAE,MAAO,CAAE,CAAAX,QAAA,EACtDpE,KAAK,CAAC3C,MAAM,GAAK,WAAW,eAC3BT,KAAA,CAAAE,SAAA,EAAAsH,QAAA,eACE1H,IAAA,CAAC/B,OAAO,EAACoM,KAAK,CAAC,iBAAiB,CAAA3C,QAAA,cAC9B1H,IAAA,CAACxC,UAAU,EACT4K,IAAI,CAAC,OAAO,CACZD,OAAO,CAAEA,CAAA,GAAMhD,eAAe,CAAC7B,KAAK,CAAE,CACtCnC,KAAK,CAAC,SAAS,CAAAuG,QAAA,cAEf1H,IAAA,CAACtB,eAAe,GAAE,CAAC,CACT,CAAC,CACN,CAAC,cACVsB,IAAA,CAAC/B,OAAO,EAACoM,KAAK,CAAC,gBAAgB,CAAA3C,QAAA,cAC7B1H,IAAA,CAACxC,UAAU,EACT4K,IAAI,CAAC,OAAO,CACZD,OAAO,CAAEA,CAAA,GAAM,CACbxF,gBAAgB,CAACW,KAAK,CAAC,CACvB5B,mBAAmB,CAAC,IAAI,CAAC,CAC3B,CAAE,CACFP,KAAK,CAAC,OAAO,CAAAuG,QAAA,cAEb1H,IAAA,CAACpB,UAAU,GAAE,CAAC,CACJ,CAAC,CACN,CAAC,EACV,CACH,CAEA0E,KAAK,CAAC3C,MAAM,GAAK,YAAY,eAC5BT,KAAA,CAAAE,SAAA,EAAAsH,QAAA,eACE1H,IAAA,CAAC/B,OAAO,EAACoM,KAAK,CAAC,wBAAwB,CAAA3C,QAAA,cACrC1H,IAAA,CAACxC,UAAU,EACT4K,IAAI,CAAC,OAAO,CACZD,OAAO,CAAEA,CAAA,GAAM5C,eAAe,CAACjC,KAAK,CAAE,CACtCnC,KAAK,CAAC,MAAM,CAAAuG,QAAA,cAEZ1H,IAAA,CAAClB,kBAAkB,GAAE,CAAC,CACZ,CAAC,CACN,CAAC,cACVkB,IAAA,CAAC/B,OAAO,EAACoM,KAAK,CAAC,qBAAqB,CAAA3C,QAAA,cAClC1H,IAAA,CAACxC,UAAU,EACT4K,IAAI,CAAC,OAAO,CACZD,OAAO,CAAEA,CAAA,GAAM1C,YAAY,CAACnC,KAAK,CAAE,CACnCnC,KAAK,CAAC,SAAS,CAAAuG,QAAA,cAEf1H,IAAA,CAACpB,UAAU,GAAE,CAAC,CACJ,CAAC,CACN,CAAC,EACV,CACH,cAEDoB,IAAA,CAAC/B,OAAO,EAACoM,KAAK,CAAC,cAAc,CAAA3C,QAAA,cAC3B1H,IAAA,CAACxC,UAAU,EACT4K,IAAI,CAAC,OAAO,CACZD,OAAO,CAAEA,CAAA,GAAM9E,gBAAgB,CAACC,KAAK,CAAE,CACvCnC,KAAK,CAAC,SAAS,CAAAuG,QAAA,cAEf1H,IAAA,CAACxB,QAAQ,GAAE,CAAC,CACF,CAAC,CACN,CAAC,EACP,CAAC,CACG,CAAC,GAxHC8E,KAAK,CAACwB,EAyHX,CACX,CACF,CACQ,CAAC,EACP,CAAC,CACM,CAAC,CACN,CAAC,CACV,CAAC,cAGP5E,KAAA,CAACrD,MAAM,EAAC0F,IAAI,CAAEhB,UAAW,CAAC+I,OAAO,CAAE9G,iBAAkB,CAAC4G,QAAQ,CAAC,IAAI,CAAC1B,SAAS,MAAAhB,QAAA,eAC3E1H,IAAA,CAAClD,WAAW,EAAA4K,QAAA,cACVxH,KAAA,CAAC9B,KAAK,EAACuL,SAAS,CAAC,KAAK,CAAC7B,UAAU,CAAC,QAAQ,CAAC8B,OAAO,CAAE,CAAE,CAAAlC,QAAA,eACpD1H,IAAA,CAACR,YAAY,EAAC2B,KAAK,CAAC,SAAS,CAAE,CAAC,CAC/BQ,YAAY,CAAG,cAAc,CAAG,aAAa,EACzC,CAAC,CACG,CAAC,cACd3B,IAAA,CAAC7B,OAAO,GAAE,CAAC,cACX6B,IAAA,CAACjD,aAAa,EAAA2K,QAAA,cACZxH,KAAA,CAAC3D,GAAG,EAACoL,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAES,QAAQ,CAAE,MAAM,CAAEJ,GAAG,CAAE,CAAC,CAAEuB,EAAE,CAAE,CAAE,CAAE,CAAA9B,QAAA,eAC5DxH,KAAA,CAACnC,WAAW,EAAC2K,SAAS,MAAC6B,QAAQ,MAAC5C,EAAE,CAAE,CAAEa,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CAAAf,QAAA,eACvE1H,IAAA,CAAChC,UAAU,EAAA0J,QAAA,CAAC,UAAQ,CAAY,CAAC,cACjC1H,IAAA,CAACnC,MAAM,EACLmD,KAAK,CAAEa,QAAQ,CAACvB,UAAW,CAC3BW,KAAK,CAAC,UAAU,CAChB2H,QAAQ,CAAGlC,CAAC,EAAKjD,iBAAiB,CAAC,YAAY,CAAE+G,MAAM,CAAC9D,CAAC,CAACmC,MAAM,CAAC7H,KAAK,CAAC,CAAE,CAAA0G,QAAA,CAExErG,KAAK,CAACyE,SAAS,CAACmD,GAAG,CAAEpD,QAAQ,eAC5B3F,KAAA,CAACpC,QAAQ,EAAmBkD,KAAK,CAAE6E,QAAQ,CAACf,EAAG,CAAA4C,QAAA,EAC5C7B,QAAQ,CAAC4E,GAAG,CAAC,KAAG,CAAC5E,QAAQ,CAACI,MAAM,CAAC,GAAC,CAACJ,QAAQ,CAACK,QAAQ,GADxCL,QAAQ,CAACf,EAEd,CACX,CAAC,CACI,CAAC,EACE,CAAC,cACd5E,KAAA,CAACnC,WAAW,EAAC2K,SAAS,MAAC6B,QAAQ,MAAC5C,EAAE,CAAE,CAAEa,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CAAAf,QAAA,eACvE1H,IAAA,CAAChC,UAAU,EAAA0J,QAAA,CAAC,WAAM,CAAY,CAAC,cAC/B1H,IAAA,CAACnC,MAAM,EACLmD,KAAK,CAAEa,QAAQ,CAACtB,QAAS,CACzBU,KAAK,CAAC,WAAQ,CACd2H,QAAQ,CAAGlC,CAAC,EAAKjD,iBAAiB,CAAC,UAAU,CAAE+G,MAAM,CAAC9D,CAAC,CAACmC,MAAM,CAAC7H,KAAK,CAAC,CAAE,CAAA0G,QAAA,CAEtErG,KAAK,CAACgF,OAAO,CAACQ,MAAM,CAACP,CAAC,EAAIA,CAAC,CAACoE,MAAM,CAAC,CAACzB,GAAG,CAAE7C,MAAM,eAC9ClG,KAAA,CAACpC,QAAQ,EAAiBkD,KAAK,CAAEoF,MAAM,CAACtB,EAAG,CAAA4C,QAAA,EACxCtB,MAAM,CAACuE,SAAS,CAAC,SAAO,CAACvE,MAAM,CAACH,MAAM,CAAC,GAAC,CAACG,MAAM,CAACF,QAAQ,CAAC,IAAE,CAACE,MAAM,CAACG,YAAY,CAAC,GACnF,GAFeH,MAAM,CAACtB,EAEZ,CACX,CAAC,CACI,CAAC,EACE,CAAC,cACd9E,IAAA,CAACpD,SAAS,EACR8L,SAAS,MACTzH,KAAK,CAAC,OAAO,CACbiC,IAAI,CAAC,MAAM,CACXlC,KAAK,CAAEa,QAAQ,CAACrB,KAAM,CACtBoI,QAAQ,CAAGlC,CAAC,EAAKjD,iBAAiB,CAAC,OAAO,CAAEiD,CAAC,CAACmC,MAAM,CAAC7H,KAAK,CAAE,CAC5D4J,eAAe,CAAE,CAAEC,MAAM,CAAE,IAAK,CAAE,CAClCN,QAAQ,MACR5C,EAAE,CAAE,CAAEa,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CAC1C,CAAC,cACFvI,KAAA,CAACnC,WAAW,EAAC2K,SAAS,MAAC6B,QAAQ,MAAC5C,EAAE,CAAE,CAAEa,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CAAAf,QAAA,eACvE1H,IAAA,CAAChC,UAAU,EAAA0J,QAAA,CAAC,MAAI,CAAY,CAAC,cAC7B1H,IAAA,CAACnC,MAAM,EACLmD,KAAK,CAAEa,QAAQ,CAACpB,IAAK,CACrBQ,KAAK,CAAC,MAAM,CACZ2H,QAAQ,CAAGlC,CAAC,EAAKjD,iBAAiB,CAAC,MAAM,CAAEiD,CAAC,CAACmC,MAAM,CAAC7H,KAAK,CAAE,CAAA0G,QAAA,CAE1D5G,gBAAgB,CAACmI,GAAG,CAAExI,IAAI,eACzBT,IAAA,CAAClC,QAAQ,EAAYkD,KAAK,CAAEP,IAAK,CAAAiH,QAAA,CAC9BjH,IAAI,EADQA,IAEL,CACX,CAAC,CACI,CAAC,EACE,CAAC,cACdP,KAAA,CAACnC,WAAW,EAAC2K,SAAS,MAAC6B,QAAQ,MAAC5C,EAAE,CAAE,CAAEa,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CAAAf,QAAA,eACvE1H,IAAA,CAAChC,UAAU,EAAA0J,QAAA,CAAC,qBAAgB,CAAY,CAAC,cACzC1H,IAAA,CAACnC,MAAM,EACLmD,KAAK,CAAEa,QAAQ,CAACnB,SAAU,CAC1BO,KAAK,CAAC,qBAAkB,CACxB2H,QAAQ,CAAGlC,CAAC,EAAKjD,iBAAiB,CAAC,WAAW,CAAE+G,MAAM,CAAC9D,CAAC,CAACmC,MAAM,CAAC7H,KAAK,CAAC,CAAE,CAAA0G,QAAA,CAEvE3G,UAAU,CAACkI,GAAG,CAAE6B,GAAG,eAClB9K,IAAA,CAAClC,QAAQ,EAAiBkD,KAAK,CAAE8J,GAAG,CAAC9J,KAAM,CAAA0G,QAAA,CACxCoD,GAAG,CAAC7J,KAAK,EADG6J,GAAG,CAAC9J,KAET,CACX,CAAC,CACI,CAAC,EACE,CAAC,cACdd,KAAA,CAACnC,WAAW,EAAC2K,SAAS,MAACf,EAAE,CAAE,CAAEa,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CAAAf,QAAA,eAC9D1H,IAAA,CAAChC,UAAU,EAAA0J,QAAA,CAAC,QAAM,CAAY,CAAC,cAC/B1H,IAAA,CAACnC,MAAM,EACLmD,KAAK,CAAEa,QAAQ,CAAClB,MAAO,CACvBM,KAAK,CAAC,QAAQ,CACd2H,QAAQ,CAAGlC,CAAC,EAAKjD,iBAAiB,CAAC,QAAQ,CAAEiD,CAAC,CAACmC,MAAM,CAAC7H,KAAK,CAAE,CAAA0G,QAAA,CAE5DxG,YAAY,CAAC+H,GAAG,CAAEtI,MAAM,eACvBX,IAAA,CAAClC,QAAQ,EAAoBkD,KAAK,CAAEL,MAAM,CAACK,KAAM,CAAA0G,QAAA,CAC9C/G,MAAM,CAACM,KAAK,EADAN,MAAM,CAACK,KAEZ,CACX,CAAC,CACI,CAAC,EACE,CAAC,cACdhB,IAAA,CAACpD,SAAS,EACR8L,SAAS,MACTzH,KAAK,CAAC,uBAAuB,CAC7BD,KAAK,CAAEa,QAAQ,CAACjB,MAAO,CACvBgI,QAAQ,CAAGlC,CAAC,EAAKjD,iBAAiB,CAAC,QAAQ,CAAEiD,CAAC,CAACmC,MAAM,CAAC7H,KAAK,CAAE,CAC7DuJ,QAAQ,MACRQ,UAAU,CAAC,0CAAuC,CAClDpD,EAAE,CAAE,CAAEc,IAAI,CAAE,UAAW,CAAE,CAC1B,CAAC,cACFzI,IAAA,CAACpD,SAAS,EACR8L,SAAS,MACTzH,KAAK,CAAC,eAAe,CACrBD,KAAK,CAAEa,QAAQ,CAAChB,aAAc,CAC9B+H,QAAQ,CAAGlC,CAAC,EAAKjD,iBAAiB,CAAC,eAAe,CAAEiD,CAAC,CAACmC,MAAM,CAAC7H,KAAK,CAAE,CACpEgK,SAAS,MACTC,IAAI,CAAE,CAAE,CACRF,UAAU,CAAC,0CAA0C,CACrDpD,EAAE,CAAE,CAAEc,IAAI,CAAE,UAAW,CAAE,CAC1B,CAAC,EACC,CAAC,CACO,CAAC,cAChBzI,IAAA,CAAC7B,OAAO,GAAE,CAAC,cACX+B,KAAA,CAAClD,aAAa,EAAC2K,EAAE,CAAE,CAAE3B,CAAC,CAAE,CAAE,CAAE,CAAA0B,QAAA,eAC1B1H,IAAA,CAACvD,MAAM,EAAC0L,OAAO,CAAE3E,iBAAkB,CAACwE,OAAO,CAAC,UAAU,CAAAN,QAAA,CAAC,UAEvD,CAAQ,CAAC,cACT1H,IAAA,CAACvD,MAAM,EACL0L,OAAO,CAAE5D,YAAa,CACtByD,OAAO,CAAC,WAAW,CACnBkD,QAAQ,CAAE/I,OAAO,EAAI,CAACiC,SAAU,CAChC8D,SAAS,CAAE/F,OAAO,cAAGnC,IAAA,CAACpC,gBAAgB,EAACwK,IAAI,CAAE,EAAG,CAAE,CAAC,CAAG+C,SAAU,CAAAzD,QAAA,CAE/DvF,OAAO,CAAG,cAAc,CAAIR,YAAY,CAAG,YAAY,CAAG,OAAQ,CAC7D,CAAC,EACI,CAAC,EACV,CAAC,cAGTzB,KAAA,CAACrD,MAAM,EAAC0F,IAAI,CAAEd,gBAAiB,CAAC6I,OAAO,CAAEA,CAAA,GAAM5I,mBAAmB,CAAC,KAAK,CAAE,CAAAgG,QAAA,eACxE1H,IAAA,CAAClD,WAAW,EAAA4K,QAAA,cACVxH,KAAA,CAAC9B,KAAK,EAACuL,SAAS,CAAC,KAAK,CAAC7B,UAAU,CAAC,QAAQ,CAAC8B,OAAO,CAAE,CAAE,CAAAlC,QAAA,eACpD1H,IAAA,CAACpB,UAAU,EAACuC,KAAK,CAAC,OAAO,CAAE,CAAC,iBAE9B,EAAO,CAAC,CACG,CAAC,cACdnB,IAAA,CAAC7B,OAAO,GAAE,CAAC,cACX+B,KAAA,CAACnD,aAAa,EAAA2K,QAAA,eACZ1H,IAAA,CAAC9B,iBAAiB,EAACyJ,EAAE,CAAE,CAAEI,EAAE,CAAE,CAAE,CAAE,CAAAL,QAAA,CAAC,oHAElC,CAAmB,CAAC,cACpB1H,IAAA,CAACpD,SAAS,EACRwO,SAAS,MACTC,MAAM,CAAC,OAAO,CACdpK,KAAK,CAAC,6BAA0B,CAChCyH,SAAS,MACTV,OAAO,CAAC,UAAU,CAClBhH,KAAK,CAAE4B,iBAAkB,CACzBgG,QAAQ,CAAGlC,CAAC,EAAK7D,oBAAoB,CAAC6D,CAAC,CAACmC,MAAM,CAAC7H,KAAK,CAAE,CACtDuJ,QAAQ,MACRQ,UAAU,CAAC,2DAAwD,CACpE,CAAC,EACW,CAAC,cAChB/K,IAAA,CAAC7B,OAAO,GAAE,CAAC,cACX+B,KAAA,CAAClD,aAAa,EAAC2K,EAAE,CAAE,CAAE3B,CAAC,CAAE,CAAE,CAAE,CAAA0B,QAAA,eAC1B1H,IAAA,CAACvD,MAAM,EAAC0L,OAAO,CAAEA,CAAA,GAAMzG,mBAAmB,CAAC,KAAK,CAAE,CAACsG,OAAO,CAAC,UAAU,CAAAN,QAAA,CAAC,UAEtE,CAAQ,CAAC,cACT1H,IAAA,CAACvD,MAAM,EACW0L,OAAO,CAAEA,CAAA,GAAM9C,cAAc,CAAC3C,aAAa,CAAGE,iBAAiB,CAAE,CACjFoF,OAAO,CAAC,WAAW,CACnB7G,KAAK,CAAC,OAAO,CACb+J,QAAQ,CAAE/I,OAAO,EAAI,CAACS,iBAAiB,CAACkB,IAAI,CAAC,CAAE,CAC/CoE,SAAS,CAAE/F,OAAO,cAAGnC,IAAA,CAACpC,gBAAgB,EAACwK,IAAI,CAAE,EAAG,CAAE,CAAC,CAAG+C,SAAU,CAAAzD,QAAA,CAE/DvF,OAAO,CAAG,eAAe,CAAG,uBAAuB,CAC9C,CAAC,EACI,CAAC,EACV,CAAC,cAGTnC,IAAA,CAACrC,QAAQ,EACP4E,IAAI,CAAEF,QAAQ,CAACE,IAAK,CACpB+I,gBAAgB,CAAE,IAAK,CACvBhB,OAAO,CAAEA,CAAA,GAAMhI,WAAW,CAAAsB,aAAA,CAAAA,aAAA,IAAMvB,QAAQ,MAAEE,IAAI,CAAE,KAAK,EAAE,CAAE,CAAAmF,QAAA,cAEzD1H,IAAA,CAACtC,KAAK,EACJ4M,OAAO,CAAEA,CAAA,GAAMhI,WAAW,CAAAsB,aAAA,CAAAA,aAAA,IAAMvB,QAAQ,MAAEE,IAAI,CAAE,KAAK,EAAE,CAAE,CACzDE,QAAQ,CAAEJ,QAAQ,CAACI,QAAS,CAC5BkF,EAAE,CAAE,CAAE4D,KAAK,CAAE,MAAO,CAAE,CAAA7D,QAAA,CAErBrF,QAAQ,CAACG,OAAO,CACZ,CAAC,CACA,CAAC,EACR,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}