{"ast":null,"code":"import _objectSpread from\"C:/Users/Asus/Documents/GitHub/proyecto-3-arquitectura/frontend/portal-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{Box,Typography,Card,CardContent,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,Chip,Alert,Snackbar,CircularProgress,TextField,FormControl,InputLabel,Select,MenuItem,IconButton,Tooltip,Stack,Divider,Dialog,DialogTitle,DialogContent,DialogActions,Button,Accordion,AccordionSummary,AccordionDetails}from'@mui/material';import{History as HistoryIcon,Search as SearchIcon,FilterList as FilterListIcon,Visibility as VisibilityIcon,ExpandMore as ExpandMoreIcon,Person as PersonIcon,LocalHospital as LocalHospitalIcon,Schedule as ScheduleIcon,Edit as EditIcon,CheckCircle as CheckCircleIcon,Cancel as CancelIcon,EventAvailable as EventAvailableIcon,Warning as WarningIcon}from'@mui/icons-material';import{useApp}from'../contexts/AppContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const tiposCambio=[{value:'creacion',label:'Creación de Turno',color:'success',icon:ScheduleIcon},{value:'modificacion',label:'Modificación de Turno',color:'warning',icon:EditIcon},{value:'confirmacion',label:'Confirmación de Turno',color:'info',icon:CheckCircleIcon},{value:'cancelacion',label:'Cancelación de Turno',color:'error',icon:CancelIcon},{value:'completado',label:'Turno Completado',color:'primary',icon:EventAvailableIcon},{value:'no_show',label:'Marcado como No Show',color:'default',icon:WarningIcon}];export default function Historial(){const{state,dispatch}=useApp();const[loading,setLoading]=useState(false);const[searchTerm,setSearchTerm]=useState('');const[tipoFilter,setTipoFilter]=useState('');const[fechaDesde,setFechaDesde]=useState('');const[fechaHasta,setFechaHasta]=useState('');const[snackbar,setSnackbar]=useState({open:false,message:'',severity:'success'});const[openDetailDialog,setOpenDetailDialog]=useState(false);const[selectedCambio,setSelectedCambio]=useState(null);// Mock data para historial (en un sistema real vendría del backend)\nconst[historial,setHistorial]=useState([{id:1,turnoId:1,tipoCambio:'creacion',descripcion:'Se creó un nuevo turno para el paciente Juan Pérez con el Dr. Carlos Rodríguez',usuarioId:1,datosAnteriores:null,datosNuevos:{pacienteId:1,medicoId:1,fecha:'2024-01-15',hora:'10:00',motivo:'Control cardiológico'},fechaCambio:new Date().toISOString(),pacienteId:1,medicoId:1},{id:2,turnoId:1,tipoCambio:'confirmacion',descripcion:'El turno fue confirmado por el paciente',usuarioId:1,datosAnteriores:{estado:'PENDIENTE'},datosNuevos:{estado:'CONFIRMADO'},fechaCambio:new Date(Date.now()-86400000).toISOString(),pacienteId:1,medicoId:1},{id:3,turnoId:2,tipoCambio:'creacion',descripcion:'Se creó un nuevo turno para el paciente María González con el Dr. Ana López',usuarioId:1,datosAnteriores:null,datosNuevos:{pacienteId:2,medicoId:2,fecha:'2024-01-20',hora:'14:00',motivo:'Consulta dermatológica'},fechaCambio:new Date(Date.now()-172800000).toISOString(),pacienteId:2,medicoId:2},{id:4,turnoId:2,tipoCambio:'cancelacion',descripcion:'El turno fue cancelado por cambio de horario solicitado por el médico',usuarioId:1,datosAnteriores:{estado:'CONFIRMADO'},datosNuevos:{estado:'CANCELADO',motivoCancelacion:'Cambio de horario solicitado por el médico'},fechaCambio:new Date(Date.now()-259200000).toISOString(),pacienteId:2,medicoId:2},{id:5,turnoId:3,tipoCambio:'creacion',descripcion:'Se creó un nuevo turno para el paciente Roberto Silva con el Dr. Carlos Rodríguez',usuarioId:1,datosAnteriores:null,datosNuevos:{pacienteId:3,medicoId:1,fecha:'2024-01-25',hora:'11:00',motivo:'Control de presión arterial'},fechaCambio:new Date(Date.now()-345600000).toISOString(),pacienteId:3,medicoId:1},{id:6,turnoId:3,tipoCambio:'completado',descripcion:'El turno fue marcado como completado',usuarioId:1,datosAnteriores:{estado:'CONFIRMADO'},datosNuevos:{estado:'COMPLETADO'},fechaCambio:new Date(Date.now()-432000000).toISOString(),pacienteId:3,medicoId:1}]);const loadHistorial=useCallback(async()=>{try{setLoading(true);// En un sistema real, aquí se haría la llamada al servicio\n// const hist = await historialService.getAllHistorial();\n// setHistorial(hist);\n// Simulamos un delay para mostrar el loading\nawait new Promise(resolve=>setTimeout(resolve,1000));// Por ahora usamos los datos mock\ndispatch({type:'SET_HISTORIAL',payload:historial});}catch(error){showSnackbar('Error al cargar historial','error');}finally{setLoading(false);}},[]);useEffect(()=>{loadHistorial();},[loadHistorial]);const showSnackbar=(message,severity)=>{setSnackbar({open:true,message,severity});};const getTipoLabel=tipo=>{const tipoObj=tiposCambio.find(t=>t.value===tipo);return tipoObj?tipoObj.label:tipo;};const getTipoColor=tipo=>{const tipoObj=tiposCambio.find(t=>t.value===tipo);return tipoObj?tipoObj.color:'default';};const getTipoIcon=tipo=>{const tipoObj=tiposCambio.find(t=>t.value===tipo);return tipoObj?tipoObj.icon:ScheduleIcon;};const getPacienteNombre=pacienteId=>{if(!pacienteId)return'N/A';const paciente=state.pacientes.find(p=>p.id===pacienteId);return paciente?\"\".concat(paciente.nombre,\" \").concat(paciente.apellido):'N/A';};const getMedicoNombre=medicoId=>{if(!medicoId)return'N/A';const medico=state.medicos.find(m=>m.id===medicoId);return medico?\"Dr. \".concat(medico.nombre,\" \").concat(medico.apellido):'N/A';};const filteredHistorial=historial.filter(cambio=>{const matchesSearch=cambio.descripcion.toLowerCase().includes(searchTerm.toLowerCase())||getPacienteNombre(cambio.pacienteId).toLowerCase().includes(searchTerm.toLowerCase())||getMedicoNombre(cambio.medicoId).toLowerCase().includes(searchTerm.toLowerCase());const matchesTipo=tipoFilter===''||cambio.tipoCambio===tipoFilter;let matchesFecha=true;if(fechaDesde&&fechaHasta){const fechaCambio=new Date(cambio.fechaCambio);const desde=new Date(fechaDesde);const hasta=new Date(fechaHasta);hasta.setHours(23,59,59);// Incluir todo el día hasta\nmatchesFecha=fechaCambio>=desde&&fechaCambio<=hasta;}return matchesSearch&&matchesTipo&&matchesFecha;});const getEstadisticasHistorial=()=>{const total=historial.length;const creaciones=historial.filter(h=>h.tipoCambio==='creacion').length;const modificaciones=historial.filter(h=>h.tipoCambio==='modificacion').length;const confirmaciones=historial.filter(h=>h.tipoCambio==='confirmacion').length;const cancelaciones=historial.filter(h=>h.tipoCambio==='cancelacion').length;const completados=historial.filter(h=>h.tipoCambio==='completado').length;return{total,creaciones,modificaciones,confirmaciones,cancelaciones,completados};};const stats=getEstadisticasHistorial();const handleVerDetalle=cambio=>{setSelectedCambio(cambio);setOpenDetailDialog(true);};const formatFecha=fecha=>{return new Date(fecha).toLocaleDateString('es-ES',{weekday:'long',year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'});};const formatFechaCorta=fecha=>{return new Date(fecha).toLocaleDateString('es-ES',{day:'2-digit',month:'2-digit',year:'numeric',hour:'2-digit',minute:'2-digit'});};return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:3},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",sx:{display:'flex',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsx(HistoryIcon,{color:\"primary\"}),\"Historial de Cambios\"]}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(HistoryIcon,{}),onClick:loadHistorial,disabled:loading,children:\"Actualizar\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexWrap:'wrap',gap:2,mb:3},children:[/*#__PURE__*/_jsx(Card,{sx:{textAlign:'center',bgcolor:'primary.light',color:'white',minWidth:120,flex:1},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.total}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Total Cambios\"})]})}),/*#__PURE__*/_jsx(Card,{sx:{textAlign:'center',bgcolor:'success.light',color:'white',minWidth:120,flex:1},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.creaciones}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Creaciones\"})]})}),/*#__PURE__*/_jsx(Card,{sx:{textAlign:'center',bgcolor:'warning.light',color:'white',minWidth:120,flex:1},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.modificaciones}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Modificaciones\"})]})}),/*#__PURE__*/_jsx(Card,{sx:{textAlign:'center',bgcolor:'info.light',color:'white',minWidth:120,flex:1},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.confirmaciones}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Confirmaciones\"})]})}),/*#__PURE__*/_jsx(Card,{sx:{textAlign:'center',bgcolor:'error.light',color:'white',minWidth:120,flex:1},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.cancelaciones}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Cancelaciones\"})]})}),/*#__PURE__*/_jsx(Card,{sx:{textAlign:'center',bgcolor:'secondary.light',color:'white',minWidth:120,flex:1},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.completados}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Completados\"})]})})]}),/*#__PURE__*/_jsx(Card,{sx:{mb:3},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexWrap:'wrap',gap:2,alignItems:'center'},children:[/*#__PURE__*/_jsx(TextField,{placeholder:\"Buscar por descripci\\xF3n, paciente o m\\xE9dico...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),InputProps:{startAdornment:/*#__PURE__*/_jsx(SearchIcon,{sx:{mr:1,color:'text.secondary'}})},sx:{flex:1,minWidth:300}}),/*#__PURE__*/_jsxs(FormControl,{sx:{minWidth:180},children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Tipo de Cambio\"}),/*#__PURE__*/_jsxs(Select,{value:tipoFilter,label:\"Tipo de Cambio\",onChange:e=>setTipoFilter(e.target.value),startAdornment:/*#__PURE__*/_jsx(FilterListIcon,{sx:{mr:1,color:'text.secondary'}}),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"Todos los tipos\"}),tiposCambio.map(tipo=>/*#__PURE__*/_jsx(MenuItem,{value:tipo.value,children:tipo.label},tipo.value))]})]}),/*#__PURE__*/_jsx(TextField,{label:\"Desde\",type:\"date\",value:fechaDesde,onChange:e=>setFechaDesde(e.target.value),InputLabelProps:{shrink:true},sx:{minWidth:150}}),/*#__PURE__*/_jsx(TextField,{label:\"Hasta\",type:\"date\",value:fechaHasta,onChange:e=>setFechaHasta(e.target.value),InputLabelProps:{shrink:true},sx:{minWidth:150}})]})})}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(TableContainer,{component:Paper,elevation:2,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{sx:{bgcolor:'primary.main'},children:[/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"ID\"}),/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"Tipo\"}),/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"Turno\"}),/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"Paciente\"}),/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"M\\xE9dico\"}),/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"Fecha\"}),/*#__PURE__*/_jsx(TableCell,{sx:{color:'white',fontWeight:'bold'},children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:loading?/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsxs(TableCell,{colSpan:8,align:\"center\",sx:{py:4},children:[/*#__PURE__*/_jsx(CircularProgress,{}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{mt:1},children:\"Cargando historial...\"})]})}):filteredHistorial.length===0?/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{colSpan:8,align:\"center\",sx:{py:4},children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",children:searchTerm||tipoFilter||fechaDesde||fechaHasta?'No se encontraron cambios con los filtros aplicados':'No hay cambios registrados'})})}):filteredHistorial.map(cambio=>{const TipoIcon=getTipoIcon(cambio.tipoCambio);return/*#__PURE__*/_jsxs(TableRow,{hover:true,children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Chip,{label:\"#\".concat(cambio.id),size:\"small\",color:\"primary\",icon:/*#__PURE__*/_jsx(HistoryIcon,{})})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Chip,{label:getTipoLabel(cambio.tipoCambio),color:getTipoColor(cambio.tipoCambio),size:\"small\",variant:\"filled\",icon:/*#__PURE__*/_jsx(TipoIcon,{})})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Chip,{label:\"Turno #\".concat(cambio.turnoId),size:\"small\",color:\"secondary\",icon:/*#__PURE__*/_jsx(ScheduleIcon,{})})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:1,children:[/*#__PURE__*/_jsx(PersonIcon,{color:\"action\",fontSize:\"small\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:getPacienteNombre(cambio.pacienteId)})]})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:1,children:[/*#__PURE__*/_jsx(LocalHospitalIcon,{color:\"action\",fontSize:\"small\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:getMedicoNombre(cambio.medicoId)})]})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",noWrap:true,sx:{maxWidth:300},children:cambio.descripcion})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:formatFechaCorta(cambio.fechaCambio)})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Tooltip,{title:\"Ver Detalle\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>handleVerDetalle(cambio),color:\"primary\",children:/*#__PURE__*/_jsx(VisibilityIcon,{})})})})]},cambio.id);})})]})})})}),/*#__PURE__*/_jsxs(Dialog,{open:openDetailDialog,onClose:()=>setOpenDetailDialog(false),maxWidth:\"md\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:1,children:[/*#__PURE__*/_jsx(HistoryIcon,{color:\"primary\"}),\"Detalle del Cambio\"]})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(DialogContent,{children:selectedCambio&&/*#__PURE__*/_jsx(Box,{sx:{mt:1},children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexWrap:'wrap',gap:2},children:[/*#__PURE__*/_jsxs(Box,{sx:{minWidth:200,flex:'1 1 200px'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"ID del Cambio\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",sx:{mb:2},children:[\"#\",selectedCambio.id]})]}),/*#__PURE__*/_jsxs(Box,{sx:{minWidth:200,flex:'1 1 200px'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"ID del Turno\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",sx:{mb:2},children:[\"#\",selectedCambio.turnoId]})]}),/*#__PURE__*/_jsxs(Box,{sx:{minWidth:200,flex:'1 1 200px'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Tipo de Cambio\"}),/*#__PURE__*/_jsx(Chip,{label:getTipoLabel(selectedCambio.tipoCambio),color:getTipoColor(selectedCambio.tipoCambio),size:\"small\",icon:/*#__PURE__*/React.createElement(getTipoIcon(selectedCambio.tipoCambio)),sx:{mb:2}})]}),/*#__PURE__*/_jsxs(Box,{sx:{minWidth:200,flex:'1 1 200px'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Usuario\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{mb:2},children:selectedCambio.usuarioId?\"Usuario #\".concat(selectedCambio.usuarioId):'Sistema'})]}),/*#__PURE__*/_jsxs(Box,{sx:{flex:'1 1 100%'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{mb:2,p:2,bgcolor:'grey.50',borderRadius:1},children:selectedCambio.descripcion})]}),/*#__PURE__*/_jsxs(Box,{sx:{flex:'1 1 100%'},children:[/*#__PURE__*/_jsx(Divider,{sx:{my:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{mb:2},children:\"Informaci\\xF3n del Turno\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{minWidth:200,flex:'1 1 200px'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Paciente\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{mb:2},children:getPacienteNombre(selectedCambio.pacienteId)})]}),/*#__PURE__*/_jsxs(Box,{sx:{minWidth:200,flex:'1 1 200px'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"M\\xE9dico\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{mb:2},children:getMedicoNombre(selectedCambio.medicoId)})]}),selectedCambio.datosAnteriores&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Box,{sx:{flex:'1 1 100%'},children:[/*#__PURE__*/_jsx(Divider,{sx:{my:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{mb:2},children:\"Datos Anteriores\"})]}),/*#__PURE__*/_jsx(Box,{sx:{flex:'1 1 100%'},children:/*#__PURE__*/_jsxs(Accordion,{children:[/*#__PURE__*/_jsx(AccordionSummary,{expandIcon:/*#__PURE__*/_jsx(ExpandMoreIcon,{}),children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Ver datos anteriores\"})}),/*#__PURE__*/_jsx(AccordionDetails,{children:/*#__PURE__*/_jsx(\"pre\",{style:{backgroundColor:'#f5f5f5',padding:'16px',borderRadius:'4px',overflow:'auto',fontSize:'14px'},children:JSON.stringify(selectedCambio.datosAnteriores,null,2)})})]})})]}),selectedCambio.datosNuevos&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Box,{sx:{flex:'1 1 100%'},children:[/*#__PURE__*/_jsx(Divider,{sx:{my:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{mb:2},children:\"Datos Nuevos\"})]}),/*#__PURE__*/_jsx(Box,{sx:{flex:'1 1 100%'},children:/*#__PURE__*/_jsxs(Accordion,{children:[/*#__PURE__*/_jsx(AccordionSummary,{expandIcon:/*#__PURE__*/_jsx(ExpandMoreIcon,{}),children:/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Ver datos nuevos\"})}),/*#__PURE__*/_jsx(AccordionDetails,{children:/*#__PURE__*/_jsx(\"pre\",{style:{backgroundColor:'#e8f5e8',padding:'16px',borderRadius:'4px',overflow:'auto',fontSize:'14px'},children:JSON.stringify(selectedCambio.datosNuevos,null,2)})})]})})]}),/*#__PURE__*/_jsxs(Box,{sx:{flex:'1 1 100%'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Fecha del Cambio\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:formatFecha(selectedCambio.fechaCambio)})]})]})})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(DialogActions,{sx:{p:2},children:/*#__PURE__*/_jsx(Button,{onClick:()=>setOpenDetailDialog(false),variant:\"outlined\",children:\"Cerrar\"})})]}),/*#__PURE__*/_jsx(Snackbar,{open:snackbar.open,autoHideDuration:6000,onClose:()=>setSnackbar(_objectSpread(_objectSpread({},snackbar),{},{open:false})),children:/*#__PURE__*/_jsx(Alert,{onClose:()=>setSnackbar(_objectSpread(_objectSpread({},snackbar),{},{open:false})),severity:snackbar.severity,sx:{width:'100%'},children:snackbar.message})})]});}","map":{"version":3,"names":["React","useState","useEffect","useCallback","Box","Typography","Card","CardContent","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Chip","Alert","Snackbar","CircularProgress","TextField","FormControl","InputLabel","Select","MenuItem","IconButton","Tooltip","Stack","Divider","Dialog","DialogTitle","DialogContent","DialogActions","Button","Accordion","AccordionSummary","AccordionDetails","History","HistoryIcon","Search","SearchIcon","FilterList","FilterListIcon","Visibility","VisibilityIcon","ExpandMore","ExpandMoreIcon","Person","PersonIcon","LocalHospital","LocalHospitalIcon","Schedule","ScheduleIcon","Edit","EditIcon","CheckCircle","CheckCircleIcon","Cancel","CancelIcon","EventAvailable","EventAvailableIcon","Warning","WarningIcon","useApp","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","tiposCambio","value","label","color","icon","Historial","state","dispatch","loading","setLoading","searchTerm","setSearchTerm","tipoFilter","setTipoFilter","fechaDesde","setFechaDesde","fechaHasta","setFechaHasta","snackbar","setSnackbar","open","message","severity","openDetailDialog","setOpenDetailDialog","selectedCambio","setSelectedCambio","historial","setHistorial","id","turnoId","tipoCambio","descripcion","usuarioId","datosAnteriores","datosNuevos","pacienteId","medicoId","fecha","hora","motivo","fechaCambio","Date","toISOString","estado","now","motivoCancelacion","loadHistorial","Promise","resolve","setTimeout","type","payload","error","showSnackbar","getTipoLabel","tipo","tipoObj","find","t","getTipoColor","getTipoIcon","getPacienteNombre","paciente","pacientes","p","concat","nombre","apellido","getMedicoNombre","medico","medicos","m","filteredHistorial","filter","cambio","matchesSearch","toLowerCase","includes","matchesTipo","matchesFecha","desde","hasta","setHours","getEstadisticasHistorial","total","length","creaciones","h","modificaciones","confirmaciones","cancelaciones","completados","stats","handleVerDetalle","formatFecha","toLocaleDateString","weekday","year","month","day","hour","minute","formatFechaCorta","children","sx","display","justifyContent","alignItems","mb","variant","gap","startIcon","onClick","disabled","flexWrap","textAlign","bgcolor","minWidth","flex","placeholder","onChange","e","target","InputProps","startAdornment","mr","map","InputLabelProps","shrink","component","elevation","fontWeight","colSpan","align","py","mt","TipoIcon","hover","size","direction","spacing","fontSize","noWrap","maxWidth","title","onClose","fullWidth","createElement","borderRadius","my","expandIcon","style","backgroundColor","padding","overflow","JSON","stringify","autoHideDuration","_objectSpread","width"],"sources":["C:/Users/Asus/Documents/GitHub/proyecto-3-arquitectura/frontend/portal-web/src/pages/Historial.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Card,\r\n  CardContent,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Chip,\r\n  Alert,\r\n  Snackbar,\r\n  CircularProgress,\r\n  TextField,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  IconButton,\r\n  Tooltip,\r\n  Stack,\r\n  Divider,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  Accordion,\r\n  AccordionSummary,\r\n  AccordionDetails,\r\n} from '@mui/material';\r\nimport {\r\n  History as HistoryIcon,\r\n  Search as SearchIcon,\r\n  FilterList as FilterListIcon,\r\n  Visibility as VisibilityIcon,\r\n  ExpandMore as ExpandMoreIcon,\r\n  Person as PersonIcon,\r\n  LocalHospital as LocalHospitalIcon,\r\n  Schedule as ScheduleIcon,\r\n  Edit as EditIcon,\r\n  CheckCircle as CheckCircleIcon,\r\n  Cancel as CancelIcon,\r\n  EventAvailable as EventAvailableIcon,\r\n  Warning as WarningIcon,\r\n} from '@mui/icons-material';\r\nimport { useApp } from '../contexts/AppContext';\r\n\r\ninterface HistorialCambio {\r\n  id: number;\r\n  turnoId: number;\r\n  tipoCambio: string;\r\n  descripcion: string;\r\n  usuarioId: number | null;\r\n  datosAnteriores: any;\r\n  datosNuevos: any;\r\n  fechaCambio: string;\r\n  pacienteId?: number;\r\n  medicoId?: number;\r\n}\r\n\r\nconst tiposCambio = [\r\n  { value: 'creacion', label: 'Creación de Turno', color: 'success' as const, icon: ScheduleIcon },\r\n  { value: 'modificacion', label: 'Modificación de Turno', color: 'warning' as const, icon: EditIcon },\r\n  { value: 'confirmacion', label: 'Confirmación de Turno', color: 'info' as const, icon: CheckCircleIcon },\r\n  { value: 'cancelacion', label: 'Cancelación de Turno', color: 'error' as const, icon: CancelIcon },\r\n  { value: 'completado', label: 'Turno Completado', color: 'primary' as const, icon: EventAvailableIcon },\r\n  { value: 'no_show', label: 'Marcado como No Show', color: 'default' as const, icon: WarningIcon },\r\n];\r\n\r\nexport default function Historial() {\r\n  const { state, dispatch } = useApp();\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [tipoFilter, setTipoFilter] = useState('');\r\n  const [fechaDesde, setFechaDesde] = useState('');\r\n  const [fechaHasta, setFechaHasta] = useState('');\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'success' as 'success' | 'error' });\r\n  const [openDetailDialog, setOpenDetailDialog] = useState(false);\r\n  const [selectedCambio, setSelectedCambio] = useState<HistorialCambio | null>(null);\r\n\r\n  // Mock data para historial (en un sistema real vendría del backend)\r\n  const [historial, setHistorial] = useState<HistorialCambio[]>([\r\n    {\r\n      id: 1,\r\n      turnoId: 1,\r\n      tipoCambio: 'creacion',\r\n      descripcion: 'Se creó un nuevo turno para el paciente Juan Pérez con el Dr. Carlos Rodríguez',\r\n      usuarioId: 1,\r\n      datosAnteriores: null,\r\n      datosNuevos: {\r\n        pacienteId: 1,\r\n        medicoId: 1,\r\n        fecha: '2024-01-15',\r\n        hora: '10:00',\r\n        motivo: 'Control cardiológico'\r\n      },\r\n      fechaCambio: new Date().toISOString(),\r\n      pacienteId: 1,\r\n      medicoId: 1\r\n    },\r\n    {\r\n      id: 2,\r\n      turnoId: 1,\r\n      tipoCambio: 'confirmacion',\r\n      descripcion: 'El turno fue confirmado por el paciente',\r\n      usuarioId: 1,\r\n      datosAnteriores: { estado: 'PENDIENTE' },\r\n      datosNuevos: { estado: 'CONFIRMADO' },\r\n      fechaCambio: new Date(Date.now() - 86400000).toISOString(),\r\n      pacienteId: 1,\r\n      medicoId: 1\r\n    },\r\n    {\r\n      id: 3,\r\n      turnoId: 2,\r\n      tipoCambio: 'creacion',\r\n      descripcion: 'Se creó un nuevo turno para el paciente María González con el Dr. Ana López',\r\n      usuarioId: 1,\r\n      datosAnteriores: null,\r\n      datosNuevos: {\r\n        pacienteId: 2,\r\n        medicoId: 2,\r\n        fecha: '2024-01-20',\r\n        hora: '14:00',\r\n        motivo: 'Consulta dermatológica'\r\n      },\r\n      fechaCambio: new Date(Date.now() - 172800000).toISOString(),\r\n      pacienteId: 2,\r\n      medicoId: 2\r\n    },\r\n    {\r\n      id: 4,\r\n      turnoId: 2,\r\n      tipoCambio: 'cancelacion',\r\n      descripcion: 'El turno fue cancelado por cambio de horario solicitado por el médico',\r\n      usuarioId: 1,\r\n      datosAnteriores: { estado: 'CONFIRMADO' },\r\n      datosNuevos: { \r\n        estado: 'CANCELADO',\r\n        motivoCancelacion: 'Cambio de horario solicitado por el médico'\r\n      },\r\n      fechaCambio: new Date(Date.now() - 259200000).toISOString(),\r\n      pacienteId: 2,\r\n      medicoId: 2\r\n    },\r\n    {\r\n      id: 5,\r\n      turnoId: 3,\r\n      tipoCambio: 'creacion',\r\n      descripcion: 'Se creó un nuevo turno para el paciente Roberto Silva con el Dr. Carlos Rodríguez',\r\n      usuarioId: 1,\r\n      datosAnteriores: null,\r\n      datosNuevos: {\r\n        pacienteId: 3,\r\n        medicoId: 1,\r\n        fecha: '2024-01-25',\r\n        hora: '11:00',\r\n        motivo: 'Control de presión arterial'\r\n      },\r\n      fechaCambio: new Date(Date.now() - 345600000).toISOString(),\r\n      pacienteId: 3,\r\n      medicoId: 1\r\n    },\r\n    {\r\n      id: 6,\r\n      turnoId: 3,\r\n      tipoCambio: 'completado',\r\n      descripcion: 'El turno fue marcado como completado',\r\n      usuarioId: 1,\r\n      datosAnteriores: { estado: 'CONFIRMADO' },\r\n      datosNuevos: { estado: 'COMPLETADO' },\r\n      fechaCambio: new Date(Date.now() - 432000000).toISOString(),\r\n      pacienteId: 3,\r\n      medicoId: 1\r\n    }\r\n  ]);\r\n\r\n  const loadHistorial = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      // En un sistema real, aquí se haría la llamada al servicio\r\n      // const hist = await historialService.getAllHistorial();\r\n      // setHistorial(hist);\r\n      \r\n      // Simulamos un delay para mostrar el loading\r\n      await new Promise(resolve => setTimeout(resolve, 1000));\r\n      \r\n      // Por ahora usamos los datos mock\r\n      dispatch({ type: 'SET_HISTORIAL', payload: historial });\r\n    } catch (error) {\r\n      showSnackbar('Error al cargar historial', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadHistorial();\r\n  }, [loadHistorial]);\r\n\r\n  const showSnackbar = (message: string, severity: 'success' | 'error') => {\r\n    setSnackbar({ open: true, message, severity });\r\n  };\r\n\r\n  const getTipoLabel = (tipo: string) => {\r\n    const tipoObj = tiposCambio.find(t => t.value === tipo);\r\n    return tipoObj ? tipoObj.label : tipo;\r\n  };\r\n\r\n  const getTipoColor = (tipo: string) => {\r\n    const tipoObj = tiposCambio.find(t => t.value === tipo);\r\n    return tipoObj ? tipoObj.color : 'default';\r\n  };\r\n\r\n  const getTipoIcon = (tipo: string) => {\r\n    const tipoObj = tiposCambio.find(t => t.value === tipo);\r\n    return tipoObj ? tipoObj.icon : ScheduleIcon;\r\n  };\r\n\r\n  const getPacienteNombre = (pacienteId?: number): string => {\r\n    if (!pacienteId) return 'N/A';\r\n    const paciente = state.pacientes.find(p => p.id === pacienteId);\r\n    return paciente ? `${paciente.nombre} ${paciente.apellido}` : 'N/A';\r\n  };\r\n\r\n  const getMedicoNombre = (medicoId?: number): string => {\r\n    if (!medicoId) return 'N/A';\r\n    const medico = state.medicos.find(m => m.id === medicoId);\r\n    return medico ? `Dr. ${medico.nombre} ${medico.apellido}` : 'N/A';\r\n  };\r\n\r\n  const filteredHistorial = historial.filter(cambio => {\r\n    const matchesSearch = \r\n      cambio.descripcion.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      getPacienteNombre(cambio.pacienteId).toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      getMedicoNombre(cambio.medicoId).toLowerCase().includes(searchTerm.toLowerCase());\r\n    \r\n    const matchesTipo = tipoFilter === '' || cambio.tipoCambio === tipoFilter;\r\n    \r\n    let matchesFecha = true;\r\n    if (fechaDesde && fechaHasta) {\r\n      const fechaCambio = new Date(cambio.fechaCambio);\r\n      const desde = new Date(fechaDesde);\r\n      const hasta = new Date(fechaHasta);\r\n      hasta.setHours(23, 59, 59); // Incluir todo el día hasta\r\n      matchesFecha = fechaCambio >= desde && fechaCambio <= hasta;\r\n    }\r\n    \r\n    return matchesSearch && matchesTipo && matchesFecha;\r\n  });\r\n\r\n  const getEstadisticasHistorial = () => {\r\n    const total = historial.length;\r\n    const creaciones = historial.filter(h => h.tipoCambio === 'creacion').length;\r\n    const modificaciones = historial.filter(h => h.tipoCambio === 'modificacion').length;\r\n    const confirmaciones = historial.filter(h => h.tipoCambio === 'confirmacion').length;\r\n    const cancelaciones = historial.filter(h => h.tipoCambio === 'cancelacion').length;\r\n    const completados = historial.filter(h => h.tipoCambio === 'completado').length;\r\n    \r\n    return { total, creaciones, modificaciones, confirmaciones, cancelaciones, completados };\r\n  };\r\n\r\n  const stats = getEstadisticasHistorial();\r\n\r\n  const handleVerDetalle = (cambio: HistorialCambio) => {\r\n    setSelectedCambio(cambio);\r\n    setOpenDetailDialog(true);\r\n  };\r\n\r\n  const formatFecha = (fecha: string) => {\r\n    return new Date(fecha).toLocaleDateString('es-ES', {\r\n      weekday: 'long',\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const formatFechaCorta = (fecha: string) => {\r\n    return new Date(fecha).toLocaleDateString('es-ES', {\r\n      day: '2-digit',\r\n      month: '2-digit',\r\n      year: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      {/* Header */}\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\r\n        <Typography variant=\"h4\" sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n          <HistoryIcon color=\"primary\" />\r\n          Historial de Cambios\r\n        </Typography>\r\n        <Button\r\n          variant=\"outlined\"\r\n          startIcon={<HistoryIcon />}\r\n          onClick={loadHistorial}\r\n          disabled={loading}\r\n        >\r\n          Actualizar\r\n        </Button>\r\n      </Box>\r\n\r\n      {/* Estadísticas */}\r\n      <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2, mb: 3 }}>\r\n        <Card sx={{ textAlign: 'center', bgcolor: 'primary.light', color: 'white', minWidth: 120, flex: 1 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\">{stats.total}</Typography>\r\n            <Typography variant=\"body2\">Total Cambios</Typography>\r\n          </CardContent>\r\n        </Card>\r\n        <Card sx={{ textAlign: 'center', bgcolor: 'success.light', color: 'white', minWidth: 120, flex: 1 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\">{stats.creaciones}</Typography>\r\n            <Typography variant=\"body2\">Creaciones</Typography>\r\n          </CardContent>\r\n        </Card>\r\n        <Card sx={{ textAlign: 'center', bgcolor: 'warning.light', color: 'white', minWidth: 120, flex: 1 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\">{stats.modificaciones}</Typography>\r\n            <Typography variant=\"body2\">Modificaciones</Typography>\r\n          </CardContent>\r\n        </Card>\r\n        <Card sx={{ textAlign: 'center', bgcolor: 'info.light', color: 'white', minWidth: 120, flex: 1 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\">{stats.confirmaciones}</Typography>\r\n            <Typography variant=\"body2\">Confirmaciones</Typography>\r\n          </CardContent>\r\n        </Card>\r\n        <Card sx={{ textAlign: 'center', bgcolor: 'error.light', color: 'white', minWidth: 120, flex: 1 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\">{stats.cancelaciones}</Typography>\r\n            <Typography variant=\"body2\">Cancelaciones</Typography>\r\n          </CardContent>\r\n        </Card>\r\n        <Card sx={{ textAlign: 'center', bgcolor: 'secondary.light', color: 'white', minWidth: 120, flex: 1 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\">{stats.completados}</Typography>\r\n            <Typography variant=\"body2\">Completados</Typography>\r\n          </CardContent>\r\n        </Card>\r\n      </Box>\r\n\r\n      {/* Filtros */}\r\n      <Card sx={{ mb: 3 }}>\r\n        <CardContent>\r\n          <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2, alignItems: 'center' }}>\r\n            <TextField\r\n              placeholder=\"Buscar por descripción, paciente o médico...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              InputProps={{\r\n                startAdornment: <SearchIcon sx={{ mr: 1, color: 'text.secondary' }} />,\r\n              }}\r\n              sx={{ flex: 1, minWidth: 300 }}\r\n            />\r\n            <FormControl sx={{ minWidth: 180 }}>\r\n              <InputLabel>Tipo de Cambio</InputLabel>\r\n              <Select\r\n                value={tipoFilter}\r\n                label=\"Tipo de Cambio\"\r\n                onChange={(e) => setTipoFilter(e.target.value)}\r\n                startAdornment={<FilterListIcon sx={{ mr: 1, color: 'text.secondary' }} />}\r\n              >\r\n                <MenuItem value=\"\">Todos los tipos</MenuItem>\r\n                {tiposCambio.map((tipo) => (\r\n                  <MenuItem key={tipo.value} value={tipo.value}>\r\n                    {tipo.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n            <TextField\r\n              label=\"Desde\"\r\n              type=\"date\"\r\n              value={fechaDesde}\r\n              onChange={(e) => setFechaDesde(e.target.value)}\r\n              InputLabelProps={{ shrink: true }}\r\n              sx={{ minWidth: 150 }}\r\n            />\r\n            <TextField\r\n              label=\"Hasta\"\r\n              type=\"date\"\r\n              value={fechaHasta}\r\n              onChange={(e) => setFechaHasta(e.target.value)}\r\n              InputLabelProps={{ shrink: true }}\r\n              sx={{ minWidth: 150 }}\r\n            />\r\n          </Box>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Tabla de historial */}\r\n      <Card>\r\n        <CardContent>\r\n          <TableContainer component={Paper} elevation={2}>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow sx={{ bgcolor: 'primary.main' }}>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>ID</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>Tipo</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>Turno</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>Paciente</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>Médico</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>Descripción</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>Fecha</TableCell>\r\n                  <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>Acciones</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {loading ? (\r\n                  <TableRow>\r\n                    <TableCell colSpan={8} align=\"center\" sx={{ py: 4 }}>\r\n                      <CircularProgress />\r\n                      <Typography variant=\"body2\" sx={{ mt: 1 }}>\r\n                        Cargando historial...\r\n                      </Typography>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ) : filteredHistorial.length === 0 ? (\r\n                  <TableRow>\r\n                    <TableCell colSpan={8} align=\"center\" sx={{ py: 4 }}>\r\n                      <Typography variant=\"body1\" color=\"text.secondary\">\r\n                        {searchTerm || tipoFilter || fechaDesde || fechaHasta \r\n                          ? 'No se encontraron cambios con los filtros aplicados' \r\n                          : 'No hay cambios registrados'}\r\n                      </Typography>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ) : (\r\n                  filteredHistorial.map((cambio) => {\r\n                    const TipoIcon = getTipoIcon(cambio.tipoCambio);\r\n                    return (\r\n                      <TableRow key={cambio.id} hover>\r\n                        <TableCell>\r\n                          <Chip \r\n                            label={`#${cambio.id}`} \r\n                            size=\"small\" \r\n                            color=\"primary\"\r\n                            icon={<HistoryIcon />}\r\n                          />\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Chip\r\n                            label={getTipoLabel(cambio.tipoCambio)}\r\n                            color={getTipoColor(cambio.tipoCambio)}\r\n                            size=\"small\"\r\n                            variant=\"filled\"\r\n                            icon={<TipoIcon />}\r\n                          />\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Chip \r\n                            label={`Turno #${cambio.turnoId}`} \r\n                            size=\"small\" \r\n                            color=\"secondary\"\r\n                            icon={<ScheduleIcon />}\r\n                          />\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Stack direction=\"row\" alignItems=\"center\" spacing={1}>\r\n                            <PersonIcon color=\"action\" fontSize=\"small\" />\r\n                            <Typography variant=\"body2\">\r\n                              {getPacienteNombre(cambio.pacienteId)}\r\n                            </Typography>\r\n                          </Stack>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Stack direction=\"row\" alignItems=\"center\" spacing={1}>\r\n                            <LocalHospitalIcon color=\"action\" fontSize=\"small\" />\r\n                            <Typography variant=\"body2\">\r\n                              {getMedicoNombre(cambio.medicoId)}\r\n                            </Typography>\r\n                          </Stack>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Typography variant=\"body2\" noWrap sx={{ maxWidth: 300 }}>\r\n                            {cambio.descripcion}\r\n                          </Typography>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Typography variant=\"body2\">\r\n                            {formatFechaCorta(cambio.fechaCambio)}\r\n                          </Typography>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Tooltip title=\"Ver Detalle\">\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              onClick={() => handleVerDetalle(cambio)}\r\n                              color=\"primary\"\r\n                            >\r\n                              <VisibilityIcon />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    );\r\n                  })\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Diálogo de detalle */}\r\n      <Dialog open={openDetailDialog} onClose={() => setOpenDetailDialog(false)} maxWidth=\"md\" fullWidth>\r\n        <DialogTitle>\r\n          <Stack direction=\"row\" alignItems=\"center\" spacing={1}>\r\n            <HistoryIcon color=\"primary\" />\r\n            Detalle del Cambio\r\n          </Stack>\r\n        </DialogTitle>\r\n        <Divider />\r\n        <DialogContent>\r\n          {selectedCambio && (\r\n            <Box sx={{ mt: 1 }}>\r\n              <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2 }}>\r\n                <Box sx={{ minWidth: 200, flex: '1 1 200px' }}>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">ID del Cambio</Typography>\r\n                  <Typography variant=\"body1\" sx={{ mb: 2 }}>\r\n                    #{selectedCambio.id}\r\n                  </Typography>\r\n                </Box>\r\n                <Box sx={{ minWidth: 200, flex: '1 1 200px' }}>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">ID del Turno</Typography>\r\n                  <Typography variant=\"body1\" sx={{ mb: 2 }}>\r\n                    #{selectedCambio.turnoId}\r\n                  </Typography>\r\n                </Box>\r\n                <Box sx={{ minWidth: 200, flex: '1 1 200px' }}>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">Tipo de Cambio</Typography>\r\n                  <Chip\r\n                    label={getTipoLabel(selectedCambio.tipoCambio)}\r\n                    color={getTipoColor(selectedCambio.tipoCambio)}\r\n                    size=\"small\"\r\n                    icon={React.createElement(getTipoIcon(selectedCambio.tipoCambio))}\r\n                    sx={{ mb: 2 }}\r\n                  />\r\n                </Box>\r\n                <Box sx={{ minWidth: 200, flex: '1 1 200px' }}>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">Usuario</Typography>\r\n                  <Typography variant=\"body1\" sx={{ mb: 2 }}>\r\n                    {selectedCambio.usuarioId ? `Usuario #${selectedCambio.usuarioId}` : 'Sistema'}\r\n                  </Typography>\r\n                </Box>\r\n                <Box sx={{ flex: '1 1 100%' }}>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">Descripción</Typography>\r\n                  <Typography variant=\"body1\" sx={{ mb: 2, p: 2, bgcolor: 'grey.50', borderRadius: 1 }}>\r\n                    {selectedCambio.descripcion}\r\n                  </Typography>\r\n                </Box>\r\n                \r\n                <Box sx={{ flex: '1 1 100%' }}>\r\n                  <Divider sx={{ my: 2 }} />\r\n                  <Typography variant=\"h6\" sx={{ mb: 2 }}>Información del Turno</Typography>\r\n                </Box>\r\n                <Box sx={{ minWidth: 200, flex: '1 1 200px' }}>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">Paciente</Typography>\r\n                  <Typography variant=\"body1\" sx={{ mb: 2 }}>\r\n                    {getPacienteNombre(selectedCambio.pacienteId)}\r\n                  </Typography>\r\n                </Box>\r\n                <Box sx={{ minWidth: 200, flex: '1 1 200px' }}>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">Médico</Typography>\r\n                  <Typography variant=\"body1\" sx={{ mb: 2 }}>\r\n                    {getMedicoNombre(selectedCambio.medicoId)}\r\n                  </Typography>\r\n                </Box>\r\n                \r\n                {selectedCambio.datosAnteriores && (\r\n                  <>\r\n                    <Box sx={{ flex: '1 1 100%' }}>\r\n                      <Divider sx={{ my: 2 }} />\r\n                      <Typography variant=\"h6\" sx={{ mb: 2 }}>Datos Anteriores</Typography>\r\n                    </Box>\r\n                    <Box sx={{ flex: '1 1 100%' }}>\r\n                      <Accordion>\r\n                        <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n                          <Typography variant=\"subtitle1\">Ver datos anteriores</Typography>\r\n                        </AccordionSummary>\r\n                        <AccordionDetails>\r\n                          <pre style={{ \r\n                            backgroundColor: '#f5f5f5', \r\n                            padding: '16px', \r\n                            borderRadius: '4px',\r\n                            overflow: 'auto',\r\n                            fontSize: '14px'\r\n                          }}>\r\n                            {JSON.stringify(selectedCambio.datosAnteriores, null, 2)}\r\n                          </pre>\r\n                        </AccordionDetails>\r\n                      </Accordion>\r\n                    </Box>\r\n                  </>\r\n                )}\r\n                \r\n                {selectedCambio.datosNuevos && (\r\n                  <>\r\n                    <Box sx={{ flex: '1 1 100%' }}>\r\n                      <Divider sx={{ my: 2 }} />\r\n                      <Typography variant=\"h6\" sx={{ mb: 2 }}>Datos Nuevos</Typography>\r\n                    </Box>\r\n                    <Box sx={{ flex: '1 1 100%' }}>\r\n                      <Accordion>\r\n                        <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n                          <Typography variant=\"subtitle1\">Ver datos nuevos</Typography>\r\n                        </AccordionSummary>\r\n                        <AccordionDetails>\r\n                          <pre style={{ \r\n                            backgroundColor: '#e8f5e8', \r\n                            padding: '16px', \r\n                            borderRadius: '4px',\r\n                            overflow: 'auto',\r\n                            fontSize: '14px'\r\n                          }}>\r\n                            {JSON.stringify(selectedCambio.datosNuevos, null, 2)}\r\n                          </pre>\r\n                        </AccordionDetails>\r\n                      </Accordion>\r\n                    </Box>\r\n                  </>\r\n                )}\r\n                \r\n                <Box sx={{ flex: '1 1 100%' }}>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">Fecha del Cambio</Typography>\r\n                  <Typography variant=\"body1\">\r\n                    {formatFecha(selectedCambio.fechaCambio)}\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n            </Box>\r\n          )}\r\n        </DialogContent>\r\n        <Divider />\r\n        <DialogActions sx={{ p: 2 }}>\r\n          <Button onClick={() => setOpenDetailDialog(false)} variant=\"outlined\">\r\n            Cerrar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Snackbar */}\r\n      <Snackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={6000}\r\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n      >\r\n        <Alert\r\n          onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n          severity={snackbar.severity}\r\n          sx={{ width: '100%' }}\r\n        >\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n}\r\n"],"mappings":"+JAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAC/D,OACEC,GAAG,CACHC,UAAU,CACVC,IAAI,CACJC,WAAW,CACXC,KAAK,CACLC,SAAS,CACTC,SAAS,CACTC,cAAc,CACdC,SAAS,CACTC,QAAQ,CACRC,KAAK,CACLC,IAAI,CACJC,KAAK,CACLC,QAAQ,CACRC,gBAAgB,CAChBC,SAAS,CACTC,WAAW,CACXC,UAAU,CACVC,MAAM,CACNC,QAAQ,CACRC,UAAU,CACVC,OAAO,CACPC,KAAK,CACLC,OAAO,CACPC,MAAM,CACNC,WAAW,CACXC,aAAa,CACbC,aAAa,CACbC,MAAM,CACNC,SAAS,CACTC,gBAAgB,CAChBC,gBAAgB,KACX,eAAe,CACtB,OACEC,OAAO,GAAI,CAAAC,WAAW,CACtBC,MAAM,GAAI,CAAAC,UAAU,CACpBC,UAAU,GAAI,CAAAC,cAAc,CAC5BC,UAAU,GAAI,CAAAC,cAAc,CAC5BC,UAAU,GAAI,CAAAC,cAAc,CAC5BC,MAAM,GAAI,CAAAC,UAAU,CACpBC,aAAa,GAAI,CAAAC,iBAAiB,CAClCC,QAAQ,GAAI,CAAAC,YAAY,CACxBC,IAAI,GAAI,CAAAC,QAAQ,CAChBC,WAAW,GAAI,CAAAC,eAAe,CAC9BC,MAAM,GAAI,CAAAC,UAAU,CACpBC,cAAc,GAAI,CAAAC,kBAAkB,CACpCC,OAAO,GAAI,CAAAC,WAAW,KACjB,qBAAqB,CAC5B,OAASC,MAAM,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAehD,KAAM,CAAAC,WAAW,CAAG,CAClB,CAAEC,KAAK,CAAE,UAAU,CAAEC,KAAK,CAAE,mBAAmB,CAAEC,KAAK,CAAE,SAAkB,CAAEC,IAAI,CAAEtB,YAAa,CAAC,CAChG,CAAEmB,KAAK,CAAE,cAAc,CAAEC,KAAK,CAAE,uBAAuB,CAAEC,KAAK,CAAE,SAAkB,CAAEC,IAAI,CAAEpB,QAAS,CAAC,CACpG,CAAEiB,KAAK,CAAE,cAAc,CAAEC,KAAK,CAAE,uBAAuB,CAAEC,KAAK,CAAE,MAAe,CAAEC,IAAI,CAAElB,eAAgB,CAAC,CACxG,CAAEe,KAAK,CAAE,aAAa,CAAEC,KAAK,CAAE,sBAAsB,CAAEC,KAAK,CAAE,OAAgB,CAAEC,IAAI,CAAEhB,UAAW,CAAC,CAClG,CAAEa,KAAK,CAAE,YAAY,CAAEC,KAAK,CAAE,kBAAkB,CAAEC,KAAK,CAAE,SAAkB,CAAEC,IAAI,CAAEd,kBAAmB,CAAC,CACvG,CAAEW,KAAK,CAAE,SAAS,CAAEC,KAAK,CAAE,sBAAsB,CAAEC,KAAK,CAAE,SAAkB,CAAEC,IAAI,CAAEZ,WAAY,CAAC,CAClG,CAED,cAAe,SAAS,CAAAa,SAASA,CAAA,CAAG,CAClC,KAAM,CAAEC,KAAK,CAAEC,QAAS,CAAC,CAAGd,MAAM,CAAC,CAAC,CACpC,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAG7E,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAC8E,UAAU,CAAEC,aAAa,CAAC,CAAG/E,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACgF,UAAU,CAAEC,aAAa,CAAC,CAAGjF,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACkF,UAAU,CAAEC,aAAa,CAAC,CAAGnF,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACoF,UAAU,CAAEC,aAAa,CAAC,CAAGrF,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACsF,QAAQ,CAAEC,WAAW,CAAC,CAAGvF,QAAQ,CAAC,CAAEwF,IAAI,CAAE,KAAK,CAAEC,OAAO,CAAE,EAAE,CAAEC,QAAQ,CAAE,SAAiC,CAAC,CAAC,CAClH,KAAM,CAACC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAG5F,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAAC6F,cAAc,CAAEC,iBAAiB,CAAC,CAAG9F,QAAQ,CAAyB,IAAI,CAAC,CAElF;AACA,KAAM,CAAC+F,SAAS,CAAEC,YAAY,CAAC,CAAGhG,QAAQ,CAAoB,CAC5D,CACEiG,EAAE,CAAE,CAAC,CACLC,OAAO,CAAE,CAAC,CACVC,UAAU,CAAE,UAAU,CACtBC,WAAW,CAAE,gFAAgF,CAC7FC,SAAS,CAAE,CAAC,CACZC,eAAe,CAAE,IAAI,CACrBC,WAAW,CAAE,CACXC,UAAU,CAAE,CAAC,CACbC,QAAQ,CAAE,CAAC,CACXC,KAAK,CAAE,YAAY,CACnBC,IAAI,CAAE,OAAO,CACbC,MAAM,CAAE,sBACV,CAAC,CACDC,WAAW,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CACrCP,UAAU,CAAE,CAAC,CACbC,QAAQ,CAAE,CACZ,CAAC,CACD,CACER,EAAE,CAAE,CAAC,CACLC,OAAO,CAAE,CAAC,CACVC,UAAU,CAAE,cAAc,CAC1BC,WAAW,CAAE,yCAAyC,CACtDC,SAAS,CAAE,CAAC,CACZC,eAAe,CAAE,CAAEU,MAAM,CAAE,WAAY,CAAC,CACxCT,WAAW,CAAE,CAAES,MAAM,CAAE,YAAa,CAAC,CACrCH,WAAW,CAAE,GAAI,CAAAC,IAAI,CAACA,IAAI,CAACG,GAAG,CAAC,CAAC,CAAG,QAAQ,CAAC,CAACF,WAAW,CAAC,CAAC,CAC1DP,UAAU,CAAE,CAAC,CACbC,QAAQ,CAAE,CACZ,CAAC,CACD,CACER,EAAE,CAAE,CAAC,CACLC,OAAO,CAAE,CAAC,CACVC,UAAU,CAAE,UAAU,CACtBC,WAAW,CAAE,6EAA6E,CAC1FC,SAAS,CAAE,CAAC,CACZC,eAAe,CAAE,IAAI,CACrBC,WAAW,CAAE,CACXC,UAAU,CAAE,CAAC,CACbC,QAAQ,CAAE,CAAC,CACXC,KAAK,CAAE,YAAY,CACnBC,IAAI,CAAE,OAAO,CACbC,MAAM,CAAE,wBACV,CAAC,CACDC,WAAW,CAAE,GAAI,CAAAC,IAAI,CAACA,IAAI,CAACG,GAAG,CAAC,CAAC,CAAG,SAAS,CAAC,CAACF,WAAW,CAAC,CAAC,CAC3DP,UAAU,CAAE,CAAC,CACbC,QAAQ,CAAE,CACZ,CAAC,CACD,CACER,EAAE,CAAE,CAAC,CACLC,OAAO,CAAE,CAAC,CACVC,UAAU,CAAE,aAAa,CACzBC,WAAW,CAAE,uEAAuE,CACpFC,SAAS,CAAE,CAAC,CACZC,eAAe,CAAE,CAAEU,MAAM,CAAE,YAAa,CAAC,CACzCT,WAAW,CAAE,CACXS,MAAM,CAAE,WAAW,CACnBE,iBAAiB,CAAE,4CACrB,CAAC,CACDL,WAAW,CAAE,GAAI,CAAAC,IAAI,CAACA,IAAI,CAACG,GAAG,CAAC,CAAC,CAAG,SAAS,CAAC,CAACF,WAAW,CAAC,CAAC,CAC3DP,UAAU,CAAE,CAAC,CACbC,QAAQ,CAAE,CACZ,CAAC,CACD,CACER,EAAE,CAAE,CAAC,CACLC,OAAO,CAAE,CAAC,CACVC,UAAU,CAAE,UAAU,CACtBC,WAAW,CAAE,mFAAmF,CAChGC,SAAS,CAAE,CAAC,CACZC,eAAe,CAAE,IAAI,CACrBC,WAAW,CAAE,CACXC,UAAU,CAAE,CAAC,CACbC,QAAQ,CAAE,CAAC,CACXC,KAAK,CAAE,YAAY,CACnBC,IAAI,CAAE,OAAO,CACbC,MAAM,CAAE,6BACV,CAAC,CACDC,WAAW,CAAE,GAAI,CAAAC,IAAI,CAACA,IAAI,CAACG,GAAG,CAAC,CAAC,CAAG,SAAS,CAAC,CAACF,WAAW,CAAC,CAAC,CAC3DP,UAAU,CAAE,CAAC,CACbC,QAAQ,CAAE,CACZ,CAAC,CACD,CACER,EAAE,CAAE,CAAC,CACLC,OAAO,CAAE,CAAC,CACVC,UAAU,CAAE,YAAY,CACxBC,WAAW,CAAE,sCAAsC,CACnDC,SAAS,CAAE,CAAC,CACZC,eAAe,CAAE,CAAEU,MAAM,CAAE,YAAa,CAAC,CACzCT,WAAW,CAAE,CAAES,MAAM,CAAE,YAAa,CAAC,CACrCH,WAAW,CAAE,GAAI,CAAAC,IAAI,CAACA,IAAI,CAACG,GAAG,CAAC,CAAC,CAAG,SAAS,CAAC,CAACF,WAAW,CAAC,CAAC,CAC3DP,UAAU,CAAE,CAAC,CACbC,QAAQ,CAAE,CACZ,CAAC,CACF,CAAC,CAEF,KAAM,CAAAU,aAAa,CAAGjH,WAAW,CAAC,SAAY,CAC5C,GAAI,CACF2E,UAAU,CAAC,IAAI,CAAC,CAChB;AACA;AACA;AAEA;AACA,KAAM,IAAI,CAAAuC,OAAO,CAACC,OAAO,EAAIC,UAAU,CAACD,OAAO,CAAE,IAAI,CAAC,CAAC,CAEvD;AACA1C,QAAQ,CAAC,CAAE4C,IAAI,CAAE,eAAe,CAAEC,OAAO,CAAEzB,SAAU,CAAC,CAAC,CACzD,CAAE,MAAO0B,KAAK,CAAE,CACdC,YAAY,CAAC,2BAA2B,CAAE,OAAO,CAAC,CACpD,CAAC,OAAS,CACR7C,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN5E,SAAS,CAAC,IAAM,CACdkH,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,CAACA,aAAa,CAAC,CAAC,CAEnB,KAAM,CAAAO,YAAY,CAAGA,CAACjC,OAAe,CAAEC,QAA6B,GAAK,CACvEH,WAAW,CAAC,CAAEC,IAAI,CAAE,IAAI,CAAEC,OAAO,CAAEC,QAAS,CAAC,CAAC,CAChD,CAAC,CAED,KAAM,CAAAiC,YAAY,CAAIC,IAAY,EAAK,CACrC,KAAM,CAAAC,OAAO,CAAGzD,WAAW,CAAC0D,IAAI,CAACC,CAAC,EAAIA,CAAC,CAAC1D,KAAK,GAAKuD,IAAI,CAAC,CACvD,MAAO,CAAAC,OAAO,CAAGA,OAAO,CAACvD,KAAK,CAAGsD,IAAI,CACvC,CAAC,CAED,KAAM,CAAAI,YAAY,CAAIJ,IAAY,EAAK,CACrC,KAAM,CAAAC,OAAO,CAAGzD,WAAW,CAAC0D,IAAI,CAACC,CAAC,EAAIA,CAAC,CAAC1D,KAAK,GAAKuD,IAAI,CAAC,CACvD,MAAO,CAAAC,OAAO,CAAGA,OAAO,CAACtD,KAAK,CAAG,SAAS,CAC5C,CAAC,CAED,KAAM,CAAA0D,WAAW,CAAIL,IAAY,EAAK,CACpC,KAAM,CAAAC,OAAO,CAAGzD,WAAW,CAAC0D,IAAI,CAACC,CAAC,EAAIA,CAAC,CAAC1D,KAAK,GAAKuD,IAAI,CAAC,CACvD,MAAO,CAAAC,OAAO,CAAGA,OAAO,CAACrD,IAAI,CAAGtB,YAAY,CAC9C,CAAC,CAED,KAAM,CAAAgF,iBAAiB,CAAI1B,UAAmB,EAAa,CACzD,GAAI,CAACA,UAAU,CAAE,MAAO,KAAK,CAC7B,KAAM,CAAA2B,QAAQ,CAAGzD,KAAK,CAAC0D,SAAS,CAACN,IAAI,CAACO,CAAC,EAAIA,CAAC,CAACpC,EAAE,GAAKO,UAAU,CAAC,CAC/D,MAAO,CAAA2B,QAAQ,IAAAG,MAAA,CAAMH,QAAQ,CAACI,MAAM,MAAAD,MAAA,CAAIH,QAAQ,CAACK,QAAQ,EAAK,KAAK,CACrE,CAAC,CAED,KAAM,CAAAC,eAAe,CAAIhC,QAAiB,EAAa,CACrD,GAAI,CAACA,QAAQ,CAAE,MAAO,KAAK,CAC3B,KAAM,CAAAiC,MAAM,CAAGhE,KAAK,CAACiE,OAAO,CAACb,IAAI,CAACc,CAAC,EAAIA,CAAC,CAAC3C,EAAE,GAAKQ,QAAQ,CAAC,CACzD,MAAO,CAAAiC,MAAM,QAAAJ,MAAA,CAAUI,MAAM,CAACH,MAAM,MAAAD,MAAA,CAAII,MAAM,CAACF,QAAQ,EAAK,KAAK,CACnE,CAAC,CAED,KAAM,CAAAK,iBAAiB,CAAG9C,SAAS,CAAC+C,MAAM,CAACC,MAAM,EAAI,CACnD,KAAM,CAAAC,aAAa,CACjBD,MAAM,CAAC3C,WAAW,CAAC6C,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACpE,UAAU,CAACmE,WAAW,CAAC,CAAC,CAAC,EACnEf,iBAAiB,CAACa,MAAM,CAACvC,UAAU,CAAC,CAACyC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACpE,UAAU,CAACmE,WAAW,CAAC,CAAC,CAAC,EACrFR,eAAe,CAACM,MAAM,CAACtC,QAAQ,CAAC,CAACwC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACpE,UAAU,CAACmE,WAAW,CAAC,CAAC,CAAC,CAEnF,KAAM,CAAAE,WAAW,CAAGnE,UAAU,GAAK,EAAE,EAAI+D,MAAM,CAAC5C,UAAU,GAAKnB,UAAU,CAEzE,GAAI,CAAAoE,YAAY,CAAG,IAAI,CACvB,GAAIlE,UAAU,EAAIE,UAAU,CAAE,CAC5B,KAAM,CAAAyB,WAAW,CAAG,GAAI,CAAAC,IAAI,CAACiC,MAAM,CAAClC,WAAW,CAAC,CAChD,KAAM,CAAAwC,KAAK,CAAG,GAAI,CAAAvC,IAAI,CAAC5B,UAAU,CAAC,CAClC,KAAM,CAAAoE,KAAK,CAAG,GAAI,CAAAxC,IAAI,CAAC1B,UAAU,CAAC,CAClCkE,KAAK,CAACC,QAAQ,CAAC,EAAE,CAAE,EAAE,CAAE,EAAE,CAAC,CAAE;AAC5BH,YAAY,CAAGvC,WAAW,EAAIwC,KAAK,EAAIxC,WAAW,EAAIyC,KAAK,CAC7D,CAEA,MAAO,CAAAN,aAAa,EAAIG,WAAW,EAAIC,YAAY,CACrD,CAAC,CAAC,CAEF,KAAM,CAAAI,wBAAwB,CAAGA,CAAA,GAAM,CACrC,KAAM,CAAAC,KAAK,CAAG1D,SAAS,CAAC2D,MAAM,CAC9B,KAAM,CAAAC,UAAU,CAAG5D,SAAS,CAAC+C,MAAM,CAACc,CAAC,EAAIA,CAAC,CAACzD,UAAU,GAAK,UAAU,CAAC,CAACuD,MAAM,CAC5E,KAAM,CAAAG,cAAc,CAAG9D,SAAS,CAAC+C,MAAM,CAACc,CAAC,EAAIA,CAAC,CAACzD,UAAU,GAAK,cAAc,CAAC,CAACuD,MAAM,CACpF,KAAM,CAAAI,cAAc,CAAG/D,SAAS,CAAC+C,MAAM,CAACc,CAAC,EAAIA,CAAC,CAACzD,UAAU,GAAK,cAAc,CAAC,CAACuD,MAAM,CACpF,KAAM,CAAAK,aAAa,CAAGhE,SAAS,CAAC+C,MAAM,CAACc,CAAC,EAAIA,CAAC,CAACzD,UAAU,GAAK,aAAa,CAAC,CAACuD,MAAM,CAClF,KAAM,CAAAM,WAAW,CAAGjE,SAAS,CAAC+C,MAAM,CAACc,CAAC,EAAIA,CAAC,CAACzD,UAAU,GAAK,YAAY,CAAC,CAACuD,MAAM,CAE/E,MAAO,CAAED,KAAK,CAAEE,UAAU,CAAEE,cAAc,CAAEC,cAAc,CAAEC,aAAa,CAAEC,WAAY,CAAC,CAC1F,CAAC,CAED,KAAM,CAAAC,KAAK,CAAGT,wBAAwB,CAAC,CAAC,CAExC,KAAM,CAAAU,gBAAgB,CAAInB,MAAuB,EAAK,CACpDjD,iBAAiB,CAACiD,MAAM,CAAC,CACzBnD,mBAAmB,CAAC,IAAI,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAuE,WAAW,CAAIzD,KAAa,EAAK,CACrC,MAAO,IAAI,CAAAI,IAAI,CAACJ,KAAK,CAAC,CAAC0D,kBAAkB,CAAC,OAAO,CAAE,CACjDC,OAAO,CAAE,MAAM,CACfC,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,MAAM,CACbC,GAAG,CAAE,SAAS,CACdC,IAAI,CAAE,SAAS,CACfC,MAAM,CAAE,SACV,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAIjE,KAAa,EAAK,CAC1C,MAAO,IAAI,CAAAI,IAAI,CAACJ,KAAK,CAAC,CAAC0D,kBAAkB,CAAC,OAAO,CAAE,CACjDI,GAAG,CAAE,SAAS,CACdD,KAAK,CAAE,SAAS,CAChBD,IAAI,CAAE,SAAS,CACfG,IAAI,CAAE,SAAS,CACfC,MAAM,CAAE,SACV,CAAC,CAAC,CACJ,CAAC,CAED,mBACEzG,KAAA,CAAC9D,GAAG,EAAAyK,QAAA,eAEF3G,KAAA,CAAC9D,GAAG,EAAC0K,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAQ,CAAEC,EAAE,CAAE,CAAE,CAAE,CAAAL,QAAA,eACzF3G,KAAA,CAAC7D,UAAU,EAAC8K,OAAO,CAAC,IAAI,CAACL,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEE,UAAU,CAAE,QAAQ,CAAEG,GAAG,CAAE,CAAE,CAAE,CAAAP,QAAA,eAC7E7G,IAAA,CAAC3B,WAAW,EAACmC,KAAK,CAAC,SAAS,CAAE,CAAC,uBAEjC,EAAY,CAAC,cACbR,IAAA,CAAChC,MAAM,EACLmJ,OAAO,CAAC,UAAU,CAClBE,SAAS,cAAErH,IAAA,CAAC3B,WAAW,GAAE,CAAE,CAC3BiJ,OAAO,CAAElE,aAAc,CACvBmE,QAAQ,CAAE1G,OAAQ,CAAAgG,QAAA,CACnB,YAED,CAAQ,CAAC,EACN,CAAC,cAGN3G,KAAA,CAAC9D,GAAG,EAAC0K,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAES,QAAQ,CAAE,MAAM,CAAEJ,GAAG,CAAE,CAAC,CAAEF,EAAE,CAAE,CAAE,CAAE,CAAAL,QAAA,eAC5D7G,IAAA,CAAC1D,IAAI,EAACwK,EAAE,CAAE,CAAEW,SAAS,CAAE,QAAQ,CAAEC,OAAO,CAAE,eAAe,CAAElH,KAAK,CAAE,OAAO,CAAEmH,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,CAAE,CAAE,CAAAf,QAAA,cAClG3G,KAAA,CAAC3D,WAAW,EAAAsK,QAAA,eACV7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,IAAI,CAAAN,QAAA,CAAEX,KAAK,CAACR,KAAK,CAAa,CAAC,cACnD1F,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,OAAO,CAAAN,QAAA,CAAC,eAAa,CAAY,CAAC,EAC3C,CAAC,CACV,CAAC,cACP7G,IAAA,CAAC1D,IAAI,EAACwK,EAAE,CAAE,CAAEW,SAAS,CAAE,QAAQ,CAAEC,OAAO,CAAE,eAAe,CAAElH,KAAK,CAAE,OAAO,CAAEmH,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,CAAE,CAAE,CAAAf,QAAA,cAClG3G,KAAA,CAAC3D,WAAW,EAAAsK,QAAA,eACV7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,IAAI,CAAAN,QAAA,CAAEX,KAAK,CAACN,UAAU,CAAa,CAAC,cACxD5F,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,OAAO,CAAAN,QAAA,CAAC,YAAU,CAAY,CAAC,EACxC,CAAC,CACV,CAAC,cACP7G,IAAA,CAAC1D,IAAI,EAACwK,EAAE,CAAE,CAAEW,SAAS,CAAE,QAAQ,CAAEC,OAAO,CAAE,eAAe,CAAElH,KAAK,CAAE,OAAO,CAAEmH,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,CAAE,CAAE,CAAAf,QAAA,cAClG3G,KAAA,CAAC3D,WAAW,EAAAsK,QAAA,eACV7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,IAAI,CAAAN,QAAA,CAAEX,KAAK,CAACJ,cAAc,CAAa,CAAC,cAC5D9F,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,OAAO,CAAAN,QAAA,CAAC,gBAAc,CAAY,CAAC,EAC5C,CAAC,CACV,CAAC,cACP7G,IAAA,CAAC1D,IAAI,EAACwK,EAAE,CAAE,CAAEW,SAAS,CAAE,QAAQ,CAAEC,OAAO,CAAE,YAAY,CAAElH,KAAK,CAAE,OAAO,CAAEmH,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,CAAE,CAAE,CAAAf,QAAA,cAC/F3G,KAAA,CAAC3D,WAAW,EAAAsK,QAAA,eACV7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,IAAI,CAAAN,QAAA,CAAEX,KAAK,CAACH,cAAc,CAAa,CAAC,cAC5D/F,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,OAAO,CAAAN,QAAA,CAAC,gBAAc,CAAY,CAAC,EAC5C,CAAC,CACV,CAAC,cACP7G,IAAA,CAAC1D,IAAI,EAACwK,EAAE,CAAE,CAAEW,SAAS,CAAE,QAAQ,CAAEC,OAAO,CAAE,aAAa,CAAElH,KAAK,CAAE,OAAO,CAAEmH,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,CAAE,CAAE,CAAAf,QAAA,cAChG3G,KAAA,CAAC3D,WAAW,EAAAsK,QAAA,eACV7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,IAAI,CAAAN,QAAA,CAAEX,KAAK,CAACF,aAAa,CAAa,CAAC,cAC3DhG,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,OAAO,CAAAN,QAAA,CAAC,eAAa,CAAY,CAAC,EAC3C,CAAC,CACV,CAAC,cACP7G,IAAA,CAAC1D,IAAI,EAACwK,EAAE,CAAE,CAAEW,SAAS,CAAE,QAAQ,CAAEC,OAAO,CAAE,iBAAiB,CAAElH,KAAK,CAAE,OAAO,CAAEmH,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,CAAE,CAAE,CAAAf,QAAA,cACpG3G,KAAA,CAAC3D,WAAW,EAAAsK,QAAA,eACV7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,IAAI,CAAAN,QAAA,CAAEX,KAAK,CAACD,WAAW,CAAa,CAAC,cACzDjG,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,OAAO,CAAAN,QAAA,CAAC,aAAW,CAAY,CAAC,EACzC,CAAC,CACV,CAAC,EACJ,CAAC,cAGN7G,IAAA,CAAC1D,IAAI,EAACwK,EAAE,CAAE,CAAEI,EAAE,CAAE,CAAE,CAAE,CAAAL,QAAA,cAClB7G,IAAA,CAACzD,WAAW,EAAAsK,QAAA,cACV3G,KAAA,CAAC9D,GAAG,EAAC0K,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAES,QAAQ,CAAE,MAAM,CAAEJ,GAAG,CAAE,CAAC,CAAEH,UAAU,CAAE,QAAS,CAAE,CAAAJ,QAAA,eAC3E7G,IAAA,CAAC7C,SAAS,EACR0K,WAAW,CAAC,oDAA8C,CAC1DvH,KAAK,CAAES,UAAW,CAClB+G,QAAQ,CAAGC,CAAC,EAAK/G,aAAa,CAAC+G,CAAC,CAACC,MAAM,CAAC1H,KAAK,CAAE,CAC/C2H,UAAU,CAAE,CACVC,cAAc,cAAElI,IAAA,CAACzB,UAAU,EAACuI,EAAE,CAAE,CAAEqB,EAAE,CAAE,CAAC,CAAE3H,KAAK,CAAE,gBAAiB,CAAE,CAAE,CACvE,CAAE,CACFsG,EAAE,CAAE,CAAEc,IAAI,CAAE,CAAC,CAAED,QAAQ,CAAE,GAAI,CAAE,CAChC,CAAC,cACFzH,KAAA,CAAC9C,WAAW,EAAC0J,EAAE,CAAE,CAAEa,QAAQ,CAAE,GAAI,CAAE,CAAAd,QAAA,eACjC7G,IAAA,CAAC3C,UAAU,EAAAwJ,QAAA,CAAC,gBAAc,CAAY,CAAC,cACvC3G,KAAA,CAAC5C,MAAM,EACLgD,KAAK,CAAEW,UAAW,CAClBV,KAAK,CAAC,gBAAgB,CACtBuH,QAAQ,CAAGC,CAAC,EAAK7G,aAAa,CAAC6G,CAAC,CAACC,MAAM,CAAC1H,KAAK,CAAE,CAC/C4H,cAAc,cAAElI,IAAA,CAACvB,cAAc,EAACqI,EAAE,CAAE,CAAEqB,EAAE,CAAE,CAAC,CAAE3H,KAAK,CAAE,gBAAiB,CAAE,CAAE,CAAE,CAAAqG,QAAA,eAE3E7G,IAAA,CAACzC,QAAQ,EAAC+C,KAAK,CAAC,EAAE,CAAAuG,QAAA,CAAC,iBAAe,CAAU,CAAC,CAC5CxG,WAAW,CAAC+H,GAAG,CAAEvE,IAAI,eACpB7D,IAAA,CAACzC,QAAQ,EAAkB+C,KAAK,CAAEuD,IAAI,CAACvD,KAAM,CAAAuG,QAAA,CAC1ChD,IAAI,CAACtD,KAAK,EADEsD,IAAI,CAACvD,KAEV,CACX,CAAC,EACI,CAAC,EACE,CAAC,cACdN,IAAA,CAAC7C,SAAS,EACRoD,KAAK,CAAC,OAAO,CACbiD,IAAI,CAAC,MAAM,CACXlD,KAAK,CAAEa,UAAW,CAClB2G,QAAQ,CAAGC,CAAC,EAAK3G,aAAa,CAAC2G,CAAC,CAACC,MAAM,CAAC1H,KAAK,CAAE,CAC/C+H,eAAe,CAAE,CAAEC,MAAM,CAAE,IAAK,CAAE,CAClCxB,EAAE,CAAE,CAAEa,QAAQ,CAAE,GAAI,CAAE,CACvB,CAAC,cACF3H,IAAA,CAAC7C,SAAS,EACRoD,KAAK,CAAC,OAAO,CACbiD,IAAI,CAAC,MAAM,CACXlD,KAAK,CAAEe,UAAW,CAClByG,QAAQ,CAAGC,CAAC,EAAKzG,aAAa,CAACyG,CAAC,CAACC,MAAM,CAAC1H,KAAK,CAAE,CAC/C+H,eAAe,CAAE,CAAEC,MAAM,CAAE,IAAK,CAAE,CAClCxB,EAAE,CAAE,CAAEa,QAAQ,CAAE,GAAI,CAAE,CACvB,CAAC,EACC,CAAC,CACK,CAAC,CACV,CAAC,cAGP3H,IAAA,CAAC1D,IAAI,EAAAuK,QAAA,cACH7G,IAAA,CAACzD,WAAW,EAAAsK,QAAA,cACV7G,IAAA,CAACrD,cAAc,EAAC4L,SAAS,CAAEzL,KAAM,CAAC0L,SAAS,CAAE,CAAE,CAAA3B,QAAA,cAC7C3G,KAAA,CAAC1D,KAAK,EAAAqK,QAAA,eACJ7G,IAAA,CAACpD,SAAS,EAAAiK,QAAA,cACR3G,KAAA,CAACrD,QAAQ,EAACiK,EAAE,CAAE,CAAEY,OAAO,CAAE,cAAe,CAAE,CAAAb,QAAA,eACxC7G,IAAA,CAACtD,SAAS,EAACoK,EAAE,CAAE,CAAEtG,KAAK,CAAE,OAAO,CAAEiI,UAAU,CAAE,MAAO,CAAE,CAAA5B,QAAA,CAAC,IAAE,CAAW,CAAC,cACrE7G,IAAA,CAACtD,SAAS,EAACoK,EAAE,CAAE,CAAEtG,KAAK,CAAE,OAAO,CAAEiI,UAAU,CAAE,MAAO,CAAE,CAAA5B,QAAA,CAAC,MAAI,CAAW,CAAC,cACvE7G,IAAA,CAACtD,SAAS,EAACoK,EAAE,CAAE,CAAEtG,KAAK,CAAE,OAAO,CAAEiI,UAAU,CAAE,MAAO,CAAE,CAAA5B,QAAA,CAAC,OAAK,CAAW,CAAC,cACxE7G,IAAA,CAACtD,SAAS,EAACoK,EAAE,CAAE,CAAEtG,KAAK,CAAE,OAAO,CAAEiI,UAAU,CAAE,MAAO,CAAE,CAAA5B,QAAA,CAAC,UAAQ,CAAW,CAAC,cAC3E7G,IAAA,CAACtD,SAAS,EAACoK,EAAE,CAAE,CAAEtG,KAAK,CAAE,OAAO,CAAEiI,UAAU,CAAE,MAAO,CAAE,CAAA5B,QAAA,CAAC,WAAM,CAAW,CAAC,cACzE7G,IAAA,CAACtD,SAAS,EAACoK,EAAE,CAAE,CAAEtG,KAAK,CAAE,OAAO,CAAEiI,UAAU,CAAE,MAAO,CAAE,CAAA5B,QAAA,CAAC,gBAAW,CAAW,CAAC,cAC9E7G,IAAA,CAACtD,SAAS,EAACoK,EAAE,CAAE,CAAEtG,KAAK,CAAE,OAAO,CAAEiI,UAAU,CAAE,MAAO,CAAE,CAAA5B,QAAA,CAAC,OAAK,CAAW,CAAC,cACxE7G,IAAA,CAACtD,SAAS,EAACoK,EAAE,CAAE,CAAEtG,KAAK,CAAE,OAAO,CAAEiI,UAAU,CAAE,MAAO,CAAE,CAAA5B,QAAA,CAAC,UAAQ,CAAW,CAAC,EACnE,CAAC,CACF,CAAC,cACZ7G,IAAA,CAACvD,SAAS,EAAAoK,QAAA,CACPhG,OAAO,cACNb,IAAA,CAACnD,QAAQ,EAAAgK,QAAA,cACP3G,KAAA,CAACxD,SAAS,EAACgM,OAAO,CAAE,CAAE,CAACC,KAAK,CAAC,QAAQ,CAAC7B,EAAE,CAAE,CAAE8B,EAAE,CAAE,CAAE,CAAE,CAAA/B,QAAA,eAClD7G,IAAA,CAAC9C,gBAAgB,GAAE,CAAC,cACpB8C,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,OAAO,CAACL,EAAE,CAAE,CAAE+B,EAAE,CAAE,CAAE,CAAE,CAAAhC,QAAA,CAAC,uBAE3C,CAAY,CAAC,EACJ,CAAC,CACJ,CAAC,CACT/B,iBAAiB,CAACa,MAAM,GAAK,CAAC,cAChC3F,IAAA,CAACnD,QAAQ,EAAAgK,QAAA,cACP7G,IAAA,CAACtD,SAAS,EAACgM,OAAO,CAAE,CAAE,CAACC,KAAK,CAAC,QAAQ,CAAC7B,EAAE,CAAE,CAAE8B,EAAE,CAAE,CAAE,CAAE,CAAA/B,QAAA,cAClD7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,OAAO,CAAC3G,KAAK,CAAC,gBAAgB,CAAAqG,QAAA,CAC/C9F,UAAU,EAAIE,UAAU,EAAIE,UAAU,EAAIE,UAAU,CACjD,qDAAqD,CACrD,4BAA4B,CACtB,CAAC,CACJ,CAAC,CACJ,CAAC,CAEXyD,iBAAiB,CAACsD,GAAG,CAAEpD,MAAM,EAAK,CAChC,KAAM,CAAA8D,QAAQ,CAAG5E,WAAW,CAACc,MAAM,CAAC5C,UAAU,CAAC,CAC/C,mBACElC,KAAA,CAACrD,QAAQ,EAAiBkM,KAAK,MAAAlC,QAAA,eAC7B7G,IAAA,CAACtD,SAAS,EAAAmK,QAAA,cACR7G,IAAA,CAACjD,IAAI,EACHwD,KAAK,KAAAgE,MAAA,CAAMS,MAAM,CAAC9C,EAAE,CAAG,CACvB8G,IAAI,CAAC,OAAO,CACZxI,KAAK,CAAC,SAAS,CACfC,IAAI,cAAET,IAAA,CAAC3B,WAAW,GAAE,CAAE,CACvB,CAAC,CACO,CAAC,cACZ2B,IAAA,CAACtD,SAAS,EAAAmK,QAAA,cACR7G,IAAA,CAACjD,IAAI,EACHwD,KAAK,CAAEqD,YAAY,CAACoB,MAAM,CAAC5C,UAAU,CAAE,CACvC5B,KAAK,CAAEyD,YAAY,CAACe,MAAM,CAAC5C,UAAU,CAAE,CACvC4G,IAAI,CAAC,OAAO,CACZ7B,OAAO,CAAC,QAAQ,CAChB1G,IAAI,cAAET,IAAA,CAAC8I,QAAQ,GAAE,CAAE,CACpB,CAAC,CACO,CAAC,cACZ9I,IAAA,CAACtD,SAAS,EAAAmK,QAAA,cACR7G,IAAA,CAACjD,IAAI,EACHwD,KAAK,WAAAgE,MAAA,CAAYS,MAAM,CAAC7C,OAAO,CAAG,CAClC6G,IAAI,CAAC,OAAO,CACZxI,KAAK,CAAC,WAAW,CACjBC,IAAI,cAAET,IAAA,CAACb,YAAY,GAAE,CAAE,CACxB,CAAC,CACO,CAAC,cACZa,IAAA,CAACtD,SAAS,EAAAmK,QAAA,cACR3G,KAAA,CAACxC,KAAK,EAACuL,SAAS,CAAC,KAAK,CAAChC,UAAU,CAAC,QAAQ,CAACiC,OAAO,CAAE,CAAE,CAAArC,QAAA,eACpD7G,IAAA,CAACjB,UAAU,EAACyB,KAAK,CAAC,QAAQ,CAAC2I,QAAQ,CAAC,OAAO,CAAE,CAAC,cAC9CnJ,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,OAAO,CAAAN,QAAA,CACxB1C,iBAAiB,CAACa,MAAM,CAACvC,UAAU,CAAC,CAC3B,CAAC,EACR,CAAC,CACC,CAAC,cACZzC,IAAA,CAACtD,SAAS,EAAAmK,QAAA,cACR3G,KAAA,CAACxC,KAAK,EAACuL,SAAS,CAAC,KAAK,CAAChC,UAAU,CAAC,QAAQ,CAACiC,OAAO,CAAE,CAAE,CAAArC,QAAA,eACpD7G,IAAA,CAACf,iBAAiB,EAACuB,KAAK,CAAC,QAAQ,CAAC2I,QAAQ,CAAC,OAAO,CAAE,CAAC,cACrDnJ,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,OAAO,CAAAN,QAAA,CACxBnC,eAAe,CAACM,MAAM,CAACtC,QAAQ,CAAC,CACvB,CAAC,EACR,CAAC,CACC,CAAC,cACZ1C,IAAA,CAACtD,SAAS,EAAAmK,QAAA,cACR7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,OAAO,CAACiC,MAAM,MAACtC,EAAE,CAAE,CAAEuC,QAAQ,CAAE,GAAI,CAAE,CAAAxC,QAAA,CACtD7B,MAAM,CAAC3C,WAAW,CACT,CAAC,CACJ,CAAC,cACZrC,IAAA,CAACtD,SAAS,EAAAmK,QAAA,cACR7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,OAAO,CAAAN,QAAA,CACxBD,gBAAgB,CAAC5B,MAAM,CAAClC,WAAW,CAAC,CAC3B,CAAC,CACJ,CAAC,cACZ9C,IAAA,CAACtD,SAAS,EAAAmK,QAAA,cACR7G,IAAA,CAACvC,OAAO,EAAC6L,KAAK,CAAC,aAAa,CAAAzC,QAAA,cAC1B7G,IAAA,CAACxC,UAAU,EACTwL,IAAI,CAAC,OAAO,CACZ1B,OAAO,CAAEA,CAAA,GAAMnB,gBAAgB,CAACnB,MAAM,CAAE,CACxCxE,KAAK,CAAC,SAAS,CAAAqG,QAAA,cAEf7G,IAAA,CAACrB,cAAc,GAAE,CAAC,CACR,CAAC,CACN,CAAC,CACD,CAAC,GA9DCqG,MAAM,CAAC9C,EA+DZ,CAAC,CAEf,CAAC,CACF,CACQ,CAAC,EACP,CAAC,CACM,CAAC,CACN,CAAC,CACV,CAAC,cAGPhC,KAAA,CAACtC,MAAM,EAAC6D,IAAI,CAAEG,gBAAiB,CAAC2H,OAAO,CAAEA,CAAA,GAAM1H,mBAAmB,CAAC,KAAK,CAAE,CAACwH,QAAQ,CAAC,IAAI,CAACG,SAAS,MAAA3C,QAAA,eAChG7G,IAAA,CAACnC,WAAW,EAAAgJ,QAAA,cACV3G,KAAA,CAACxC,KAAK,EAACuL,SAAS,CAAC,KAAK,CAAChC,UAAU,CAAC,QAAQ,CAACiC,OAAO,CAAE,CAAE,CAAArC,QAAA,eACpD7G,IAAA,CAAC3B,WAAW,EAACmC,KAAK,CAAC,SAAS,CAAE,CAAC,qBAEjC,EAAO,CAAC,CACG,CAAC,cACdR,IAAA,CAACrC,OAAO,GAAE,CAAC,cACXqC,IAAA,CAAClC,aAAa,EAAA+I,QAAA,CACX/E,cAAc,eACb9B,IAAA,CAAC5D,GAAG,EAAC0K,EAAE,CAAE,CAAE+B,EAAE,CAAE,CAAE,CAAE,CAAAhC,QAAA,cACjB3G,KAAA,CAAC9D,GAAG,EAAC0K,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAES,QAAQ,CAAE,MAAM,CAAEJ,GAAG,CAAE,CAAE,CAAE,CAAAP,QAAA,eACrD3G,KAAA,CAAC9D,GAAG,EAAC0K,EAAE,CAAE,CAAEa,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CAAAf,QAAA,eAC5C7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,WAAW,CAAC3G,KAAK,CAAC,gBAAgB,CAAAqG,QAAA,CAAC,eAAa,CAAY,CAAC,cACjF3G,KAAA,CAAC7D,UAAU,EAAC8K,OAAO,CAAC,OAAO,CAACL,EAAE,CAAE,CAAEI,EAAE,CAAE,CAAE,CAAE,CAAAL,QAAA,EAAC,GACxC,CAAC/E,cAAc,CAACI,EAAE,EACT,CAAC,EACV,CAAC,cACNhC,KAAA,CAAC9D,GAAG,EAAC0K,EAAE,CAAE,CAAEa,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CAAAf,QAAA,eAC5C7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,WAAW,CAAC3G,KAAK,CAAC,gBAAgB,CAAAqG,QAAA,CAAC,cAAY,CAAY,CAAC,cAChF3G,KAAA,CAAC7D,UAAU,EAAC8K,OAAO,CAAC,OAAO,CAACL,EAAE,CAAE,CAAEI,EAAE,CAAE,CAAE,CAAE,CAAAL,QAAA,EAAC,GACxC,CAAC/E,cAAc,CAACK,OAAO,EACd,CAAC,EACV,CAAC,cACNjC,KAAA,CAAC9D,GAAG,EAAC0K,EAAE,CAAE,CAAEa,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CAAAf,QAAA,eAC5C7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,WAAW,CAAC3G,KAAK,CAAC,gBAAgB,CAAAqG,QAAA,CAAC,gBAAc,CAAY,CAAC,cAClF7G,IAAA,CAACjD,IAAI,EACHwD,KAAK,CAAEqD,YAAY,CAAC9B,cAAc,CAACM,UAAU,CAAE,CAC/C5B,KAAK,CAAEyD,YAAY,CAACnC,cAAc,CAACM,UAAU,CAAE,CAC/C4G,IAAI,CAAC,OAAO,CACZvI,IAAI,cAAEzE,KAAK,CAACyN,aAAa,CAACvF,WAAW,CAACpC,cAAc,CAACM,UAAU,CAAC,CAAE,CAClE0E,EAAE,CAAE,CAAEI,EAAE,CAAE,CAAE,CAAE,CACf,CAAC,EACC,CAAC,cACNhH,KAAA,CAAC9D,GAAG,EAAC0K,EAAE,CAAE,CAAEa,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CAAAf,QAAA,eAC5C7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,WAAW,CAAC3G,KAAK,CAAC,gBAAgB,CAAAqG,QAAA,CAAC,SAAO,CAAY,CAAC,cAC3E7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,OAAO,CAACL,EAAE,CAAE,CAAEI,EAAE,CAAE,CAAE,CAAE,CAAAL,QAAA,CACvC/E,cAAc,CAACQ,SAAS,aAAAiC,MAAA,CAAezC,cAAc,CAACQ,SAAS,EAAK,SAAS,CACpE,CAAC,EACV,CAAC,cACNpC,KAAA,CAAC9D,GAAG,EAAC0K,EAAE,CAAE,CAAEc,IAAI,CAAE,UAAW,CAAE,CAAAf,QAAA,eAC5B7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,WAAW,CAAC3G,KAAK,CAAC,gBAAgB,CAAAqG,QAAA,CAAC,gBAAW,CAAY,CAAC,cAC/E7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,OAAO,CAACL,EAAE,CAAE,CAAEI,EAAE,CAAE,CAAC,CAAE5C,CAAC,CAAE,CAAC,CAAEoD,OAAO,CAAE,SAAS,CAAEgC,YAAY,CAAE,CAAE,CAAE,CAAA7C,QAAA,CAClF/E,cAAc,CAACO,WAAW,CACjB,CAAC,EACV,CAAC,cAENnC,KAAA,CAAC9D,GAAG,EAAC0K,EAAE,CAAE,CAAEc,IAAI,CAAE,UAAW,CAAE,CAAAf,QAAA,eAC5B7G,IAAA,CAACrC,OAAO,EAACmJ,EAAE,CAAE,CAAE6C,EAAE,CAAE,CAAE,CAAE,CAAE,CAAC,cAC1B3J,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,IAAI,CAACL,EAAE,CAAE,CAAEI,EAAE,CAAE,CAAE,CAAE,CAAAL,QAAA,CAAC,0BAAqB,CAAY,CAAC,EACvE,CAAC,cACN3G,KAAA,CAAC9D,GAAG,EAAC0K,EAAE,CAAE,CAAEa,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CAAAf,QAAA,eAC5C7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,WAAW,CAAC3G,KAAK,CAAC,gBAAgB,CAAAqG,QAAA,CAAC,UAAQ,CAAY,CAAC,cAC5E7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,OAAO,CAACL,EAAE,CAAE,CAAEI,EAAE,CAAE,CAAE,CAAE,CAAAL,QAAA,CACvC1C,iBAAiB,CAACrC,cAAc,CAACW,UAAU,CAAC,CACnC,CAAC,EACV,CAAC,cACNvC,KAAA,CAAC9D,GAAG,EAAC0K,EAAE,CAAE,CAAEa,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CAAAf,QAAA,eAC5C7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,WAAW,CAAC3G,KAAK,CAAC,gBAAgB,CAAAqG,QAAA,CAAC,WAAM,CAAY,CAAC,cAC1E7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,OAAO,CAACL,EAAE,CAAE,CAAEI,EAAE,CAAE,CAAE,CAAE,CAAAL,QAAA,CACvCnC,eAAe,CAAC5C,cAAc,CAACY,QAAQ,CAAC,CAC/B,CAAC,EACV,CAAC,CAELZ,cAAc,CAACS,eAAe,eAC7BrC,KAAA,CAAAE,SAAA,EAAAyG,QAAA,eACE3G,KAAA,CAAC9D,GAAG,EAAC0K,EAAE,CAAE,CAAEc,IAAI,CAAE,UAAW,CAAE,CAAAf,QAAA,eAC5B7G,IAAA,CAACrC,OAAO,EAACmJ,EAAE,CAAE,CAAE6C,EAAE,CAAE,CAAE,CAAE,CAAE,CAAC,cAC1B3J,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,IAAI,CAACL,EAAE,CAAE,CAAEI,EAAE,CAAE,CAAE,CAAE,CAAAL,QAAA,CAAC,kBAAgB,CAAY,CAAC,EAClE,CAAC,cACN7G,IAAA,CAAC5D,GAAG,EAAC0K,EAAE,CAAE,CAAEc,IAAI,CAAE,UAAW,CAAE,CAAAf,QAAA,cAC5B3G,KAAA,CAACjC,SAAS,EAAA4I,QAAA,eACR7G,IAAA,CAAC9B,gBAAgB,EAAC0L,UAAU,cAAE5J,IAAA,CAACnB,cAAc,GAAE,CAAE,CAAAgI,QAAA,cAC/C7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,WAAW,CAAAN,QAAA,CAAC,sBAAoB,CAAY,CAAC,CACjD,CAAC,cACnB7G,IAAA,CAAC7B,gBAAgB,EAAA0I,QAAA,cACf7G,IAAA,QAAK6J,KAAK,CAAE,CACVC,eAAe,CAAE,SAAS,CAC1BC,OAAO,CAAE,MAAM,CACfL,YAAY,CAAE,KAAK,CACnBM,QAAQ,CAAE,MAAM,CAChBb,QAAQ,CAAE,MACZ,CAAE,CAAAtC,QAAA,CACCoD,IAAI,CAACC,SAAS,CAACpI,cAAc,CAACS,eAAe,CAAE,IAAI,CAAE,CAAC,CAAC,CACrD,CAAC,CACU,CAAC,EACV,CAAC,CACT,CAAC,EACN,CACH,CAEAT,cAAc,CAACU,WAAW,eACzBtC,KAAA,CAAAE,SAAA,EAAAyG,QAAA,eACE3G,KAAA,CAAC9D,GAAG,EAAC0K,EAAE,CAAE,CAAEc,IAAI,CAAE,UAAW,CAAE,CAAAf,QAAA,eAC5B7G,IAAA,CAACrC,OAAO,EAACmJ,EAAE,CAAE,CAAE6C,EAAE,CAAE,CAAE,CAAE,CAAE,CAAC,cAC1B3J,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,IAAI,CAACL,EAAE,CAAE,CAAEI,EAAE,CAAE,CAAE,CAAE,CAAAL,QAAA,CAAC,cAAY,CAAY,CAAC,EAC9D,CAAC,cACN7G,IAAA,CAAC5D,GAAG,EAAC0K,EAAE,CAAE,CAAEc,IAAI,CAAE,UAAW,CAAE,CAAAf,QAAA,cAC5B3G,KAAA,CAACjC,SAAS,EAAA4I,QAAA,eACR7G,IAAA,CAAC9B,gBAAgB,EAAC0L,UAAU,cAAE5J,IAAA,CAACnB,cAAc,GAAE,CAAE,CAAAgI,QAAA,cAC/C7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,WAAW,CAAAN,QAAA,CAAC,kBAAgB,CAAY,CAAC,CAC7C,CAAC,cACnB7G,IAAA,CAAC7B,gBAAgB,EAAA0I,QAAA,cACf7G,IAAA,QAAK6J,KAAK,CAAE,CACVC,eAAe,CAAE,SAAS,CAC1BC,OAAO,CAAE,MAAM,CACfL,YAAY,CAAE,KAAK,CACnBM,QAAQ,CAAE,MAAM,CAChBb,QAAQ,CAAE,MACZ,CAAE,CAAAtC,QAAA,CACCoD,IAAI,CAACC,SAAS,CAACpI,cAAc,CAACU,WAAW,CAAE,IAAI,CAAE,CAAC,CAAC,CACjD,CAAC,CACU,CAAC,EACV,CAAC,CACT,CAAC,EACN,CACH,cAEDtC,KAAA,CAAC9D,GAAG,EAAC0K,EAAE,CAAE,CAAEc,IAAI,CAAE,UAAW,CAAE,CAAAf,QAAA,eAC5B7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,WAAW,CAAC3G,KAAK,CAAC,gBAAgB,CAAAqG,QAAA,CAAC,kBAAgB,CAAY,CAAC,cACpF7G,IAAA,CAAC3D,UAAU,EAAC8K,OAAO,CAAC,OAAO,CAAAN,QAAA,CACxBT,WAAW,CAACtE,cAAc,CAACgB,WAAW,CAAC,CAC9B,CAAC,EACV,CAAC,EACH,CAAC,CACH,CACN,CACY,CAAC,cAChB9C,IAAA,CAACrC,OAAO,GAAE,CAAC,cACXqC,IAAA,CAACjC,aAAa,EAAC+I,EAAE,CAAE,CAAExC,CAAC,CAAE,CAAE,CAAE,CAAAuC,QAAA,cAC1B7G,IAAA,CAAChC,MAAM,EAACsJ,OAAO,CAAEA,CAAA,GAAMzF,mBAAmB,CAAC,KAAK,CAAE,CAACsF,OAAO,CAAC,UAAU,CAAAN,QAAA,CAAC,QAEtE,CAAQ,CAAC,CACI,CAAC,EACV,CAAC,cAGT7G,IAAA,CAAC/C,QAAQ,EACPwE,IAAI,CAAEF,QAAQ,CAACE,IAAK,CACpB0I,gBAAgB,CAAE,IAAK,CACvBZ,OAAO,CAAEA,CAAA,GAAM/H,WAAW,CAAA4I,aAAA,CAAAA,aAAA,IAAM7I,QAAQ,MAAEE,IAAI,CAAE,KAAK,EAAE,CAAE,CAAAoF,QAAA,cAEzD7G,IAAA,CAAChD,KAAK,EACJuM,OAAO,CAAEA,CAAA,GAAM/H,WAAW,CAAA4I,aAAA,CAAAA,aAAA,IAAM7I,QAAQ,MAAEE,IAAI,CAAE,KAAK,EAAE,CAAE,CACzDE,QAAQ,CAAEJ,QAAQ,CAACI,QAAS,CAC5BmF,EAAE,CAAE,CAAEuD,KAAK,CAAE,MAAO,CAAE,CAAAxD,QAAA,CAErBtF,QAAQ,CAACG,OAAO,CACZ,CAAC,CACA,CAAC,EACR,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}